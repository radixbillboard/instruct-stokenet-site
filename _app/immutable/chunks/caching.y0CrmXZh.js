var Hc=Object.defineProperty;var Jc=(e,t,n)=>t in e?Hc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var vn=(e,t,n)=>(Jc(e,typeof t!="symbol"?t+"":t,n),n);import{s as mr,y as nt,T as Ur,U as zr,a as ot,d as me,f as On,V as Vr,i as Tt,g as Sn,u as B,n as Mr,w as ya,E as An,W as Wi,F as In,L as M,aj as Ks,a4 as $c,z as Nn,j as Xc,e as Pn,l as Qc,t as Yc,c as Cn,m as ed,b as td,r as It,h as nd,B as rd,H as Ki,A as Br,I as Gi,J as Hi,K as Ji,Z as Gs}from"./scheduler.3290unkr.js";import{S as ga,i as va,t as Ie,g as $i,d as Ve,f as Xi,h as Hs,c as ru,a as au,m as iu,e as su}from"./index.ogpWc0fe.js";import{w as Qi,d as ad}from"./index.Hduz1s-6.js";import{R as id,t as ir,g as _r}from"./bundle-mjs.N7ra371j.js";import{_ as sd}from"./preload-helper.0HuHagjb.js";const od="account_tdx_2_12965dt6lhlzuvkpys7eec8pz3p37k2j0mwj5p3fry2y5r4fk8jq7u0",Yi=Number.parseInt("2"),I0="main-view-container",N0=3,D0=3,Js=`instruct:network-${Yi}:`,$s="1",j0=60,q0=id.Utils.knownAddresses(Yi);function ud(e){let t,n,r,a,i,s=[{xmlns:"http://www.w3.org/2000/svg"},{fill:"currentColor"},e[4],{class:r=ir("shrink-0",e[3][e[0]],e[5].class)},{role:e[1]},{"aria-label":e[2]},{viewBox:"0 0 20 20"}],o={};for(let l=0;l<s.length;l+=1)o=nt(o,s[l]);return{c(){t=Ur("svg"),n=Ur("path"),this.h()},l(l){t=zr(l,"svg",{xmlns:!0,fill:!0,class:!0,role:!0,"aria-label":!0,viewBox:!0});var u=ot(t);n=zr(u,"path",{fill:!0,d:!0}),ot(n).forEach(me),u.forEach(me),this.h()},h(){On(n,"fill","currentColor"),On(n,"d","M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 8.207-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L9 10.586l3.293-3.293a1 1 0 0 1 1.414 1.414Z"),Vr(t,o)},m(l,u){Tt(l,t,u),Sn(t,n),a||(i=[B(t,"click",e[6]),B(t,"keydown",e[7]),B(t,"keyup",e[8]),B(t,"focus",e[9]),B(t,"blur",e[10]),B(t,"mouseenter",e[11]),B(t,"mouseleave",e[12]),B(t,"mouseover",e[13]),B(t,"mouseout",e[14])],a=!0)},p(l,[u]){Vr(t,o=_r(s,[{xmlns:"http://www.w3.org/2000/svg"},{fill:"currentColor"},u&16&&l[4],u&33&&r!==(r=ir("shrink-0",l[3][l[0]],l[5].class))&&{class:r},u&2&&{role:l[1]},u&4&&{"aria-label":l[2]},{viewBox:"0 0 20 20"}]))},i:Mr,o:Mr,d(l){l&&me(t),a=!1,ya(i)}}}function ld(e,t,n){const r=["size","role","ariaLabel"];let a=An(t,r);const i=Wi("iconCtx")??{},s={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"};let{size:o=i.size||"md"}=t,{role:l=i.role||"img"}=t,{ariaLabel:u="check circle solid"}=t;function d(m){M.call(this,e,m)}function y(m){M.call(this,e,m)}function f(m){M.call(this,e,m)}function g(m){M.call(this,e,m)}function b(m){M.call(this,e,m)}function _(m){M.call(this,e,m)}function x(m){M.call(this,e,m)}function O(m){M.call(this,e,m)}function j(m){M.call(this,e,m)}return e.$$set=m=>{n(5,t=nt(nt({},t),In(m))),n(4,a=An(t,r)),"size"in m&&n(0,o=m.size),"role"in m&&n(1,l=m.role),"ariaLabel"in m&&n(2,u=m.ariaLabel)},t=In(t),[o,l,u,s,a,t,d,y,f,g,b,_,x,O,j]}class cd extends ga{constructor(t){super(),va(this,t,ld,ud,mr,{size:0,role:1,ariaLabel:2})}}function dd(e){let t,n,r,a,i,s=[{xmlns:"http://www.w3.org/2000/svg"},{fill:"currentColor"},e[4],{class:r=ir("shrink-0",e[3][e[0]],e[5].class)},{role:e[1]},{"aria-label":e[2]},{viewBox:"0 0 20 20"}],o={};for(let l=0;l<s.length;l+=1)o=nt(o,s[l]);return{c(){t=Ur("svg"),n=Ur("path"),this.h()},l(l){t=zr(l,"svg",{xmlns:!0,fill:!0,class:!0,role:!0,"aria-label":!0,viewBox:!0});var u=ot(t);n=zr(u,"path",{fill:!0,d:!0}),ot(n).forEach(me),u.forEach(me),this.h()},h(){On(n,"fill","currentColor"),On(n,"d","M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5Zm3.707 11.793a1 1 0 1 1-1.414 1.414L10 11.414l-2.293 2.293a1 1 0 0 1-1.414-1.414L8.586 10 6.293 7.707a1 1 0 0 1 1.414-1.414L10 8.586l2.293-2.293a1 1 0 0 1 1.414 1.414L11.414 10l2.293 2.293Z"),Vr(t,o)},m(l,u){Tt(l,t,u),Sn(t,n),a||(i=[B(t,"click",e[6]),B(t,"keydown",e[7]),B(t,"keyup",e[8]),B(t,"focus",e[9]),B(t,"blur",e[10]),B(t,"mouseenter",e[11]),B(t,"mouseleave",e[12]),B(t,"mouseover",e[13]),B(t,"mouseout",e[14])],a=!0)},p(l,[u]){Vr(t,o=_r(s,[{xmlns:"http://www.w3.org/2000/svg"},{fill:"currentColor"},u&16&&l[4],u&33&&r!==(r=ir("shrink-0",l[3][l[0]],l[5].class))&&{class:r},u&2&&{role:l[1]},u&4&&{"aria-label":l[2]},{viewBox:"0 0 20 20"}]))},i:Mr,o:Mr,d(l){l&&me(t),a=!1,ya(i)}}}function pd(e,t,n){const r=["size","role","ariaLabel"];let a=An(t,r);const i=Wi("iconCtx")??{},s={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"};let{size:o=i.size||"md"}=t,{role:l=i.role||"img"}=t,{ariaLabel:u="close circle solid"}=t;function d(m){M.call(this,e,m)}function y(m){M.call(this,e,m)}function f(m){M.call(this,e,m)}function g(m){M.call(this,e,m)}function b(m){M.call(this,e,m)}function _(m){M.call(this,e,m)}function x(m){M.call(this,e,m)}function O(m){M.call(this,e,m)}function j(m){M.call(this,e,m)}return e.$$set=m=>{n(5,t=nt(nt({},t),In(m))),n(4,a=An(t,r)),"size"in m&&n(0,o=m.size),"role"in m&&n(1,l=m.role),"ariaLabel"in m&&n(2,u=m.ariaLabel)},t=In(t),[o,l,u,s,a,t,d,y,f,g,b,_,x,O,j]}class fd extends ga{constructor(t){super(),va(this,t,pd,dd,mr,{size:0,role:1,ariaLabel:2})}}function es(e){const t=e-1;return t*t*t+1}function Z0(e,{delay:t=0,duration:n=400,easing:r=$c}={}){const a=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:i=>`opacity: ${i*a}`}}function Xs(e,{delay:t=0,duration:n=400,easing:r=es,x:a=0,y:i=0,opacity:s=0}={}){const o=getComputedStyle(e),l=+o.opacity,u=o.transform==="none"?"":o.transform,d=l*(1-s),[y,f]=Ks(a),[g,b]=Ks(i);return{delay:t,duration:n,easing:r,css:(_,x)=>`
			transform: ${u} translate(${(1-_)*y}${f}, ${(1-_)*g}${b});
			opacity: ${l-d*x}`}}function F0(e,{delay:t=0,duration:n=400,easing:r=es,axis:a="y"}={}){const i=getComputedStyle(e),s=+i.opacity,o=a==="y"?"height":"width",l=parseFloat(i[o]),u=a==="y"?["top","bottom"]:["left","right"],d=u.map(O=>`${O[0].toUpperCase()}${O.slice(1)}`),y=parseFloat(i[`padding${d[0]}`]),f=parseFloat(i[`padding${d[1]}`]),g=parseFloat(i[`margin${d[0]}`]),b=parseFloat(i[`margin${d[1]}`]),_=parseFloat(i[`border${d[0]}Width`]),x=parseFloat(i[`border${d[1]}Width`]);return{delay:t,duration:n,easing:r,css:O=>`overflow: hidden;opacity: ${Math.min(O*20,1)*s};${o}: ${O*l}px;padding-${u[0]}: ${O*y}px;padding-${u[1]}: ${O*f}px;margin-${u[0]}: ${O*g}px;margin-${u[1]}: ${O*b}px;border-${u[0]}-width: ${O*_}px;border-${u[1]}-width: ${O*x}px;`}}function L0(e,{delay:t=0,duration:n=400,easing:r=es,start:a=0,opacity:i=0}={}){const s=getComputedStyle(e),o=+s.opacity,l=s.transform==="none"?"":s.transform,u=1-a,d=o*(1-i);return{delay:t,duration:n,easing:r,css:(y,f)=>`
			transform: ${l} scale(${1-u*f});
			opacity: ${o-d*f}
		`}}function Qs(e){let t,n,r,a,i,s,o=e[0].message+"",l,u,d;const y=[md,hd],f=[];function g(b,_){return b[0].type==="Success"?0:1}return r=g(e),a=f[r]=y[r](e),{c(){t=Pn("div"),n=Pn("div"),a.c(),i=Qc(),s=Pn("span"),l=Yc(o),this.h()},l(b){t=Cn(b,"DIV",{class:!0});var _=ot(t);n=Cn(_,"DIV",{class:!0});var x=ot(n);a.l(x),i=ed(x),s=Cn(x,"SPAN",{});var O=ot(s);l=td(O,o),O.forEach(me),x.forEach(me),_.forEach(me),this.h()},h(){On(n,"class","flex gap-4 p-4 items-center rounded-lg shadow-xl"),It(n,"bg-teal-200",e[0].type==="Success"),It(n,"bg-rose-200",e[0].type==="Error"),It(n,"text-teal-900",e[0].type==="Success"),It(n,"text-rose-900",e[0].type==="Error"),On(t,"class","fixed bottom-2 left-0 right-0 flex justify-center pointer-events-none")},m(b,_){Tt(b,t,_),Sn(t,n),f[r].m(n,null),Sn(n,i),Sn(n,s),Sn(s,l),d=!0},p(b,_){let x=r;r=g(b),r!==x&&($i(),Ve(f[x],1,1,()=>{f[x]=null}),Xi(),a=f[r],a||(a=f[r]=y[r](b),a.c()),Ie(a,1),a.m(n,i)),(!d||_&1)&&o!==(o=b[0].message+"")&&nd(l,o),(!d||_&1)&&It(n,"bg-teal-200",b[0].type==="Success"),(!d||_&1)&&It(n,"bg-rose-200",b[0].type==="Error"),(!d||_&1)&&It(n,"text-teal-900",b[0].type==="Success"),(!d||_&1)&&It(n,"text-rose-900",b[0].type==="Error")},i(b){d||(Ie(a),b&&rd(()=>{d&&(u||(u=Hs(t,Xs,{y:100},!0)),u.run(1))}),d=!0)},o(b){Ve(a),b&&(u||(u=Hs(t,Xs,{y:100},!1)),u.run(0)),d=!1},d(b){b&&me(t),f[r].d(),b&&u&&u.end()}}}function hd(e){let t,n;return t=new fd({}),{c(){ru(t.$$.fragment)},l(r){au(t.$$.fragment,r)},m(r,a){iu(t,r,a),n=!0},i(r){n||(Ie(t.$$.fragment,r),n=!0)},o(r){Ve(t.$$.fragment,r),n=!1},d(r){su(t,r)}}}function md(e){let t,n;return t=new cd({props:{class:"w-5 h-5"}}),{c(){ru(t.$$.fragment)},l(r){au(t.$$.fragment,r)},m(r,a){iu(t,r,a),n=!0},i(r){n||(Ie(t.$$.fragment,r),n=!0)},o(r){Ve(t.$$.fragment,r),n=!1},d(r){su(t,r)}}}function _d(e){let t,n,r=e[0]&&Qs(e);return{c(){r&&r.c(),t=Nn()},l(a){r&&r.l(a),t=Nn()},m(a,i){r&&r.m(a,i),Tt(a,t,i),n=!0},p(a,[i]){a[0]?r?(r.p(a,i),i&1&&Ie(r,1)):(r=Qs(a),r.c(),Ie(r,1),r.m(t.parentNode,t)):r&&($i(),Ve(r,1,1,()=>{r=null}),Xi())},i(a){n||(Ie(r),n=!0)},o(a){Ve(r),n=!1},d(a){a&&me(t),r&&r.d(a)}}}function U0(e){ri.set(e),za&&clearTimeout(za),za=setTimeout(()=>{ri.set(null)},e.duration??5e3)}const ri=Qi(null);let za;function yd(e,t,n){let r;return Xc(e,ri,a=>n(0,r=a)),[r]}class z0 extends ga{constructor(t){super(),va(this,t,yd,_d,mr,{})}}var ai=function(e,t){return ai=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])},ai(e,t)};function ft(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ai(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function gd(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function o(d){try{u(r.next(d))}catch(y){s(y)}}function l(d){try{u(r.throw(d))}catch(y){s(y)}}function u(d){d.done?i(d.value):a(d.value).then(o,l)}u((r=r.apply(e,t||[])).next())})}function ou(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,a,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(d){return l([u,d])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,a=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],a=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Dn(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function xt(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],s;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(o){s={error:o}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i}function Ft(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function Rn(e){return this instanceof Rn?(this.v=e,this):new Rn(e)}function vd(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),a,i=[];return a={},s("next"),s("throw"),s("return"),a[Symbol.asyncIterator]=function(){return this},a;function s(f){r[f]&&(a[f]=function(g){return new Promise(function(b,_){i.push([f,g,b,_])>1||o(f,g)})})}function o(f,g){try{l(r[f](g))}catch(b){y(i[0][3],b)}}function l(f){f.value instanceof Rn?Promise.resolve(f.value.v).then(u,d):y(i[0][2],f)}function u(f){o("next",f)}function d(f){o("throw",f)}function y(f,g){f(g),i.shift(),i.length&&o(i[0][0],i[0][1])}}function bd(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Dn=="function"?Dn(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(o,l){s=e[i](s),a(o,l,s.done,s.value)})}}function a(i,s,o,l){Promise.resolve(l).then(function(u){i({value:u,done:o})},s)}}function ee(e){return typeof e=="function"}function ts(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Va=ts(function(e){return function(t){e(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function Wr(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var ht=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,a,i;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var o=Dn(s),l=o.next();!l.done;l=o.next()){var u=l.value;u.remove(this)}}catch(_){t={error:_}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}else s.remove(this);var d=this.initialTeardown;if(ee(d))try{d()}catch(_){i=_ instanceof Va?_.errors:[_]}var y=this._finalizers;if(y){this._finalizers=null;try{for(var f=Dn(y),g=f.next();!g.done;g=f.next()){var b=g.value;try{Ys(b)}catch(_){i=i??[],_ instanceof Va?i=Ft(Ft([],xt(i)),xt(_.errors)):i.push(_)}}}catch(_){r={error:_}}finally{try{g&&!g.done&&(a=f.return)&&a.call(f)}finally{if(r)throw r.error}}}if(i)throw new Va(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Ys(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&Wr(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&Wr(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),uu=ht.EMPTY;function lu(e){return e instanceof ht||e&&"closed"in e&&ee(e.remove)&&ee(e.add)&&ee(e.unsubscribe)}function Ys(e){ee(e)?e():e.unsubscribe()}var cu={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},wd={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Ft([e,t],xt(n)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function du(e){wd.setTimeout(function(){throw e})}function ii(){}function jr(e){e()}var ns=function(e){ft(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,lu(n)&&n.add(r)):r.destination=Td,r}return t.create=function(n,r,a){return new Kr(n,r,a)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(ht),kd=Function.prototype.bind;function Ma(e,t){return kd.call(e,t)}var xd=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){Or(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){Or(r)}else Or(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){Or(n)}},e}(),Kr=function(e){ft(t,e);function t(n,r,a){var i=e.call(this)||this,s;if(ee(n)||!n)s={next:n??void 0,error:r??void 0,complete:a??void 0};else{var o;i&&cu.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=function(){return i.unsubscribe()},s={next:n.next&&Ma(n.next,o),error:n.error&&Ma(n.error,o),complete:n.complete&&Ma(n.complete,o)}):s=n}return i.destination=new xd(s),i}return t}(ns);function Or(e){du(e)}function Sd(e){throw e}var Td={closed:!0,next:ii,error:Sd,complete:ii},rs=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function yn(e){return e}function Pd(e){return e.length===0?yn:e.length===1?e[0]:function(t){return e.reduce(function(n,r){return r(n)},t)}}var Te=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var a=this,i=Rd(t)?t:new Kr(t,n,r);return jr(function(){var s=a,o=s.operator,l=s.source;i.add(o?o.call(i,l):l?a._subscribe(i):a._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=eo(n),new n(function(a,i){var s=new Kr({next:function(o){try{t(o)}catch(l){i(l),s.unsubscribe()}},error:i,complete:a});r.subscribe(s)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[rs]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Pd(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=eo(t),new t(function(r,a){var i;n.subscribe(function(s){return i=s},function(s){return a(s)},function(){return r(i)})})},e.create=function(t){return new e(t)},e}();function eo(e){var t;return(t=e??cu.Promise)!==null&&t!==void 0?t:Promise}function Cd(e){return e&&ee(e.next)&&ee(e.error)&&ee(e.complete)}function Rd(e){return e&&e instanceof ns||Cd(e)&&lu(e)}function Ed(e){return ee(e==null?void 0:e.lift)}function Me(e){return function(t){if(Ed(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Pe(e,t,n,r,a){return new Od(e,t,n,r,a)}var Od=function(e){ft(t,e);function t(n,r,a,i,s,o){var l=e.call(this,n)||this;return l.onFinalize=s,l.shouldUnsubscribe=o,l._next=r?function(u){try{r(u)}catch(d){n.error(d)}}:e.prototype._next,l._error=i?function(u){try{i(u)}catch(d){n.error(d)}finally{this.unsubscribe()}}:e.prototype._error,l._complete=a?function(){try{a()}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,l}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(ns),Ad=ts(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Ae=function(e){ft(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new to(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new Ad},t.prototype.next=function(n){var r=this;jr(function(){var a,i;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var s=Dn(r.currentObservers),o=s.next();!o.done;o=s.next()){var l=o.value;l.next(n)}}catch(u){a={error:u}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(a)throw a.error}}}})},t.prototype.error=function(n){var r=this;jr(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var a=r.observers;a.length;)a.shift().error(n)}})},t.prototype.complete=function(){var n=this;jr(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,a=this,i=a.hasError,s=a.isStopped,o=a.observers;return i||s?uu:(this.currentObservers=null,o.push(n),new ht(function(){r.currentObservers=null,Wr(o,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,a=r.hasError,i=r.thrownError,s=r.isStopped;a?n.error(i):s&&n.complete()},t.prototype.asObservable=function(){var n=new Te;return n.source=this,n},t.create=function(n,r){return new to(n,r)},t}(Te),to=function(e){ft(t,e);function t(n,r){var a=e.call(this)||this;return a.destination=n,a.source=r,a}return t.prototype.next=function(n){var r,a;(a=(r=this.destination)===null||r===void 0?void 0:r.next)===null||a===void 0||a.call(r,n)},t.prototype.error=function(n){var r,a;(a=(r=this.destination)===null||r===void 0?void 0:r.error)===null||a===void 0||a.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,a;return(a=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&a!==void 0?a:uu},t}(Ae),se=function(e){ft(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,a=n.thrownError,i=n._value;if(r)throw a;return this._throwIfClosed(),i},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(Ae),as={now:function(){return(as.delegate||Date).now()},delegate:void 0},Id=function(e){ft(t,e);function t(n,r,a){n===void 0&&(n=1/0),r===void 0&&(r=1/0),a===void 0&&(a=as);var i=e.call(this)||this;return i._bufferSize=n,i._windowTime=r,i._timestampProvider=a,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=r===1/0,i._bufferSize=Math.max(1,n),i._windowTime=Math.max(1,r),i}return t.prototype.next=function(n){var r=this,a=r.isStopped,i=r._buffer,s=r._infiniteTimeWindow,o=r._timestampProvider,l=r._windowTime;a||(i.push(n),!s&&i.push(o.now()+l)),this._trimBuffer(),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),a=this,i=a._infiniteTimeWindow,s=a._buffer,o=s.slice(),l=0;l<o.length&&!n.closed;l+=i?1:2)n.next(o[l]);return this._checkFinalizedStatuses(n),r},t.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,a=n._timestampProvider,i=n._buffer,s=n._infiniteTimeWindow,o=(s?1:2)*r;if(r<1/0&&o<i.length&&i.splice(0,i.length-o),!s){for(var l=a.now(),u=0,d=1;d<i.length&&i[d]<=l;d+=2)u=d;u&&i.splice(0,u+1)}},t}(Ae),Nd=function(e){ft(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(ht),si={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a=si.delegate;return a!=null&&a.setInterval?a.setInterval.apply(a,Ft([e,t],xt(n))):setInterval.apply(void 0,Ft([e,t],xt(n)))},clearInterval:function(e){return clearInterval(e)},delegate:void 0},Dd=function(e){ft(t,e);function t(n,r){var a=e.call(this,n,r)||this;return a.scheduler=n,a.work=r,a.pending=!1,a}return t.prototype.schedule=function(n,r){var a;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,r)),this.pending=!0,this.delay=r,this.id=(a=this.id)!==null&&a!==void 0?a:this.requestAsyncId(s,this.id,r),this},t.prototype.requestAsyncId=function(n,r,a){return a===void 0&&(a=0),si.setInterval(n.flush.bind(n,this),a)},t.prototype.recycleAsyncId=function(n,r,a){if(a===void 0&&(a=0),a!=null&&this.delay===a&&this.pending===!1)return r;r!=null&&si.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var a=this._execute(n,r);if(a)return a;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var a=!1,i;try{this.work(n)}catch(s){a=!0,i=s||new Error("Scheduled action threw falsy error")}if(a)return this.unsubscribe(),i},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,a=n.scheduler,i=a.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Wr(i,this),r!=null&&(this.id=this.recycleAsyncId(a,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Nd),no=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=as.now,e}(),jd=function(e){ft(t,e);function t(n,r){r===void 0&&(r=no.now);var a=e.call(this,n,r)||this;return a.actions=[],a._active=!1,a}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var a;this._active=!0;do if(a=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,a){for(;n=r.shift();)n.unsubscribe();throw a}},t}(no),pu=new jd(Dd),qd=pu,fu=new Te(function(e){return e.complete()});function hu(e){return e&&ee(e.schedule)}function is(e){return e[e.length-1]}function mu(e){return ee(is(e))?e.pop():void 0}function ss(e){return hu(is(e))?e.pop():void 0}function Zd(e,t){return typeof is(e)=="number"?e.pop():t}var os=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function _u(e){return ee(e==null?void 0:e.then)}function yu(e){return ee(e[rs])}function gu(e){return Symbol.asyncIterator&&ee(e==null?void 0:e[Symbol.asyncIterator])}function vu(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Fd(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var bu=Fd();function wu(e){return ee(e==null?void 0:e[bu])}function ku(e){return vd(this,arguments,function(){var t,n,r,a;return ou(this,function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,Rn(t.read())];case 3:return n=i.sent(),r=n.value,a=n.done,a?[4,Rn(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,Rn(r)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function xu(e){return ee(e==null?void 0:e.getReader)}function Pt(e){if(e instanceof Te)return e;if(e!=null){if(yu(e))return Ld(e);if(os(e))return Ud(e);if(_u(e))return zd(e);if(gu(e))return Su(e);if(wu(e))return Vd(e);if(xu(e))return Md(e)}throw vu(e)}function Ld(e){return new Te(function(t){var n=e[rs]();if(ee(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ud(e){return new Te(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function zd(e){return new Te(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,du)})}function Vd(e){return new Te(function(t){var n,r;try{for(var a=Dn(e),i=a.next();!i.done;i=a.next()){var s=i.value;if(t.next(s),t.closed)return}}catch(o){n={error:o}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}t.complete()})}function Su(e){return new Te(function(t){Bd(e,t).catch(function(n){return t.error(n)})})}function Md(e){return Su(ku(e))}function Bd(e,t){var n,r,a,i;return gd(this,void 0,void 0,function(){var s,o;return ou(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=bd(e),l.label=1;case 1:return[4,n.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return o=l.sent(),a={error:o},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function wt(e,t,n,r,a){r===void 0&&(r=0),a===void 0&&(a=!1);var i=t.schedule(function(){n(),a?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!a)return i}function Tu(e,t){return t===void 0&&(t=0),Me(function(n,r){n.subscribe(Pe(r,function(a){return wt(r,e,function(){return r.next(a)},t)},function(){return wt(r,e,function(){return r.complete()},t)},function(a){return wt(r,e,function(){return r.error(a)},t)}))})}function Pu(e,t){return t===void 0&&(t=0),Me(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function Wd(e,t){return Pt(e).pipe(Pu(t),Tu(t))}function Kd(e,t){return Pt(e).pipe(Pu(t),Tu(t))}function Gd(e,t){return new Te(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Hd(e,t){return new Te(function(n){var r;return wt(n,t,function(){r=e[bu](),wt(n,t,function(){var a,i,s;try{a=r.next(),i=a.value,s=a.done}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),function(){return ee(r==null?void 0:r.return)&&r.return()}})}function Cu(e,t){if(!e)throw new Error("Iterable cannot be null");return new Te(function(n){wt(n,t,function(){var r=e[Symbol.asyncIterator]();wt(n,t,function(){r.next().then(function(a){a.done?n.complete():n.next(a.value)})},0,!0)})})}function Jd(e,t){return Cu(ku(e),t)}function $d(e,t){if(e!=null){if(yu(e))return Wd(e,t);if(os(e))return Gd(e,t);if(_u(e))return Kd(e,t);if(gu(e))return Cu(e,t);if(wu(e))return Hd(e,t);if(xu(e))return Jd(e,t)}throw vu(e)}function ba(e,t){return t?$d(e,t):Pt(e)}function us(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=ss(e);return ba(e,n)}var ls=ts(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function oi(e,t){var n=typeof t=="object";return new Promise(function(r,a){var i=new Kr({next:function(s){r(s),i.unsubscribe()},error:a,complete:function(){n?r(t.defaultValue):a(new ls)}});e.subscribe(i)})}function Xd(e){return e instanceof Date&&!isNaN(e)}function ut(e,t){return Me(function(n,r){var a=0;n.subscribe(Pe(r,function(i){r.next(e.call(t,i,a++))}))})}var Qd=Array.isArray;function Yd(e,t){return Qd(t)?e.apply(void 0,Ft([],xt(t))):e(t)}function Ru(e){return ut(function(t){return Yd(e,t)})}var ep=Array.isArray,tp=Object.getPrototypeOf,np=Object.prototype,rp=Object.keys;function ap(e){if(e.length===1){var t=e[0];if(ep(t))return{args:t,keys:null};if(ip(t)){var n=rp(t);return{args:n.map(function(r){return t[r]}),keys:n}}}return{args:e,keys:null}}function ip(e){return e&&typeof e=="object"&&tp(e)===np}function sp(e,t){return e.reduce(function(n,r,a){return n[r]=t[a],n},{})}function ro(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=ss(e),r=mu(e),a=ap(e),i=a.args,s=a.keys;if(i.length===0)return ba([],n);var o=new Te(op(i,n,s?function(l){return sp(s,l)}:yn));return r?o.pipe(Ru(r)):o}function op(e,t,n){return n===void 0&&(n=yn),function(r){ao(t,function(){for(var a=e.length,i=new Array(a),s=a,o=a,l=function(d){ao(t,function(){var y=ba(e[d],t),f=!1;y.subscribe(Pe(r,function(g){i[d]=g,f||(f=!0,o--),o||r.next(n(i.slice()))},function(){--s||r.complete()}))},r)},u=0;u<a;u++)l(u)},r)}}function ao(e,t,n){e?wt(n,e,t):t()}function up(e,t,n,r,a,i,s,o){var l=[],u=0,d=0,y=!1,f=function(){y&&!l.length&&!u&&t.complete()},g=function(_){return u<r?b(_):l.push(_)},b=function(_){i&&t.next(_),u++;var x=!1;Pt(n(_,d++)).subscribe(Pe(t,function(O){a==null||a(O),i?g(O):t.next(O)},function(){x=!0},void 0,function(){if(x)try{u--;for(var O=function(){var j=l.shift();s?wt(t,s,function(){return b(j)}):b(j)};l.length&&u<r;)O();f()}catch(j){t.error(j)}}))};return e.subscribe(Pe(t,g,function(){y=!0,f()})),function(){o==null||o()}}function wa(e,t,n){return n===void 0&&(n=1/0),ee(t)?wa(function(r,a){return ut(function(i,s){return t(r,i,a,s)})(Pt(e(r,a)))},n):(typeof t=="number"&&(n=t),Me(function(r,a){return up(r,a,e,n)}))}function lp(e){return e===void 0&&(e=1/0),wa(yn,e)}var cp=["addListener","removeListener"],dp=["addEventListener","removeEventListener"],pp=["on","off"];function st(e,t,n,r){if(ee(n)&&(r=n,n=void 0),r)return st(e,t,n).pipe(Ru(r));var a=xt(mp(e)?dp.map(function(o){return function(l){return e[o](t,l,n)}}):fp(e)?cp.map(io(e,t)):hp(e)?pp.map(io(e,t)):[],2),i=a[0],s=a[1];if(!i&&os(e))return wa(function(o){return st(o,t,n)})(Pt(e));if(!i)throw new TypeError("Invalid event target");return new Te(function(o){var l=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return o.next(1<u.length?u:u[0])};return i(l),function(){return s(l)}})}function io(e,t){return function(n){return function(r){return e[n](t,r)}}}function fp(e){return ee(e.addListener)&&ee(e.removeListener)}function hp(e){return ee(e.on)&&ee(e.off)}function mp(e){return ee(e.addEventListener)&&ee(e.removeEventListener)}function ui(e,t,n){e===void 0&&(e=0),n===void 0&&(n=qd);var r=-1;return t!=null&&(hu(t)?n=t:r=t),new Te(function(a){var i=Xd(e)?+e-n.now():e;i<0&&(i=0);var s=0;return n.schedule(function(){a.closed||(a.next(s++),0<=r?this.schedule(void 0,r):a.complete())},i)})}function jn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=ss(e),r=Zd(e,1/0),a=e;return a.length?a.length===1?Pt(a[0]):lp(r)(ba(a,n)):fu}function pt(e,t){return Me(function(n,r){var a=0;n.subscribe(Pe(r,function(i){return e.call(t,i,a++)&&r.next(i)}))})}function _p(e,t){return t===void 0&&(t=pu),Me(function(n,r){var a=null,i=null,s=null,o=function(){if(a){a.unsubscribe(),a=null;var u=i;i=null,r.next(u)}};function l(){var u=s+e,d=t.now();if(d<u){a=this.schedule(void 0,u-d),r.add(a);return}o()}n.subscribe(Pe(r,function(u){i=u,s=t.now(),a||(a=t.schedule(l,e),r.add(a))},function(){o(),r.complete()},void 0,function(){i=a=null}))})}function yp(e){return Me(function(t,n){var r=!1;t.subscribe(Pe(n,function(a){r=!0,n.next(a)},function(){r||n.next(e),n.complete()}))})}function gp(e){return e<=0?function(){return fu}:Me(function(t,n){var r=0;t.subscribe(Pe(n,function(a){++r<=e&&(n.next(a),e<=r&&n.complete())}))})}function vp(e){return e===void 0&&(e=bp),Me(function(t,n){var r=!1;t.subscribe(Pe(n,function(a){r=!0,n.next(a)},function(){return r?n.complete():n.error(e())}))})}function bp(){return new ls}function Eu(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?pt(function(a,i){return e(a,i,r)}):yn,gp(1),n?yp(t):vp(function(){return new ls}))}}function wp(e){return pt(function(t,n){return e<=n})}function kt(e,t){return Me(function(n,r){var a=null,i=0,s=!1,o=function(){return s&&!a&&r.complete()};n.subscribe(Pe(r,function(l){a==null||a.unsubscribe();var u=0,d=i++;Pt(e(l,d)).subscribe(a=Pe(r,function(y){return r.next(t?t(l,y,d,u++):y)},function(){a=null,o()}))},function(){s=!0,o()}))})}function H(e,t,n){var r=ee(e)||t||n?{next:e,error:t,complete:n}:e;return r?Me(function(a,i){var s;(s=r.subscribe)===null||s===void 0||s.call(r);var o=!0;a.subscribe(Pe(i,function(l){var u;(u=r.next)===null||u===void 0||u.call(r,l),i.next(l)},function(){var l;o=!1,(l=r.complete)===null||l===void 0||l.call(r),i.complete()},function(l){var u;o=!1,(u=r.error)===null||u===void 0||u.call(r,l),i.error(l)},function(){var l,u;o&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):yn}function Ba(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=mu(e);return Me(function(r,a){for(var i=e.length,s=new Array(i),o=e.map(function(){return!1}),l=!1,u=function(y){Pt(e[y]).subscribe(Pe(a,function(f){s[y]=f,!l&&!o[y]&&(o[y]=!0,(l=o.every(yn))&&(o=null))},ii))},d=0;d<i;d++)u(d);r.subscribe(Pe(a,function(y){if(l){var f=Ft([y],xt(s));a.next(n?n.apply(void 0,Ft([],xt(f))):f)}}))})}function Wa(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function o(d){try{u(r.next(d))}catch(y){s(y)}}function l(d){try{u(r.throw(d))}catch(y){s(y)}}function u(d){d.done?i(d.value):a(d.value).then(o,l)}u((r=r.apply(e,t||[])).next())})}function Ka(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,a,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(d){return l([u,d])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,a=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],a=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Gr(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],s;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(o){s={error:o}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i}function sn(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var kp={withStackTrace:!1},Ou=function(e,t,n){n===void 0&&(n=kp);var r=t.isOk()?{type:"Ok",value:t.value}:{type:"Err",value:t.error},a=n.withStackTrace?new Error().stack:void 0;return{data:r,message:e,stack:a}},mt=function(){function e(t){this._promise=t}return e.fromSafePromise=function(t){var n=t.then(function(r){return new Xt(r)});return new e(n)},e.fromPromise=function(t,n){var r=t.then(function(a){return new Xt(a)}).catch(function(a){return new tn(n(a))});return new e(r)},e.combine=function(t){return Sp(t)},e.combineWithAllErrors=function(t){return Tp(t)},e.prototype.map=function(t){var n=this;return new e(this._promise.then(function(r){return Wa(n,void 0,void 0,function(){var a;return Ka(this,function(i){switch(i.label){case 0:return r.isErr()?[2,new tn(r.error)]:(a=Xt.bind,[4,t(r.value)]);case 1:return[2,new(a.apply(Xt,[void 0,i.sent()]))]}})})}))},e.prototype.mapErr=function(t){var n=this;return new e(this._promise.then(function(r){return Wa(n,void 0,void 0,function(){var a;return Ka(this,function(i){switch(i.label){case 0:return r.isOk()?[2,new Xt(r.value)]:(a=tn.bind,[4,t(r.error)]);case 1:return[2,new(a.apply(tn,[void 0,i.sent()]))]}})})}))},e.prototype.andThen=function(t){return new e(this._promise.then(function(n){if(n.isErr())return new tn(n.error);var r=t(n.value);return r instanceof e?r._promise:r}))},e.prototype.orElse=function(t){var n=this;return new e(this._promise.then(function(r){return Wa(n,void 0,void 0,function(){return Ka(this,function(a){return r.isErr()?[2,t(r.error)]:[2,new Xt(r.value)]})})}))},e.prototype.match=function(t,n){return this._promise.then(function(r){return r.match(t,n)})},e.prototype.unwrapOr=function(t){return this._promise.then(function(n){return n.unwrapOr(t)})},e.prototype.then=function(t,n){return this._promise.then(t,n)},e}(),so=function(e){return new mt(Promise.resolve(new tn(e)))};mt.fromPromise;mt.fromSafePromise;var xp=function(e){return function(t){return sn(sn([],Gr(t),!1),[e],!1)}},Au=function(e){return e.reduce(function(t,n){return t.isOk()?n.isErr()?ze(n.error):t.map(xp(n.value)):t},lt([]))},Sp=function(e){return mt.fromSafePromise(Promise.all(e)).andThen(Au)},Iu=function(e){return e.reduce(function(t,n){return n.isErr()?t.isErr()?ze(sn(sn([],Gr(t.error),!1),[n.error],!1)):ze([n.error]):t.isErr()?t:lt(sn(sn([],Gr(t.value),!1),[n.value],!1))},lt([]))},Tp=function(e){return mt.fromSafePromise(Promise.all(e)).andThen(Iu)},li;(function(e){function t(a,i){return function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];try{var l=a.apply(void 0,sn([],Gr(s),!1));return lt(l)}catch(u){return ze(i?i(u):u)}}}e.fromThrowable=t;function n(a){return Au(a)}e.combine=n;function r(a){return Iu(a)}e.combineWithAllErrors=r})(li||(li={}));var lt=function(e){return new Xt(e)},ze=function(e){return new tn(e)},Xt=function(){function e(t){this.value=t}return e.prototype.isOk=function(){return!0},e.prototype.isErr=function(){return!this.isOk()},e.prototype.map=function(t){return lt(t(this.value))},e.prototype.mapErr=function(t){return lt(this.value)},e.prototype.andThen=function(t){return t(this.value)},e.prototype.orElse=function(t){return lt(this.value)},e.prototype.asyncAndThen=function(t){return t(this.value)},e.prototype.asyncMap=function(t){return mt.fromSafePromise(t(this.value))},e.prototype.unwrapOr=function(t){return this.value},e.prototype.match=function(t,n){return t(this.value)},e.prototype._unsafeUnwrap=function(t){return this.value},e.prototype._unsafeUnwrapErr=function(t){throw Ou("Called `_unsafeUnwrapErr` on an Ok",this,t)},e}(),tn=function(){function e(t){this.error=t}return e.prototype.isOk=function(){return!1},e.prototype.isErr=function(){return!this.isOk()},e.prototype.map=function(t){return ze(this.error)},e.prototype.mapErr=function(t){return ze(t(this.error))},e.prototype.andThen=function(t){return ze(this.error)},e.prototype.orElse=function(t){return t(this.error)},e.prototype.asyncAndThen=function(t){return so(this.error)},e.prototype.asyncMap=function(t){return so(this.error)},e.prototype.unwrapOr=function(t){return t},e.prototype.match=function(t,n){return n(this.error)},e.prototype._unsafeUnwrap=function(t){throw Ou("Called `_unsafeUnwrap` on an Err",this,t)},e.prototype._unsafeUnwrapErr=function(t){return this.error},e}();li.fromThrowable;var $;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function n(a){throw new Error}e.assertNever=n,e.arrayToEnum=a=>{const i={};for(const s of a)i[s]=s;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(o=>typeof a[a[o]]!="number"),s={};for(const o of i)s[o]=a[o];return e.objectValues(s)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&i.push(s);return i},e.find=(a,i)=>{for(const s of a)if(i(s))return s},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function r(a,i=" | "){return a.map(s=>typeof s=="string"?`'${s}'`:s).join(i)}e.joinValues=r,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})($||($={}));var oo;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(oo||(oo={}));const E=$.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),nn=e=>{switch(typeof e){case"undefined":return E.undefined;case"string":return E.string;case"number":return isNaN(e)?E.nan:E.number;case"boolean":return E.boolean;case"function":return E.function;case"bigint":return E.bigint;case"symbol":return E.symbol;case"object":return Array.isArray(e)?E.array:e===null?E.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?E.promise:typeof Map<"u"&&e instanceof Map?E.map:typeof Set<"u"&&e instanceof Set?E.set:typeof Date<"u"&&e instanceof Date?E.date:E.object;default:return E.unknown}},k=$.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);let cn=class extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(a){return a.message},n={_errors:[]},r=a=>{for(const i of a.issues)if(i.code==="invalid_union")i.unionErrors.map(r);else if(i.code==="invalid_return_type")r(i.returnTypeError);else if(i.code==="invalid_arguments")r(i.argumentsError);else if(i.path.length===0)n._errors.push(t(i));else{let s=n,o=0;for(;o<i.path.length;){const l=i.path[o];o===i.path.length-1?(s[l]=s[l]||{_errors:[]},s[l]._errors.push(t(i))):s[l]=s[l]||{_errors:[]},s=s[l],o++}}};return r(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,$.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}};cn.create=e=>new cn(e);const Nu=(e,t)=>{let n;switch(e.code){case k.invalid_type:e.received===E.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case k.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,$.jsonStringifyReplacer)}`;break;case k.unrecognized_keys:n=`Unrecognized key(s) in object: ${$.joinValues(e.keys,", ")}`;break;case k.invalid_union:n="Invalid input";break;case k.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${$.joinValues(e.options)}`;break;case k.invalid_enum_value:n=`Invalid enum value. Expected ${$.joinValues(e.options)}, received '${e.received}'`;break;case k.invalid_arguments:n="Invalid function arguments";break;case k.invalid_return_type:n="Invalid function return type";break;case k.invalid_date:n="Invalid date";break;case k.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:$.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case k.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case k.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case k.custom:n="Invalid input";break;case k.invalid_intersection_types:n="Intersection results could not be merged";break;case k.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case k.not_finite:n="Number must be finite";break;default:n=t.defaultError,$.assertNever(e)}return{message:n}};let Pp=Nu;function Cp(){return Pp}const Rp=e=>{const{data:t,path:n,errorMaps:r,issueData:a}=e,i=[...n,...a.path||[]],s={...a,path:i};let o="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)o=u(s,{data:t,defaultError:o}).message;return{...a,path:i,message:a.message||o}};function R(e,t){const n=Rp({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,Cp(),Nu].filter(r=>!!r)});e.common.issues.push(n)}class Ne{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const a of n){if(a.status==="aborted")return V;a.status==="dirty"&&t.dirty(),r.push(a.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const a of n)r.push({key:await a.key,value:await a.value});return Ne.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const a of n){const{key:i,value:s}=a;if(i.status==="aborted"||s.status==="aborted")return V;i.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),(typeof s.value<"u"||a.alwaysSet)&&(r[i.value]=s.value)}return{status:t.value,value:r}}}const V=Object.freeze({status:"aborted"}),Ep=e=>({status:"dirty",value:e}),Be=e=>({status:"valid",value:e}),uo=e=>e.status==="aborted",lo=e=>e.status==="dirty",ci=e=>e.status==="valid",di=e=>typeof Promise<"u"&&e instanceof Promise;var I;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(I||(I={}));let Lt=class{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}};const co=(e,t)=>{if(ci(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new cn(e.common.issues);return this._error=n,this._error}}};function z(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:a}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(i,s)=>i.code!=="invalid_type"?{message:s.defaultError}:typeof s.data>"u"?{message:r??s.defaultError}:{message:n??s.defaultError},description:a}}let J=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return nn(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:nn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ne,ctx:{common:e.parent.common,data:e.data,parsedType:nn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(di(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:(n=t==null?void 0:t.async)!==null&&n!==void 0?n:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:nn(e)},a=this._parseSync({data:e,path:r.path,parent:r});return co(r,a)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:nn(e)},r=this._parse({data:e,path:n.path,parent:n}),a=await(di(r)?r:Promise.resolve(r));return co(n,a)}refine(e,t){const n=r=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(r):t;return this._refinement((r,a)=>{const i=e(r),s=()=>a.addIssue({code:k.custom,...n(r)});return typeof Promise<"u"&&i instanceof Promise?i.then(o=>o?!0:(s(),!1)):i?!0:(s(),!1)})}refinement(e,t){return this._refinement((n,r)=>e(n)?!0:(r.addIssue(typeof t=="function"?t(n,r):t),!1))}_refinement(e){return new Zn({schema:this,typeName:Z.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return jt.create(this,this._def)}nullable(){return Fn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return qn.create(this,this._def)}promise(){return $r.create(this,this._def)}or(e){return Hr.create([this,e],this._def)}and(e){return Jr.create(this,e,this._def)}transform(e){return new Zn({...z(this._def),schema:this,typeName:Z.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new wi({...z(this._def),innerType:this,defaultValue:t,typeName:Z.ZodDefault})}brand(){return new zp({typeName:Z.ZodBranded,type:this,...z(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new ki({...z(this._def),innerType:this,catchValue:t,typeName:Z.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return Vp.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}};const Op=/^c[^\s-]{8,}$/i,Ap=/^[a-z][a-z0-9]*$/,Ip=/[0-9A-HJKMNP-TV-Z]{26}/,Np=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,Dp=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,jp=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u"),qp=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Zp=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Fp=e=>e.precision?e.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):e.precision===0?e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Lp(e,t){return!!((t==="v4"||!t)&&qp.test(e)||(t==="v6"||!t)&&Zp.test(e))}let pi=class nr extends J{constructor(){super(...arguments),this._regex=(t,n,r)=>this.refinement(a=>t.test(a),{validation:n,code:k.invalid_string,...I.errToObj(r)}),this.nonempty=t=>this.min(1,I.errToObj(t)),this.trim=()=>new nr({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new nr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new nr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==E.string){const a=this._getOrReturnCtx(t);return R(a,{code:k.invalid_type,expected:E.string,received:a.parsedType}),V}const n=new Ne;let r;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(r=this._getOrReturnCtx(t,r),R(r,{code:k.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(r=this._getOrReturnCtx(t,r),R(r,{code:k.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const i=t.data.length>a.value,s=t.data.length<a.value;(i||s)&&(r=this._getOrReturnCtx(t,r),i?R(r,{code:k.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):s&&R(r,{code:k.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")Dp.test(t.data)||(r=this._getOrReturnCtx(t,r),R(r,{validation:"email",code:k.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")jp.test(t.data)||(r=this._getOrReturnCtx(t,r),R(r,{validation:"emoji",code:k.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")Np.test(t.data)||(r=this._getOrReturnCtx(t,r),R(r,{validation:"uuid",code:k.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")Op.test(t.data)||(r=this._getOrReturnCtx(t,r),R(r,{validation:"cuid",code:k.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")Ap.test(t.data)||(r=this._getOrReturnCtx(t,r),R(r,{validation:"cuid2",code:k.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")Ip.test(t.data)||(r=this._getOrReturnCtx(t,r),R(r,{validation:"ulid",code:k.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{r=this._getOrReturnCtx(t,r),R(r,{validation:"url",code:k.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(r=this._getOrReturnCtx(t,r),R(r,{validation:"regex",code:k.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(r=this._getOrReturnCtx(t,r),R(r,{code:k.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(r=this._getOrReturnCtx(t,r),R(r,{code:k.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(r=this._getOrReturnCtx(t,r),R(r,{code:k.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?Fp(a).test(t.data)||(r=this._getOrReturnCtx(t,r),R(r,{code:k.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="ip"?Lp(t.data,a.version)||(r=this._getOrReturnCtx(t,r),R(r,{validation:"ip",code:k.invalid_string,message:a.message}),n.dirty()):$.assertNever(a);return{status:n.value,value:t.data}}_addCheck(t){return new nr({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...I.errToObj(t)})}url(t){return this._addCheck({kind:"url",...I.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...I.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...I.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...I.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...I.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...I.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...I.errToObj(t)})}datetime(t){var n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,...I.errToObj(t==null?void 0:t.message)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...I.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...I.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...I.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...I.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...I.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...I.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...I.errToObj(n)})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}};pi.create=e=>{var t;return new pi({checks:[],typeName:Z.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...z(e)})};function Up(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r,i=parseInt(e.toFixed(a).replace(".","")),s=parseInt(t.toFixed(a).replace(".",""));return i%s/Math.pow(10,a)}let fi=class hi extends J{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==E.number){const a=this._getOrReturnCtx(t);return R(a,{code:k.invalid_type,expected:E.number,received:a.parsedType}),V}let n;const r=new Ne;for(const a of this._def.checks)a.kind==="int"?$.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),R(n,{code:k.invalid_type,expected:"integer",received:"float",message:a.message}),r.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),R(n,{code:k.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),R(n,{code:k.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty()):a.kind==="multipleOf"?Up(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),R(n,{code:k.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),R(n,{code:k.not_finite,message:a.message}),r.dirty()):$.assertNever(a);return{status:r.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,I.toString(n))}gt(t,n){return this.setLimit("min",t,!1,I.toString(n))}lte(t,n){return this.setLimit("max",t,!0,I.toString(n))}lt(t,n){return this.setLimit("max",t,!1,I.toString(n))}setLimit(t,n,r,a){return new hi({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:I.toString(a)}]})}_addCheck(t){return new hi({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:I.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:I.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:I.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:I.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:I.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:I.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:I.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:I.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:I.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&$.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}};fi.create=e=>new fi({checks:[],typeName:Z.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...z(e)});let po=class mi extends J{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==E.bigint){const a=this._getOrReturnCtx(t);return R(a,{code:k.invalid_type,expected:E.bigint,received:a.parsedType}),V}let n;const r=new Ne;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),R(n,{code:k.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),R(n,{code:k.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),R(n,{code:k.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):$.assertNever(a);return{status:r.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,I.toString(n))}gt(t,n){return this.setLimit("min",t,!1,I.toString(n))}lte(t,n){return this.setLimit("max",t,!0,I.toString(n))}lt(t,n){return this.setLimit("max",t,!1,I.toString(n))}setLimit(t,n,r,a){return new mi({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:I.toString(a)}]})}_addCheck(t){return new mi({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:I.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:I.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:I.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:I.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:I.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}};po.create=e=>{var t;return new po({checks:[],typeName:Z.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...z(e)})};let _i=class extends J{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==E.boolean){const t=this._getOrReturnCtx(e);return R(t,{code:k.invalid_type,expected:E.boolean,received:t.parsedType}),V}return Be(e.data)}};_i.create=e=>new _i({typeName:Z.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...z(e)});let fo=class Du extends J{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==E.date){const a=this._getOrReturnCtx(t);return R(a,{code:k.invalid_type,expected:E.date,received:a.parsedType}),V}if(isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return R(a,{code:k.invalid_date}),V}const n=new Ne;let r;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(r=this._getOrReturnCtx(t,r),R(r,{code:k.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(r=this._getOrReturnCtx(t,r),R(r,{code:k.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):$.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Du({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:I.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:I.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}};fo.create=e=>new fo({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Z.ZodDate,...z(e)});let ho=class extends J{_parse(e){if(this._getType(e)!==E.symbol){const t=this._getOrReturnCtx(e);return R(t,{code:k.invalid_type,expected:E.symbol,received:t.parsedType}),V}return Be(e.data)}};ho.create=e=>new ho({typeName:Z.ZodSymbol,...z(e)});let mo=class extends J{_parse(e){if(this._getType(e)!==E.undefined){const t=this._getOrReturnCtx(e);return R(t,{code:k.invalid_type,expected:E.undefined,received:t.parsedType}),V}return Be(e.data)}};mo.create=e=>new mo({typeName:Z.ZodUndefined,...z(e)});let _o=class extends J{_parse(e){if(this._getType(e)!==E.null){const t=this._getOrReturnCtx(e);return R(t,{code:k.invalid_type,expected:E.null,received:t.parsedType}),V}return Be(e.data)}};_o.create=e=>new _o({typeName:Z.ZodNull,...z(e)});let yo=class extends J{constructor(){super(...arguments),this._any=!0}_parse(e){return Be(e.data)}};yo.create=e=>new yo({typeName:Z.ZodAny,...z(e)});let go=class extends J{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Be(e.data)}};go.create=e=>new go({typeName:Z.ZodUnknown,...z(e)});let Ut=class extends J{_parse(e){const t=this._getOrReturnCtx(e);return R(t,{code:k.invalid_type,expected:E.never,received:t.parsedType}),V}};Ut.create=e=>new Ut({typeName:Z.ZodNever,...z(e)});let vo=class extends J{_parse(e){if(this._getType(e)!==E.undefined){const t=this._getOrReturnCtx(e);return R(t,{code:k.invalid_type,expected:E.void,received:t.parsedType}),V}return Be(e.data)}};vo.create=e=>new vo({typeName:Z.ZodVoid,...z(e)});let qn=class qr extends J{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),a=this._def;if(n.parsedType!==E.array)return R(n,{code:k.invalid_type,expected:E.array,received:n.parsedType}),V;if(a.exactLength!==null){const s=n.data.length>a.exactLength.value,o=n.data.length<a.exactLength.value;(s||o)&&(R(n,{code:s?k.too_big:k.too_small,minimum:o?a.exactLength.value:void 0,maximum:s?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(R(n,{code:k.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(R(n,{code:k.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,o)=>a.type._parseAsync(new Lt(n,s,n.path,o)))).then(s=>Ne.mergeArray(r,s));const i=[...n.data].map((s,o)=>a.type._parseSync(new Lt(n,s,n.path,o)));return Ne.mergeArray(r,i)}get element(){return this._def.type}min(t,n){return new qr({...this._def,minLength:{value:t,message:I.toString(n)}})}max(t,n){return new qr({...this._def,maxLength:{value:t,message:I.toString(n)}})}length(t,n){return new qr({...this._def,exactLength:{value:t,message:I.toString(n)}})}nonempty(t){return this.min(1,t)}};qn.create=(e,t)=>new qn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Z.ZodArray,...z(t)});function wn(e){if(e instanceof rt){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=jt.create(wn(r))}return new rt({...e._def,shape:()=>t})}else return e instanceof qn?new qn({...e._def,type:wn(e.element)}):e instanceof jt?jt.create(wn(e.unwrap())):e instanceof Fn?Fn.create(wn(e.unwrap())):e instanceof sr?sr.create(e.items.map(t=>wn(t))):e}let rt=class Xe extends J{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=$.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==E.object){const l=this._getOrReturnCtx(t);return R(l,{code:k.invalid_type,expected:E.object,received:l.parsedType}),V}const{status:n,ctx:r}=this._processInputParams(t),{shape:a,keys:i}=this._getCached(),s=[];if(!(this._def.catchall instanceof Ut&&this._def.unknownKeys==="strip"))for(const l in r.data)i.includes(l)||s.push(l);const o=[];for(const l of i){const u=a[l],d=r.data[l];o.push({key:{status:"valid",value:l},value:u._parse(new Lt(r,d,r.path,l)),alwaysSet:l in r.data})}if(this._def.catchall instanceof Ut){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of s)o.push({key:{status:"valid",value:u},value:{status:"valid",value:r.data[u]}});else if(l==="strict")s.length>0&&(R(r,{code:k.unrecognized_keys,keys:s}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of s){const d=r.data[u];o.push({key:{status:"valid",value:u},value:l._parse(new Lt(r,d,r.path,u)),alwaysSet:u in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of o){const d=await u.key;l.push({key:d,value:await u.value,alwaysSet:u.alwaysSet})}return l}).then(l=>Ne.mergeObjectSync(n,l)):Ne.mergeObjectSync(n,o)}get shape(){return this._def.shape()}strict(t){return I.errToObj,new Xe({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var a,i,s,o;const l=(s=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,n,r).message)!==null&&s!==void 0?s:r.defaultError;return n.code==="unrecognized_keys"?{message:(o=I.errToObj(t).message)!==null&&o!==void 0?o:l}:{message:l}}}:{}})}strip(){return new Xe({...this._def,unknownKeys:"strip"})}passthrough(){return new Xe({...this._def,unknownKeys:"passthrough"})}extend(t){return new Xe({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Xe({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Z.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Xe({...this._def,catchall:t})}pick(t){const n={};return $.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Xe({...this._def,shape:()=>n})}omit(t){const n={};return $.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new Xe({...this._def,shape:()=>n})}deepPartial(){return wn(this)}partial(t){const n={};return $.objectKeys(this.shape).forEach(r=>{const a=this.shape[r];t&&!t[r]?n[r]=a:n[r]=a.optional()}),new Xe({...this._def,shape:()=>n})}required(t){const n={};return $.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof jt;)a=a._def.innerType;n[r]=a}}),new Xe({...this._def,shape:()=>n})}keyof(){return qu($.objectKeys(this.shape))}};rt.create=(e,t)=>new rt({shape:()=>e,unknownKeys:"strip",catchall:Ut.create(),typeName:Z.ZodObject,...z(t)});rt.strictCreate=(e,t)=>new rt({shape:()=>e,unknownKeys:"strict",catchall:Ut.create(),typeName:Z.ZodObject,...z(t)});rt.lazycreate=(e,t)=>new rt({shape:e,unknownKeys:"strip",catchall:Ut.create(),typeName:Z.ZodObject,...z(t)});let Hr=class extends J{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;function r(a){for(const s of a)if(s.result.status==="valid")return s.result;for(const s of a)if(s.result.status==="dirty")return t.common.issues.push(...s.ctx.common.issues),s.result;const i=a.map(s=>new cn(s.ctx.common.issues));return R(t,{code:k.invalid_union,unionErrors:i}),V}if(t.common.async)return Promise.all(n.map(async a=>{const i={...t,common:{...t.common,issues:[]},parent:null};return{result:await a._parseAsync({data:t.data,path:t.path,parent:i}),ctx:i}})).then(r);{let a;const i=[];for(const o of n){const l={...t,common:{...t.common,issues:[]},parent:null},u=o._parseSync({data:t.data,path:t.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!a&&(a={result:u,ctx:l}),l.common.issues.length&&i.push(l.common.issues)}if(a)return t.common.issues.push(...a.ctx.common.issues),a.result;const s=i.map(o=>new cn(o));return R(t,{code:k.invalid_union,unionErrors:s}),V}}get options(){return this._def.options}};Hr.create=(e,t)=>new Hr({options:e,typeName:Z.ZodUnion,...z(t)});function yi(e,t){const n=nn(e),r=nn(t);if(e===t)return{valid:!0,data:e};if(n===E.object&&r===E.object){const a=$.objectKeys(t),i=$.objectKeys(e).filter(o=>a.indexOf(o)!==-1),s={...e,...t};for(const o of i){const l=yi(e[o],t[o]);if(!l.valid)return{valid:!1};s[o]=l.data}return{valid:!0,data:s}}else if(n===E.array&&r===E.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const s=e[i],o=t[i],l=yi(s,o);if(!l.valid)return{valid:!1};a.push(l.data)}return{valid:!0,data:a}}else return n===E.date&&r===E.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}let Jr=class extends J{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(a,i)=>{if(uo(a)||uo(i))return V;const s=yi(a.value,i.value);return s.valid?((lo(a)||lo(i))&&t.dirty(),{status:t.value,value:s.data}):(R(n,{code:k.invalid_intersection_types}),V)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,i])=>r(a,i)):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};Jr.create=(e,t,n)=>new Jr({left:e,right:t,typeName:Z.ZodIntersection,...z(n)});let sr=class ju extends J{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==E.array)return R(r,{code:k.invalid_type,expected:E.array,received:r.parsedType}),V;if(r.data.length<this._def.items.length)return R(r,{code:k.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),V;!this._def.rest&&r.data.length>this._def.items.length&&(R(r,{code:k.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((i,s)=>{const o=this._def.items[s]||this._def.rest;return o?o._parse(new Lt(r,i,r.path,s)):null}).filter(i=>!!i);return r.common.async?Promise.all(a).then(i=>Ne.mergeArray(n,i)):Ne.mergeArray(n,a)}get items(){return this._def.items}rest(t){return new ju({...this._def,rest:t})}};sr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new sr({items:e,typeName:Z.ZodTuple,rest:null,...z(t)})};let bo=class extends J{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==E.map)return R(n,{code:k.invalid_type,expected:E.map,received:n.parsedType}),V;const r=this._def.keyType,a=this._def.valueType,i=[...n.data.entries()].map(([s,o],l)=>({key:r._parse(new Lt(n,s,n.path,[l,"key"])),value:a._parse(new Lt(n,o,n.path,[l,"value"]))}));if(n.common.async){const s=new Map;return Promise.resolve().then(async()=>{for(const o of i){const l=await o.key,u=await o.value;if(l.status==="aborted"||u.status==="aborted")return V;(l.status==="dirty"||u.status==="dirty")&&t.dirty(),s.set(l.value,u.value)}return{status:t.value,value:s}})}else{const s=new Map;for(const o of i){const l=o.key,u=o.value;if(l.status==="aborted"||u.status==="aborted")return V;(l.status==="dirty"||u.status==="dirty")&&t.dirty(),s.set(l.value,u.value)}return{status:t.value,value:s}}}};bo.create=(e,t,n)=>new bo({valueType:t,keyType:e,typeName:Z.ZodMap,...z(n)});let wo=class gi extends J{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==E.set)return R(r,{code:k.invalid_type,expected:E.set,received:r.parsedType}),V;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(R(r,{code:k.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(R(r,{code:k.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const i=this._def.valueType;function s(l){const u=new Set;for(const d of l){if(d.status==="aborted")return V;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const o=[...r.data.values()].map((l,u)=>i._parse(new Lt(r,l,r.path,u)));return r.common.async?Promise.all(o).then(l=>s(l)):s(o)}min(t,n){return new gi({...this._def,minSize:{value:t,message:I.toString(n)}})}max(t,n){return new gi({...this._def,maxSize:{value:t,message:I.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}};wo.create=(e,t)=>new wo({valueType:e,minSize:null,maxSize:null,typeName:Z.ZodSet,...z(t)});let ko=class extends J{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};ko.create=(e,t)=>new ko({getter:e,typeName:Z.ZodLazy,...z(t)});let vi=class extends J{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return R(t,{received:t.data,code:k.invalid_literal,expected:this._def.value}),V}return{status:"valid",value:e.data}}get value(){return this._def.value}};vi.create=(e,t)=>new vi({value:e,typeName:Z.ZodLiteral,...z(t)});function qu(e,t){return new cs({values:e,typeName:Z.ZodEnum,...z(t)})}let cs=class bi extends J{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return R(n,{expected:$.joinValues(r),received:n.parsedType,code:k.invalid_type}),V}if(this._def.values.indexOf(t.data)===-1){const n=this._getOrReturnCtx(t),r=this._def.values;return R(n,{received:n.data,code:k.invalid_enum_value,options:r}),V}return Be(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t){return bi.create(t)}exclude(t){return bi.create(this.options.filter(n=>!t.includes(n)))}};cs.create=qu;let xo=class extends J{_parse(e){const t=$.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==E.string&&n.parsedType!==E.number){const r=$.objectValues(t);return R(n,{expected:$.joinValues(r),received:n.parsedType,code:k.invalid_type}),V}if(t.indexOf(e.data)===-1){const r=$.objectValues(t);return R(n,{received:n.data,code:k.invalid_enum_value,options:r}),V}return Be(e.data)}get enum(){return this._def.values}};xo.create=(e,t)=>new xo({values:e,typeName:Z.ZodNativeEnum,...z(t)});let $r=class extends J{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==E.promise&&t.common.async===!1)return R(t,{code:k.invalid_type,expected:E.promise,received:t.parsedType}),V;const n=t.parsedType===E.promise?t.data:Promise.resolve(t.data);return Be(n.then(r=>this._def.type.parseAsync(r,{path:t.path,errorMap:t.common.contextualErrorMap})))}};$r.create=(e,t)=>new $r({type:e,typeName:Z.ZodPromise,...z(t)});let Zn=class extends J{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Z.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null;if(r.type==="preprocess"){const i=r.transform(n.data);return n.common.async?Promise.resolve(i).then(s=>this._def.schema._parseAsync({data:s,path:n.path,parent:n})):this._def.schema._parseSync({data:i,path:n.path,parent:n})}const a={addIssue:i=>{R(n,i),i.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),r.type==="refinement"){const i=s=>{const o=r.refinement(s,a);if(n.common.async)return Promise.resolve(o);if(o instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return s};if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?V:(s.status==="dirty"&&t.dirty(),i(s.value),{status:t.value,value:s.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>s.status==="aborted"?V:(s.status==="dirty"&&t.dirty(),i(s.value).then(()=>({status:t.value,value:s.value}))))}if(r.type==="transform")if(n.common.async===!1){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ci(i))return i;const s=r.transform(i.value,a);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>ci(i)?Promise.resolve(r.transform(i.value,a)).then(s=>({status:t.value,value:s})):i);$.assertNever(r)}};Zn.create=(e,t,n)=>new Zn({schema:e,typeName:Z.ZodEffects,effect:t,...z(n)});Zn.createWithPreprocess=(e,t,n)=>new Zn({schema:t,effect:{type:"preprocess",transform:e},typeName:Z.ZodEffects,...z(n)});let jt=class extends J{_parse(e){return this._getType(e)===E.undefined?Be(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};jt.create=(e,t)=>new jt({innerType:e,typeName:Z.ZodOptional,...z(t)});let Fn=class extends J{_parse(e){return this._getType(e)===E.null?Be(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Fn.create=(e,t)=>new Fn({innerType:e,typeName:Z.ZodNullable,...z(t)});let wi=class extends J{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===E.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};wi.create=(e,t)=>new wi({innerType:e,typeName:Z.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...z(t)});let ki=class extends J{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return di(r)?r.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new cn(n.common.issues)},input:n.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new cn(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};ki.create=(e,t)=>new ki({innerType:e,typeName:Z.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...z(t)});let So=class extends J{_parse(e){if(this._getType(e)!==E.nan){const t=this._getOrReturnCtx(e);return R(t,{code:k.invalid_type,expected:E.nan,received:t.parsedType}),V}return{status:"valid",value:e.data}}};So.create=e=>new So({typeName:Z.ZodNaN,...z(e)});let zp=class extends J{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}},Vp=class Zu extends J{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?V:a.status==="dirty"?(n.dirty(),Ep(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?V:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(t,n){return new Zu({in:t,out:n,typeName:Z.ZodPipeline})}};rt.lazycreate;var Z;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline"})(Z||(Z={}));const Q=pi.create,ka=fi.create,or=_i.create;Ut.create;const ur=qn.create,K=rt.create;rt.strictCreate;const Re=Hr.create;Jr.create;sr.create;const Y=vi.create;cs.create;$r.create;jt.create;Fn.create;const Fu=K({address:Q(),label:Q(),appearanceId:ka()}),yr=K({publicKey:Q(),signature:Q(),curve:Re([Y("curve25519"),Y("secp256k1")])}),Mp=K({accountAddress:Q(),proof:yr}),gr=K({identityAddress:Q(),label:Q()}),To={western:"western",eastern:"eastern"},Bp=Re([Y(To.eastern),Y(To.western)]),Lu=K({variant:Bp,familyName:Q(),nickname:Q(),givenNames:Q()}),ct=K({quantifier:Re([Y("exactly"),Y("atLeast")]),quantity:ka().gte(0)}),xi=K({challenge:Q().optional(),numberOfAccounts:ct}),Si=K({accounts:ur(Fu),challenge:Q().optional(),proofs:ur(Mp).optional()}).refine(e=>{var t;return e.challenge||e!=null&&e.proofs?e.challenge&&((t=e==null?void 0:e.proofs)==null?void 0:t.length):!0},"missing challenge or proofs"),Xr=K({isRequestingName:or().optional(),numberOfRequestedEmailAddresses:ct.optional(),numberOfRequestedPhoneNumbers:ct.optional()}),Ti=K({name:Lu.optional(),emailAddresses:ur(Q()).optional(),phoneNumbers:ur(Q()).optional()}),Wp=K({accounts:or(),personaData:or()});K({persona:gr,challenge:Q().optional(),proof:yr.optional()}).refine(e=>e.challenge||e.proof?e.challenge&&e.proof:!0,"missing challenge or proof");const Kp=K({discriminator:Y("unauthorizedRequest"),oneTimeAccounts:xi.optional(),oneTimePersonaData:Xr.optional()}),Gp=K({discriminator:Y("usePersona"),identityAddress:Q()}),Hp=K({discriminator:Y("loginWithoutChallenge")}),Jp=K({discriminator:Y("loginWithChallenge"),challenge:Q()}),$p=Re([Hp,Jp]),Xp=Re([Gp,$p]),Qp=K({discriminator:Y("authorizedRequest"),auth:Xp,reset:Wp.optional(),oneTimeAccounts:xi.optional(),ongoingAccounts:xi.optional(),oneTimePersonaData:Xr.optional(),ongoingPersonaData:Xr.optional()}),Yp=Re([Kp,Qp]),ef=K({transactionManifest:Q(),version:ka(),blobs:ur(Q()).optional(),message:Q().optional()}),tf=K({discriminator:Y("transaction"),send:ef}),nf=K({transactionIntentHash:Q()}),rf=K({discriminator:Y("transaction"),send:nf}),af=K({discriminator:Y("cancelRequest")}),sf=Re([Yp,tf,af]),Uu=K({version:Y(2),networkId:ka(),dAppDefinitionAddress:Q()}),of=K({interactionId:Q(),metadata:Uu,items:sf}),uf=K({discriminator:Y("unauthorizedRequest"),oneTimeAccounts:Si.optional(),oneTimePersonaData:Ti.optional()}),lf=K({discriminator:Y("loginWithoutChallenge"),persona:gr}),cf=K({discriminator:Y("loginWithChallenge"),persona:gr,challenge:Q(),proof:yr}),df=Re([lf,cf]),pf=K({discriminator:Y("usePersona"),persona:gr}),ff=Re([pf,df]),hf=K({discriminator:Y("authorizedRequest"),auth:ff,oneTimeAccounts:Si.optional(),ongoingAccounts:Si.optional(),oneTimePersonaData:Ti.optional(),ongoingPersonaData:Ti.optional()}),mf=Re([uf,hf]),_f=Re([mf,rf]),yf=K({discriminator:Y("success"),interactionId:Q(),items:_f}),gf=K({discriminator:Y("failure"),interactionId:Q(),error:Q(),message:Q().optional()}),zu=Re([yf,gf]);K({interactionId:Q(),discriminator:Y("extensionStatus")});const kn={extensionStatus:"extensionStatus",receivedByExtension:"receivedByExtension",receivedByWallet:"receivedByWallet",requestCancelSuccess:"requestCancelSuccess",requestCancelFail:"requestCancelFail"};K({eventType:Y(kn.extensionStatus),interactionId:Q(),isWalletLinked:or(),isExtensionAvailable:or()});const vf=K({eventType:Re([Y(kn.extensionStatus),Y(kn.receivedByExtension),Y(kn.receivedByWallet),Y(kn.requestCancelSuccess),Y(kn.requestCancelFail)]),interactionId:Q()});Re([vf,zu]);const Ar={outgoingMessage:"radix#chromeExtension#send",incomingMessage:"radix#chromeExtension#receive"},bf=(e,t)=>mt.fromPromise(e.parseAsync(t),n=>n.issues),wf=e=>(t,n,r=crypto.randomUUID())=>{const a={items:n,interactionId:r,metadata:t};return bf(of,a).mapErr(i=>(e==null||e.error(" invalidWalletInteraction",i),ln(rr.walletRequestValidation,a.interactionId)))},kf=e=>e,rr={rejectedByUser:"rejectedByUser",missingExtension:"missingExtension",canceledByUser:"canceledByUser",walletRequestValidation:"walletRequestValidation",walletResponseValidation:"walletResponseValidation",wrongNetwork:"wrongNetwork",failedToPrepareTransaction:"failedToPrepareTransaction",failedToCompileTransaction:"failedToCompileTransaction",failedToSignTransaction:"failedToSignTransaction",failedToSubmitTransaction:"failedToSubmitTransaction",failedToPollSubmittedTransaction:"failedToPollSubmittedTransaction",submittedTransactionWasDuplicate:"submittedTransactionWasDuplicate",submittedTransactionHasFailedTransactionStatus:"submittedTransactionHasFailedTransactionStatus",submittedTransactionHasRejectedTransactionStatus:"submittedTransactionHasRejectedTransactionStatus",failedToFindAccountWithEnoughFundsToLockFee:"failedToFindAccountWithEnoughFundsToLockFee",wrongAccountType:"wrongAccountType",unknownWebsite:"unknownWebsite",radixJsonNotFound:"radixJsonNotFound",unknownDappDefinitionAddress:"unknownDappDefinitionAddress",invalidPersona:"invalidPersona"},xf=new Map().set(rr.missingExtension,"extension could not be found").set(rr.rejectedByUser,"user rejected request").set(rr.canceledByUser,"user has canceled the request"),ln=(e,t,n)=>({error:e,interactionId:t,message:n||xf.get(e)||""}),Po=e=>mt.fromPromise(zu.parseAsync(e),t=>t.issues).andThen(t=>t.discriminator==="success"?lt(t):ze(t)).mapErr(()=>ln("walletResponseValidation","")),Sf=(e,t)=>{const n=e.logger,r=wf(n);return{request:(a,i={})=>r(e,a).andThen(s=>t.send(s,i)).andThen(Po).map(s=>s.items),sendTransaction:(a,i={})=>r(e,{discriminator:"transaction",send:a}).andThen(s=>t.send(s,i)).andThen(Po).map(s=>s.items.send),extensionStatus$:t.extensionStatus$,openPopup:t.openPopup}};var Pi=function(e,t){return Pi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])},Pi(e,t)};function Bt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Pi(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Tf(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function o(d){try{u(r.next(d))}catch(y){s(y)}}function l(d){try{u(r.throw(d))}catch(y){s(y)}}function u(d){d.done?i(d.value):a(d.value).then(o,l)}u((r=r.apply(e,t||[])).next())})}function Vu(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,a,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(d){return l([u,d])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,a=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],a=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Ln(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Un(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],s;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(o){s={error:o}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i}function zn(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function En(e){return this instanceof En?(this.v=e,this):new En(e)}function Pf(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),a,i=[];return a={},s("next"),s("throw"),s("return"),a[Symbol.asyncIterator]=function(){return this},a;function s(f){r[f]&&(a[f]=function(g){return new Promise(function(b,_){i.push([f,g,b,_])>1||o(f,g)})})}function o(f,g){try{l(r[f](g))}catch(b){y(i[0][3],b)}}function l(f){f.value instanceof En?Promise.resolve(f.value.v).then(u,d):y(i[0][2],f)}function u(f){o("next",f)}function d(f){o("throw",f)}function y(f,g){f(g),i.shift(),i.length&&o(i[0][0],i[0][1])}}function Cf(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Ln=="function"?Ln(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(o,l){s=e[i](s),a(o,l,s.done,s.value)})}}function a(i,s,o,l){Promise.resolve(l).then(function(u){i({value:u,done:o})},s)}}function he(e){return typeof e=="function"}function ds(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ga=ds(function(e){return function(t){e(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function Qr(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Gn=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,a,i;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var o=Ln(s),l=o.next();!l.done;l=o.next()){var u=l.value;u.remove(this)}}catch(_){t={error:_}}finally{try{l&&!l.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}else s.remove(this);var d=this.initialTeardown;if(he(d))try{d()}catch(_){i=_ instanceof Ga?_.errors:[_]}var y=this._finalizers;if(y){this._finalizers=null;try{for(var f=Ln(y),g=f.next();!g.done;g=f.next()){var b=g.value;try{Co(b)}catch(_){i=i??[],_ instanceof Ga?i=zn(zn([],Un(i)),Un(_.errors)):i.push(_)}}}catch(_){r={error:_}}finally{try{g&&!g.done&&(a=f.return)&&a.call(f)}finally{if(r)throw r.error}}}if(i)throw new Ga(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Co(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&Qr(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&Qr(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),Mu=Gn.EMPTY;function Bu(e){return e instanceof Gn||e&&"closed"in e&&he(e.remove)&&he(e.add)&&he(e.unsubscribe)}function Co(e){he(e)?e():e.unsubscribe()}var Wu={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Rf={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,zn([e,t],Un(n)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function Ku(e){Rf.setTimeout(function(){throw e})}function Ci(){}function Zr(e){e()}var ps=function(e){Bt(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,Bu(n)&&n.add(r)):r.destination=If,r}return t.create=function(n,r,a){return new Vn(n,r,a)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Gn),Ef=Function.prototype.bind;function Ha(e,t){return Ef.call(e,t)}var Of=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){Ir(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){Ir(r)}else Ir(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){Ir(n)}},e}(),Vn=function(e){Bt(t,e);function t(n,r,a){var i=e.call(this)||this,s;if(he(n)||!n)s={next:n??void 0,error:r??void 0,complete:a??void 0};else{var o;i&&Wu.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=function(){return i.unsubscribe()},s={next:n.next&&Ha(n.next,o),error:n.error&&Ha(n.error,o),complete:n.complete&&Ha(n.complete,o)}):s=n}return i.destination=new Of(s),i}return t}(ps);function Ir(e){Ku(e)}function Af(e){throw e}var If={closed:!0,next:Ci,error:Af,complete:Ci},fs=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function xa(e){return e}function Nf(e){return e.length===0?xa:e.length===1?e[0]:function(t){return e.reduce(function(n,r){return r(n)},t)}}var Ce=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var a=this,i=jf(t)?t:new Vn(t,n,r);return Zr(function(){var s=a,o=s.operator,l=s.source;i.add(o?o.call(i,l):l?a._subscribe(i):a._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=Ro(n),new n(function(a,i){var s=new Vn({next:function(o){try{t(o)}catch(l){i(l),s.unsubscribe()}},error:i,complete:a});r.subscribe(s)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[fs]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Nf(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=Ro(t),new t(function(r,a){var i;n.subscribe(function(s){return i=s},function(s){return a(s)},function(){return r(i)})})},e.create=function(t){return new e(t)},e}();function Ro(e){var t;return(t=e??Wu.Promise)!==null&&t!==void 0?t:Promise}function Df(e){return e&&he(e.next)&&he(e.error)&&he(e.complete)}function jf(e){return e&&e instanceof ps||Df(e)&&Bu(e)}function qf(e){return he(e==null?void 0:e.lift)}function We(e){return function(t){if(qf(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function De(e,t,n,r,a){return new Zf(e,t,n,r,a)}var Zf=function(e){Bt(t,e);function t(n,r,a,i,s,o){var l=e.call(this,n)||this;return l.onFinalize=s,l.shouldUnsubscribe=o,l._next=r?function(u){try{r(u)}catch(d){n.error(d)}}:e.prototype._next,l._error=i?function(u){try{i(u)}catch(d){n.error(d)}finally{this.unsubscribe()}}:e.prototype._error,l._complete=a?function(){try{a()}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,l}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(ps),Ff=ds(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),on=function(e){Bt(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new Eo(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new Ff},t.prototype.next=function(n){var r=this;Zr(function(){var a,i;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var s=Ln(r.currentObservers),o=s.next();!o.done;o=s.next()){var l=o.value;l.next(n)}}catch(u){a={error:u}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(a)throw a.error}}}})},t.prototype.error=function(n){var r=this;Zr(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var a=r.observers;a.length;)a.shift().error(n)}})},t.prototype.complete=function(){var n=this;Zr(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,a=this,i=a.hasError,s=a.isStopped,o=a.observers;return i||s?Mu:(this.currentObservers=null,o.push(n),new Gn(function(){r.currentObservers=null,Qr(o,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,a=r.hasError,i=r.thrownError,s=r.isStopped;a?n.error(i):s&&n.complete()},t.prototype.asObservable=function(){var n=new Ce;return n.source=this,n},t.create=function(n,r){return new Eo(n,r)},t}(Ce),Eo=function(e){Bt(t,e);function t(n,r){var a=e.call(this)||this;return a.destination=n,a.source=r,a}return t.prototype.next=function(n){var r,a;(a=(r=this.destination)===null||r===void 0?void 0:r.next)===null||a===void 0||a.call(r,n)},t.prototype.error=function(n){var r,a;(a=(r=this.destination)===null||r===void 0?void 0:r.error)===null||a===void 0||a.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,a;return(a=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&a!==void 0?a:Mu},t}(on),Lf={now:function(){return Date.now()},delegate:void 0},Uf=function(e){Bt(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(Gn),Ri={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a=Ri.delegate;return a!=null&&a.setInterval?a.setInterval.apply(a,zn([e,t],Un(n))):setInterval.apply(void 0,zn([e,t],Un(n)))},clearInterval:function(e){return clearInterval(e)},delegate:void 0},zf=function(e){Bt(t,e);function t(n,r){var a=e.call(this,n,r)||this;return a.scheduler=n,a.work=r,a.pending=!1,a}return t.prototype.schedule=function(n,r){var a;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,r)),this.pending=!0,this.delay=r,this.id=(a=this.id)!==null&&a!==void 0?a:this.requestAsyncId(s,this.id,r),this},t.prototype.requestAsyncId=function(n,r,a){return a===void 0&&(a=0),Ri.setInterval(n.flush.bind(n,this),a)},t.prototype.recycleAsyncId=function(n,r,a){if(a===void 0&&(a=0),a!=null&&this.delay===a&&this.pending===!1)return r;r!=null&&Ri.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var a=this._execute(n,r);if(a)return a;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var a=!1,i;try{this.work(n)}catch(s){a=!0,i=s||new Error("Scheduled action threw falsy error")}if(a)return this.unsubscribe(),i},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,a=n.scheduler,i=a.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Qr(i,this),r!=null&&(this.id=this.recycleAsyncId(a,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Uf),Oo=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=Lf.now,e}(),Vf=function(e){Bt(t,e);function t(n,r){r===void 0&&(r=Oo.now);var a=e.call(this,n,r)||this;return a.actions=[],a._active=!1,a}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var a;this._active=!0;do if(a=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,a){for(;n=r.shift();)n.unsubscribe();throw a}},t}(Oo),Mf=new Vf(zf),Bf=Mf,Gu=new Ce(function(e){return e.complete()});function Hu(e){return e&&he(e.schedule)}function Ju(e){return e[e.length-1]}function $u(e){return Hu(Ju(e))?e.pop():void 0}function Wf(e,t){return typeof Ju(e)=="number"?e.pop():t}var Xu=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function Qu(e){return he(e==null?void 0:e.then)}function Yu(e){return he(e[fs])}function el(e){return Symbol.asyncIterator&&he(e==null?void 0:e[Symbol.asyncIterator])}function tl(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Kf(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var nl=Kf();function rl(e){return he(e==null?void 0:e[nl])}function al(e){return Pf(this,arguments,function(){var t,n,r,a;return Vu(this,function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,En(t.read())];case 3:return n=i.sent(),r=n.value,a=n.done,a?[4,En(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,En(r)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function il(e){return he(e==null?void 0:e.getReader)}function Ke(e){if(e instanceof Ce)return e;if(e!=null){if(Yu(e))return Gf(e);if(Xu(e))return Hf(e);if(Qu(e))return Jf(e);if(el(e))return sl(e);if(rl(e))return $f(e);if(il(e))return Xf(e)}throw tl(e)}function Gf(e){return new Ce(function(t){var n=e[fs]();if(he(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Hf(e){return new Ce(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Jf(e){return new Ce(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,Ku)})}function $f(e){return new Ce(function(t){var n,r;try{for(var a=Ln(e),i=a.next();!i.done;i=a.next()){var s=i.value;if(t.next(s),t.closed)return}}catch(o){n={error:o}}finally{try{i&&!i.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}t.complete()})}function sl(e){return new Ce(function(t){Qf(e,t).catch(function(n){return t.error(n)})})}function Xf(e){return sl(al(e))}function Qf(e,t){var n,r,a,i;return Tf(this,void 0,void 0,function(){var s,o;return Vu(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=Cf(e),l.label=1;case 1:return[4,n.next()];case 2:if(r=l.sent(),!!r.done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return o=l.sent(),a={error:o},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function qt(e,t,n,r,a){r===void 0&&(r=0),a===void 0&&(a=!1);var i=t.schedule(function(){n(),a?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!a)return i}function ol(e,t){return t===void 0&&(t=0),We(function(n,r){n.subscribe(De(r,function(a){return qt(r,e,function(){return r.next(a)},t)},function(){return qt(r,e,function(){return r.complete()},t)},function(a){return qt(r,e,function(){return r.error(a)},t)}))})}function ul(e,t){return t===void 0&&(t=0),We(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function Yf(e,t){return Ke(e).pipe(ul(t),ol(t))}function eh(e,t){return Ke(e).pipe(ul(t),ol(t))}function th(e,t){return new Ce(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function nh(e,t){return new Ce(function(n){var r;return qt(n,t,function(){r=e[nl](),qt(n,t,function(){var a,i,s;try{a=r.next(),i=a.value,s=a.done}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),function(){return he(r==null?void 0:r.return)&&r.return()}})}function ll(e,t){if(!e)throw new Error("Iterable cannot be null");return new Ce(function(n){qt(n,t,function(){var r=e[Symbol.asyncIterator]();qt(n,t,function(){r.next().then(function(a){a.done?n.complete():n.next(a.value)})},0,!0)})})}function rh(e,t){return ll(al(e),t)}function ah(e,t){if(e!=null){if(Yu(e))return Yf(e,t);if(Xu(e))return th(e,t);if(Qu(e))return eh(e,t);if(el(e))return ll(e,t);if(rl(e))return nh(e,t);if(il(e))return rh(e,t)}throw tl(e)}function cl(e,t){return t?ah(e,t):Ke(e)}function Ao(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=$u(e);return cl(e,n)}var hs=ds(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function dl(e,t){var n=typeof t=="object";return new Promise(function(r,a){var i=new Vn({next:function(s){r(s),i.unsubscribe()},error:a,complete:function(){n?r(t.defaultValue):a(new hs)}});e.subscribe(i)})}function ih(e){return e instanceof Date&&!isNaN(e)}function Qt(e,t){return We(function(n,r){var a=0;n.subscribe(De(r,function(i){r.next(e.call(t,i,a++))}))})}function sh(e,t,n,r,a,i,s,o){var l=[],u=0,d=0,y=!1,f=function(){y&&!l.length&&!u&&t.complete()},g=function(_){return u<r?b(_):l.push(_)},b=function(_){i&&t.next(_),u++;var x=!1;Ke(n(_,d++)).subscribe(De(t,function(O){a==null||a(O),i?g(O):t.next(O)},function(){x=!0},void 0,function(){if(x)try{u--;for(var O=function(){var j=l.shift();s?qt(t,s,function(){return b(j)}):b(j)};l.length&&u<r;)O();f()}catch(j){t.error(j)}}))};return e.subscribe(De(t,g,function(){y=!0,f()})),function(){o==null||o()}}function pl(e,t,n){return n===void 0&&(n=1/0),he(t)?pl(function(r,a){return Qt(function(i,s){return t(r,i,a,s)})(Ke(e(r,a)))},n):(typeof t=="number"&&(n=t),We(function(r,a){return sh(r,a,e,n)}))}function oh(e){return e===void 0&&(e=1/0),pl(xa,e)}function Io(e,t,n){e===void 0&&(e=0),n===void 0&&(n=Bf);var r=-1;return t!=null&&(Hu(t)?n=t:r=t),new Ce(function(a){var i=ih(e)?+e-n.now():e;i<0&&(i=0);var s=0;return n.schedule(function(){a.closed||(a.next(s++),0<=r?this.schedule(void 0,r):a.complete())},i)})}function er(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=$u(e),r=Wf(e,1/0),a=e;return a.length?a.length===1?Ke(a[0]):oh(r)(cl(a,n)):Gu}var uh=Array.isArray;function lh(e){return e.length===1&&uh(e[0])?e[0]:e}function Yt(e,t){return We(function(n,r){var a=0;n.subscribe(De(r,function(i){return e.call(t,i,a++)&&r.next(i)}))})}function ch(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e=lh(e),e.length===1?Ke(e[0]):new Ce(dh(e))}function dh(e){return function(t){for(var n=[],r=function(i){n.push(Ke(e[i]).subscribe(De(t,function(s){if(n){for(var o=0;o<n.length;o++)o!==i&&n[o].unsubscribe();n=null}t.next(s)})))},a=0;n&&!t.closed&&a<e.length;a++)r(a)}}function ph(e){return We(function(t,n){var r=!1;t.subscribe(De(n,function(a){r=!0,n.next(a)},function(){r||n.next(e),n.complete()}))})}function fh(e){return e<=0?function(){return Gu}:We(function(t,n){var r=0;t.subscribe(De(n,function(a){++r<=e&&(n.next(a),e<=r&&n.complete())}))})}function hh(e){return e===void 0&&(e=mh),We(function(t,n){var r=!1;t.subscribe(De(n,function(a){r=!0,n.next(a)},function(){return r?n.complete():n.error(e())}))})}function mh(){return new hs}function No(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Yt(function(a,i){return e(a,i,r)}):xa,fh(1),n?ph(t):hh(function(){return new hs}))}}function _h(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new on}:t,r=e.resetOnError,a=r===void 0?!0:r,i=e.resetOnComplete,s=i===void 0?!0:i,o=e.resetOnRefCountZero,l=o===void 0?!0:o;return function(u){var d,y,f,g=0,b=!1,_=!1,x=function(){y==null||y.unsubscribe(),y=void 0},O=function(){x(),d=f=void 0,b=_=!1},j=function(){var m=d;O(),m==null||m.unsubscribe()};return We(function(m,D){g++,!_&&!b&&x();var te=f=f??n();D.add(function(){g--,g===0&&!_&&!b&&(y=Ja(j,l))}),te.subscribe(D),!d&&g>0&&(d=new Vn({next:function(re){return te.next(re)},error:function(re){_=!0,x(),y=Ja(O,a,re),te.error(re)},complete:function(){b=!0,x(),y=Ja(O,s),te.complete()}}),Ke(m).subscribe(d))})(u)}}function Ja(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var a=new Vn({next:function(){a.unsubscribe(),e()}});return Ke(t.apply(void 0,zn([],Un(n)))).subscribe(a)}}function yh(e,t){return We(function(n,r){var a=null,i=0,s=!1,o=function(){return s&&!a&&r.complete()};n.subscribe(De(r,function(l){a==null||a.unsubscribe();var u=0,d=i++;Ke(e(l,d)).subscribe(a=De(r,function(y){return r.next(t?t(l,y,d,u++):y)},function(){a=null,o()}))},function(){s=!0,o()}))})}function gh(e){return We(function(t,n){Ke(e).subscribe(De(n,function(){return n.complete()},Ci)),!n.closed&&t.subscribe(n)})}function bn(e,t,n){var r=he(e)||t||n?{next:e,error:t,complete:n}:e;return r?We(function(a,i){var s;(s=r.subscribe)===null||s===void 0||s.call(r);var o=!0;a.subscribe(De(i,function(l){var u;(u=r.next)===null||u===void 0||u.call(r,l),i.next(l)},function(){var l;o=!1,(l=r.complete)===null||l===void 0||l.call(r),i.complete()},function(l){var u;o=!1,(u=r.error)===null||u===void 0||u.call(r,l),i.error(l)},function(){var l,u;o&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):xa}const vh=()=>({outgoingMessageSubject:new on,incomingMessageSubject:new on,responseSubject:new on,messageLifeCycleEventSubject:new on}),bh=e=>mt.fromPromise(dl(e),kf).andThen(t=>t),Do={extensionDetectionTime:100},wh=e=>{const t=e==null?void 0:e.logger,n=(e==null?void 0:e.subjects)??vh(),r=new Gn;r.add(n.incomingMessageSubject.pipe(bn(o=>{"eventType"in o?(t==null||t.debug(" messageLifecycleEvent",o),n.messageLifeCycleEventSubject.next(o)):(t==null||t.debug(" walletResponse",o),n.responseSubject.next(o))})).subscribe()),r.add(n.outgoingMessageSubject.pipe(bn(o=>{t==null||t.debug(" walletRequest",o),window.dispatchEvent(new CustomEvent(Ar.outgoingMessage,{detail:o}))})).subscribe());const a=o=>{const l=o.detail;n.incomingMessageSubject.next(l)};addEventListener(Ar.incomingMessage,a);const i=(o,l)=>{const u=new on,d=n.responseSubject.pipe(Yt(m=>m.interactionId===o.interactionId),Qt(m=>m.discriminator==="success"?lt(m):ze(m))),y=n.messageLifeCycleEventSubject.pipe(Yt(({interactionId:m,eventType:D})=>o.interactionId===m&&["requestCancelSuccess","requestCancelFail"].includes(D)),Qt(m=>{const D=ln("canceledByUser",m.interactionId);return t==null||t.debug(" walletRequestCanceled",D),m})),f=()=>(n.outgoingMessageSubject.next({interactionId:o.interactionId,items:{discriminator:"cancelRequest"},metadata:o.metadata}),setTimeout(()=>{u.next(ze(ln("canceledByUser",o.interactionId)))}),mt.fromSafePromise(dl(er(d.pipe(Qt(()=>"requestCancelFail")),y.pipe(Qt(({eventType:m})=>m))))));l.requestControl&&l.requestControl({cancelRequest:()=>f().andThen(m=>m==="requestCancelSuccess"?lt("requestCancelSuccess"):ze("requestCancelFail")),getRequest:()=>o});const g=er(d,u).pipe(No()),b=n.messageLifeCycleEventSubject.pipe(Yt(({interactionId:m})=>o.interactionId===m),bn(m=>{l.eventCallback&&l.eventCallback(m.eventType)}),gh(d),_h()),_=b.subscribe(),x=Io(Do.extensionDetectionTime).pipe(Qt(()=>ze(ln("missingExtension",o.interactionId)))),O=er(x,b).pipe(No(),Yt(m=>!("eventType"in m))),j=Ao(o).pipe(bn(m=>{n.outgoingMessageSubject.next(m)}),Yt(m=>!1));return bh(er(g,O,j).pipe(bn(()=>{_.unsubscribe()})))},s=n.messageLifeCycleEventSubject.pipe(Yt(o=>o.eventType==="extensionStatus"));return{send:i,destroy:()=>{r.unsubscribe(),removeEventListener(Ar.incomingMessage,a)},openPopup:()=>{window.dispatchEvent(new CustomEvent(Ar.outgoingMessage,{detail:{discriminator:"openPopup"}}))},extensionStatus$:Ao(!0).pipe(bn(()=>{n.outgoingMessageSubject.next({interactionId:crypto.randomUUID(),discriminator:"extensionStatus"})}),yh(()=>ch(s,er(s,Io(Do.extensionDetectionTime).pipe(Qt(()=>({eventType:"extensionStatus",isWalletLinked:!1,isExtensionAvailable:!1})))))))}};var jo;[typeof window,typeof document].includes("undefined"),(jo=globalThis==null?void 0:globalThis.navigator)==null||jo.userAgent;const kh=e=>{var t,n;const r={version:2,dAppDefinitionAddress:e.dAppDefinitionAddress,networkId:e.networkId};Uu.parse(r),(t=e.logger)==null||t.debug(" walletSdkInstantiated",r);const a=e.logger,i=((n=e.providers)==null?void 0:n.connectorExtensionClient)??wh({logger:a});return{...Sf({version:2,logger:e.logger,dAppDefinitionAddress:e.dAppDefinitionAddress,networkId:e.networkId},i),destroy:()=>{a==null||a.debug(" walletSdkInstantiatedDestroyed"),i.destroy()}}};var X;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function n(a){throw new Error}e.assertNever=n,e.arrayToEnum=a=>{const i={};for(const s of a)i[s]=s;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(o=>typeof a[a[o]]!="number"),s={};for(const o of i)s[o]=a[o];return e.objectValues(s)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&i.push(s);return i},e.find=(a,i)=>{for(const s of a)if(i(s))return s},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function r(a,i=" | "){return a.map(s=>typeof s=="string"?`'${s}'`:s).join(i)}e.joinValues=r,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(X||(X={}));var qo;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(qo||(qo={}));const C=X.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),rn=e=>{switch(typeof e){case"undefined":return C.undefined;case"string":return C.string;case"number":return isNaN(e)?C.nan:C.number;case"boolean":return C.boolean;case"function":return C.function;case"bigint":return C.bigint;case"symbol":return C.symbol;case"object":return Array.isArray(e)?C.array:e===null?C.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?C.promise:typeof Map<"u"&&e instanceof Map?C.map:typeof Set<"u"&&e instanceof Set?C.set:typeof Date<"u"&&e instanceof Date?C.date:C.object;default:return C.unknown}},w=X.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class dn extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(i){return i.message},r={_errors:[]},a=i=>{for(const s of i.issues)if(s.code==="invalid_union")s.unionErrors.map(a);else if(s.code==="invalid_return_type")a(s.returnTypeError);else if(s.code==="invalid_arguments")a(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let o=r,l=0;for(;l<s.path.length;){const u=s.path[l];l===s.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(n(s))):o[u]=o[u]||{_errors:[]},o=o[u],l++}}};return a(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,X.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const a of this.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):r.push(t(a));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}dn.create=e=>new dn(e);const fl=(e,t)=>{let n;switch(e.code){case w.invalid_type:e.received===C.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case w.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,X.jsonStringifyReplacer)}`;break;case w.unrecognized_keys:n=`Unrecognized key(s) in object: ${X.joinValues(e.keys,", ")}`;break;case w.invalid_union:n="Invalid input";break;case w.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${X.joinValues(e.options)}`;break;case w.invalid_enum_value:n=`Invalid enum value. Expected ${X.joinValues(e.options)}, received '${e.received}'`;break;case w.invalid_arguments:n="Invalid function arguments";break;case w.invalid_return_type:n="Invalid function return type";break;case w.invalid_date:n="Invalid date";break;case w.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:X.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case w.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case w.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case w.custom:n="Invalid input";break;case w.invalid_intersection_types:n="Intersection results could not be merged";break;case w.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case w.not_finite:n="Number must be finite";break;default:n=t.defaultError,X.assertNever(e)}return{message:n}};let xh=fl;function Sh(){return xh}const Th=e=>{const{data:t,path:n,errorMaps:r,issueData:a}=e,i=[...n,...a.path||[]],s={...a,path:i};let o="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)o=u(s,{data:t,defaultError:o}).message;return{...a,path:i,message:a.message||o}};function P(e,t){const n=Th({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,Sh(),fl].filter(r=>!!r)});e.common.issues.push(n)}class je{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const a of n){if(a.status==="aborted")return U;a.status==="dirty"&&t.dirty(),r.push(a.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const a of n)r.push({key:await a.key,value:await a.value});return je.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const a of n){const{key:i,value:s}=a;if(i.status==="aborted"||s.status==="aborted")return U;i.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof s.value<"u"||a.alwaysSet)&&(r[i.value]=s.value)}return{status:t.value,value:r}}}const U=Object.freeze({status:"aborted"}),Ph=e=>({status:"dirty",value:e}),Ge=e=>({status:"valid",value:e}),Zo=e=>e.status==="aborted",Fo=e=>e.status==="dirty",Yr=e=>e.status==="valid",Ei=e=>typeof Promise<"u"&&e instanceof Promise;var N;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(N||(N={}));class zt{constructor(t,n,r,a){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Lo=(e,t)=>{if(Yr(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new dn(e.common.issues);return this._error=n,this._error}}};function L(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:a}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(i,s)=>i.code!=="invalid_type"?{message:s.defaultError}:typeof s.data>"u"?{message:r??s.defaultError}:{message:n??s.defaultError},description:a}}class G{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return rn(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:rn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new je,ctx:{common:t.parent.common,data:t.data,parsedType:rn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Ei(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const a={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:rn(t)},i=this._parseSync({data:t,path:a.path,parent:a});return Lo(a,i)}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:rn(t)},a=this._parse({data:t,path:r.path,parent:r}),i=await(Ei(a)?a:Promise.resolve(a));return Lo(r,i)}refine(t,n){const r=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,i)=>{const s=t(a),o=()=>i.addIssue({code:w.custom,...r(a)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(o(),!1)):s?!0:(o(),!1)})}refinement(t,n){return this._refinement((r,a)=>t(r)?!0:(a.addIssue(typeof n=="function"?n(r,a):n),!1))}_refinement(t){return new St({schema:this,typeName:q.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return Zt.create(this,this._def)}nullable(){return Mn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return dt.create(this,this._def)}promise(){return ua.create(this,this._def)}or(t){return ra.create([this,t],this._def)}and(t){return aa.create(this,t,this._def)}transform(t){return new St({...L(this._def),schema:this,typeName:q.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new la({...L(this._def),innerType:this,defaultValue:n,typeName:q.ZodDefault})}brand(){return new Fh({typeName:q.ZodBranded,type:this,...L(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Ii({...L(this._def),innerType:this,catchValue:n,typeName:q.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return _s.create(this,t)}readonly(){return Ni.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Ch=/^c[^\s-]{8,}$/i,Rh=/^[a-z][a-z0-9]*$/,Eh=/^[0-9A-HJKMNP-TV-Z]{26}$/,Oh=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ah=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Ih="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let $a;const Nh=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Dh=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,jh=e=>e.precision?e.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):e.precision===0?e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function qh(e,t){return!!((t==="v4"||!t)&&Nh.test(e)||(t==="v6"||!t)&&Dh.test(e))}class Dt extends G{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==C.string){const a=this._getOrReturnCtx(t);return P(a,{code:w.invalid_type,expected:C.string,received:a.parsedType}),U}const n=new je;let r;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(r=this._getOrReturnCtx(t,r),P(r,{code:w.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(r=this._getOrReturnCtx(t,r),P(r,{code:w.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const i=t.data.length>a.value,s=t.data.length<a.value;(i||s)&&(r=this._getOrReturnCtx(t,r),i?P(r,{code:w.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):s&&P(r,{code:w.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")Ah.test(t.data)||(r=this._getOrReturnCtx(t,r),P(r,{validation:"email",code:w.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")$a||($a=new RegExp(Ih,"u")),$a.test(t.data)||(r=this._getOrReturnCtx(t,r),P(r,{validation:"emoji",code:w.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")Oh.test(t.data)||(r=this._getOrReturnCtx(t,r),P(r,{validation:"uuid",code:w.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")Ch.test(t.data)||(r=this._getOrReturnCtx(t,r),P(r,{validation:"cuid",code:w.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")Rh.test(t.data)||(r=this._getOrReturnCtx(t,r),P(r,{validation:"cuid2",code:w.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")Eh.test(t.data)||(r=this._getOrReturnCtx(t,r),P(r,{validation:"ulid",code:w.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{r=this._getOrReturnCtx(t,r),P(r,{validation:"url",code:w.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(r=this._getOrReturnCtx(t,r),P(r,{validation:"regex",code:w.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(r=this._getOrReturnCtx(t,r),P(r,{code:w.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(r=this._getOrReturnCtx(t,r),P(r,{code:w.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(r=this._getOrReturnCtx(t,r),P(r,{code:w.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?jh(a).test(t.data)||(r=this._getOrReturnCtx(t,r),P(r,{code:w.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="ip"?qh(t.data,a.version)||(r=this._getOrReturnCtx(t,r),P(r,{validation:"ip",code:w.invalid_string,message:a.message}),n.dirty()):X.assertNever(a);return{status:n.value,value:t.data}}_regex(t,n,r){return this.refinement(a=>t.test(a),{validation:n,code:w.invalid_string,...N.errToObj(r)})}_addCheck(t){return new Dt({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...N.errToObj(t)})}url(t){return this._addCheck({kind:"url",...N.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...N.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...N.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...N.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...N.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...N.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...N.errToObj(t)})}datetime(t){var n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,...N.errToObj(t==null?void 0:t.message)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...N.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...N.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...N.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...N.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...N.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...N.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...N.errToObj(n)})}nonempty(t){return this.min(1,N.errToObj(t))}trim(){return new Dt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Dt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Dt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Dt.create=e=>{var t;return new Dt({checks:[],typeName:q.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...L(e)})};function Zh(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r,i=parseInt(e.toFixed(a).replace(".","")),s=parseInt(t.toFixed(a).replace(".",""));return i%s/Math.pow(10,a)}class lr extends G{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==C.number){const a=this._getOrReturnCtx(t);return P(a,{code:w.invalid_type,expected:C.number,received:a.parsedType}),U}let n;const r=new je;for(const a of this._def.checks)a.kind==="int"?X.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),P(n,{code:w.invalid_type,expected:"integer",received:"float",message:a.message}),r.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),P(n,{code:w.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),P(n,{code:w.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty()):a.kind==="multipleOf"?Zh(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),P(n,{code:w.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),P(n,{code:w.not_finite,message:a.message}),r.dirty()):X.assertNever(a);return{status:r.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,N.toString(n))}gt(t,n){return this.setLimit("min",t,!1,N.toString(n))}lte(t,n){return this.setLimit("max",t,!0,N.toString(n))}lt(t,n){return this.setLimit("max",t,!1,N.toString(n))}setLimit(t,n,r,a){return new lr({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:N.toString(a)}]})}_addCheck(t){return new lr({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:N.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:N.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:N.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:N.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:N.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:N.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:N.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:N.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:N.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&X.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}lr.create=e=>new lr({checks:[],typeName:q.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...L(e)});class cr extends G{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==C.bigint){const a=this._getOrReturnCtx(t);return P(a,{code:w.invalid_type,expected:C.bigint,received:a.parsedType}),U}let n;const r=new je;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),P(n,{code:w.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),P(n,{code:w.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),P(n,{code:w.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):X.assertNever(a);return{status:r.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,N.toString(n))}gt(t,n){return this.setLimit("min",t,!1,N.toString(n))}lte(t,n){return this.setLimit("max",t,!0,N.toString(n))}lt(t,n){return this.setLimit("max",t,!1,N.toString(n))}setLimit(t,n,r,a){return new cr({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:N.toString(a)}]})}_addCheck(t){return new cr({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:N.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:N.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:N.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:N.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:N.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}cr.create=e=>{var t;return new cr({checks:[],typeName:q.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...L(e)})};class Oi extends G{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==C.boolean){const n=this._getOrReturnCtx(t);return P(n,{code:w.invalid_type,expected:C.boolean,received:n.parsedType}),U}return Ge(t.data)}}Oi.create=e=>new Oi({typeName:q.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...L(e)});class ea extends G{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==C.date){const a=this._getOrReturnCtx(t);return P(a,{code:w.invalid_type,expected:C.date,received:a.parsedType}),U}if(isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return P(a,{code:w.invalid_date}),U}const n=new je;let r;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(r=this._getOrReturnCtx(t,r),P(r,{code:w.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(r=this._getOrReturnCtx(t,r),P(r,{code:w.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):X.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new ea({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:N.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:N.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}ea.create=e=>new ea({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:q.ZodDate,...L(e)});class Uo extends G{_parse(t){if(this._getType(t)!==C.symbol){const n=this._getOrReturnCtx(t);return P(n,{code:w.invalid_type,expected:C.symbol,received:n.parsedType}),U}return Ge(t.data)}}Uo.create=e=>new Uo({typeName:q.ZodSymbol,...L(e)});class ta extends G{_parse(t){if(this._getType(t)!==C.undefined){const n=this._getOrReturnCtx(t);return P(n,{code:w.invalid_type,expected:C.undefined,received:n.parsedType}),U}return Ge(t.data)}}ta.create=e=>new ta({typeName:q.ZodUndefined,...L(e)});class na extends G{_parse(t){if(this._getType(t)!==C.null){const n=this._getOrReturnCtx(t);return P(n,{code:w.invalid_type,expected:C.null,received:n.parsedType}),U}return Ge(t.data)}}na.create=e=>new na({typeName:q.ZodNull,...L(e)});class zo extends G{constructor(){super(...arguments),this._any=!0}_parse(t){return Ge(t.data)}}zo.create=e=>new zo({typeName:q.ZodAny,...L(e)});class Vo extends G{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ge(t.data)}}Vo.create=e=>new Vo({typeName:q.ZodUnknown,...L(e)});class Vt extends G{_parse(t){const n=this._getOrReturnCtx(t);return P(n,{code:w.invalid_type,expected:C.never,received:n.parsedType}),U}}Vt.create=e=>new Vt({typeName:q.ZodNever,...L(e)});class Mo extends G{_parse(t){if(this._getType(t)!==C.undefined){const n=this._getOrReturnCtx(t);return P(n,{code:w.invalid_type,expected:C.void,received:n.parsedType}),U}return Ge(t.data)}}Mo.create=e=>new Mo({typeName:q.ZodVoid,...L(e)});class dt extends G{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),a=this._def;if(n.parsedType!==C.array)return P(n,{code:w.invalid_type,expected:C.array,received:n.parsedType}),U;if(a.exactLength!==null){const s=n.data.length>a.exactLength.value,o=n.data.length<a.exactLength.value;(s||o)&&(P(n,{code:s?w.too_big:w.too_small,minimum:o?a.exactLength.value:void 0,maximum:s?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(P(n,{code:w.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(P(n,{code:w.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,o)=>a.type._parseAsync(new zt(n,s,n.path,o)))).then(s=>je.mergeArray(r,s));const i=[...n.data].map((s,o)=>a.type._parseSync(new zt(n,s,n.path,o)));return je.mergeArray(r,i)}get element(){return this._def.type}min(t,n){return new dt({...this._def,minLength:{value:t,message:N.toString(n)}})}max(t,n){return new dt({...this._def,maxLength:{value:t,message:N.toString(n)}})}length(t,n){return new dt({...this._def,exactLength:{value:t,message:N.toString(n)}})}nonempty(t){return this.min(1,t)}}dt.create=(e,t)=>new dt({type:e,minLength:null,maxLength:null,exactLength:null,typeName:q.ZodArray,...L(t)});function xn(e){if(e instanceof ce){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Zt.create(xn(r))}return new ce({...e._def,shape:()=>t})}else return e instanceof dt?new dt({...e._def,type:xn(e.element)}):e instanceof Zt?Zt.create(xn(e.unwrap())):e instanceof Mn?Mn.create(xn(e.unwrap())):e instanceof pn?pn.create(e.items.map(t=>xn(t))):e}class ce extends G{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=X.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==C.object){const l=this._getOrReturnCtx(t);return P(l,{code:w.invalid_type,expected:C.object,received:l.parsedType}),U}const{status:n,ctx:r}=this._processInputParams(t),{shape:a,keys:i}=this._getCached(),s=[];if(!(this._def.catchall instanceof Vt&&this._def.unknownKeys==="strip"))for(const l in r.data)i.includes(l)||s.push(l);const o=[];for(const l of i){const u=a[l],d=r.data[l];o.push({key:{status:"valid",value:l},value:u._parse(new zt(r,d,r.path,l)),alwaysSet:l in r.data})}if(this._def.catchall instanceof Vt){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of s)o.push({key:{status:"valid",value:u},value:{status:"valid",value:r.data[u]}});else if(l==="strict")s.length>0&&(P(r,{code:w.unrecognized_keys,keys:s}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of s){const d=r.data[u];o.push({key:{status:"valid",value:u},value:l._parse(new zt(r,d,r.path,u)),alwaysSet:u in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of o){const d=await u.key;l.push({key:d,value:await u.value,alwaysSet:u.alwaysSet})}return l}).then(l=>je.mergeObjectSync(n,l)):je.mergeObjectSync(n,o)}get shape(){return this._def.shape()}strict(t){return N.errToObj,new ce({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var a,i,s,o;const l=(s=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,n,r).message)!==null&&s!==void 0?s:r.defaultError;return n.code==="unrecognized_keys"?{message:(o=N.errToObj(t).message)!==null&&o!==void 0?o:l}:{message:l}}}:{}})}strip(){return new ce({...this._def,unknownKeys:"strip"})}passthrough(){return new ce({...this._def,unknownKeys:"passthrough"})}extend(t){return new ce({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ce({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:q.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new ce({...this._def,catchall:t})}pick(t){const n={};return X.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new ce({...this._def,shape:()=>n})}omit(t){const n={};return X.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new ce({...this._def,shape:()=>n})}deepPartial(){return xn(this)}partial(t){const n={};return X.objectKeys(this.shape).forEach(r=>{const a=this.shape[r];t&&!t[r]?n[r]=a:n[r]=a.optional()}),new ce({...this._def,shape:()=>n})}required(t){const n={};return X.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Zt;)a=a._def.innerType;n[r]=a}}),new ce({...this._def,shape:()=>n})}keyof(){return hl(X.objectKeys(this.shape))}}ce.create=(e,t)=>new ce({shape:()=>e,unknownKeys:"strip",catchall:Vt.create(),typeName:q.ZodObject,...L(t)});ce.strictCreate=(e,t)=>new ce({shape:()=>e,unknownKeys:"strict",catchall:Vt.create(),typeName:q.ZodObject,...L(t)});ce.lazycreate=(e,t)=>new ce({shape:e,unknownKeys:"strip",catchall:Vt.create(),typeName:q.ZodObject,...L(t)});class ra extends G{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function a(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const s=i.map(o=>new dn(o.ctx.common.issues));return P(n,{code:w.invalid_union,unionErrors:s}),U}if(n.common.async)return Promise.all(r.map(async i=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(a);{let i;const s=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const o=s.map(l=>new dn(l));return P(n,{code:w.invalid_union,unionErrors:o}),U}}get options(){return this._def.options}}ra.create=(e,t)=>new ra({options:e,typeName:q.ZodUnion,...L(t)});const Fr=e=>e instanceof ia?Fr(e.schema):e instanceof St?Fr(e.innerType()):e instanceof sa?[e.value]:e instanceof fn?e.options:e instanceof oa?Object.keys(e.enum):e instanceof la?Fr(e._def.innerType):e instanceof ta?[void 0]:e instanceof na?[null]:null;class ms extends G{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==C.object)return P(n,{code:w.invalid_type,expected:C.object,received:n.parsedType}),U;const r=this.discriminator,a=n.data[r],i=this.optionsMap.get(a);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(P(n,{code:w.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),U)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const a=new Map;for(const i of n){const s=Fr(i.shape[t]);if(!s)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const o of s){if(a.has(o))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(o)}`);a.set(o,i)}}return new ms({typeName:q.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:a,...L(r)})}}function Ai(e,t){const n=rn(e),r=rn(t);if(e===t)return{valid:!0,data:e};if(n===C.object&&r===C.object){const a=X.objectKeys(t),i=X.objectKeys(e).filter(o=>a.indexOf(o)!==-1),s={...e,...t};for(const o of i){const l=Ai(e[o],t[o]);if(!l.valid)return{valid:!1};s[o]=l.data}return{valid:!0,data:s}}else if(n===C.array&&r===C.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const s=e[i],o=t[i],l=Ai(s,o);if(!l.valid)return{valid:!1};a.push(l.data)}return{valid:!0,data:a}}else return n===C.date&&r===C.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class aa extends G{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),a=(i,s)=>{if(Zo(i)||Zo(s))return U;const o=Ai(i.value,s.value);return o.valid?((Fo(i)||Fo(s))&&n.dirty(),{status:n.value,value:o.data}):(P(r,{code:w.invalid_intersection_types}),U)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,s])=>a(i,s)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}aa.create=(e,t,n)=>new aa({left:e,right:t,typeName:q.ZodIntersection,...L(n)});class pn extends G{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==C.array)return P(r,{code:w.invalid_type,expected:C.array,received:r.parsedType}),U;if(r.data.length<this._def.items.length)return P(r,{code:w.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),U;!this._def.rest&&r.data.length>this._def.items.length&&(P(r,{code:w.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((i,s)=>{const o=this._def.items[s]||this._def.rest;return o?o._parse(new zt(r,i,r.path,s)):null}).filter(i=>!!i);return r.common.async?Promise.all(a).then(i=>je.mergeArray(n,i)):je.mergeArray(n,a)}get items(){return this._def.items}rest(t){return new pn({...this._def,rest:t})}}pn.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new pn({items:e,typeName:q.ZodTuple,rest:null,...L(t)})};class Bo extends G{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==C.map)return P(r,{code:w.invalid_type,expected:C.map,received:r.parsedType}),U;const a=this._def.keyType,i=this._def.valueType,s=[...r.data.entries()].map(([o,l],u)=>({key:a._parse(new zt(r,o,r.path,[u,"key"])),value:i._parse(new zt(r,l,r.path,[u,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of s){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return U;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),o.set(u.value,d.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const l of s){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return U;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),o.set(u.value,d.value)}return{status:n.value,value:o}}}}Bo.create=(e,t,n)=>new Bo({valueType:t,keyType:e,typeName:q.ZodMap,...L(n)});class dr extends G{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==C.set)return P(r,{code:w.invalid_type,expected:C.set,received:r.parsedType}),U;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(P(r,{code:w.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(P(r,{code:w.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const i=this._def.valueType;function s(l){const u=new Set;for(const d of l){if(d.status==="aborted")return U;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const o=[...r.data.values()].map((l,u)=>i._parse(new zt(r,l,r.path,u)));return r.common.async?Promise.all(o).then(l=>s(l)):s(o)}min(t,n){return new dr({...this._def,minSize:{value:t,message:N.toString(n)}})}max(t,n){return new dr({...this._def,maxSize:{value:t,message:N.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}dr.create=(e,t)=>new dr({valueType:e,minSize:null,maxSize:null,typeName:q.ZodSet,...L(t)});class ia extends G{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}ia.create=(e,t)=>new ia({getter:e,typeName:q.ZodLazy,...L(t)});class sa extends G{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return P(n,{received:n.data,code:w.invalid_literal,expected:this._def.value}),U}return{status:"valid",value:t.data}}get value(){return this._def.value}}sa.create=(e,t)=>new sa({value:e,typeName:q.ZodLiteral,...L(t)});function hl(e,t){return new fn({values:e,typeName:q.ZodEnum,...L(t)})}class fn extends G{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return P(n,{expected:X.joinValues(r),received:n.parsedType,code:w.invalid_type}),U}if(this._def.values.indexOf(t.data)===-1){const n=this._getOrReturnCtx(t),r=this._def.values;return P(n,{received:n.data,code:w.invalid_enum_value,options:r}),U}return Ge(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t){return fn.create(t)}exclude(t){return fn.create(this.options.filter(n=>!t.includes(n)))}}fn.create=hl;class oa extends G{_parse(t){const n=X.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==C.string&&r.parsedType!==C.number){const a=X.objectValues(n);return P(r,{expected:X.joinValues(a),received:r.parsedType,code:w.invalid_type}),U}if(n.indexOf(t.data)===-1){const a=X.objectValues(n);return P(r,{received:r.data,code:w.invalid_enum_value,options:a}),U}return Ge(t.data)}get enum(){return this._def.values}}oa.create=(e,t)=>new oa({values:e,typeName:q.ZodNativeEnum,...L(t)});class ua extends G{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==C.promise&&n.common.async===!1)return P(n,{code:w.invalid_type,expected:C.promise,received:n.parsedType}),U;const r=n.parsedType===C.promise?n.data:Promise.resolve(n.data);return Ge(r.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}ua.create=(e,t)=>new ua({type:e,typeName:q.ZodPromise,...L(t)});class St extends G{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===q.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:s=>{P(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const s=a.transform(r.data,i);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(s).then(o=>this._def.schema._parseAsync({data:o,path:r.path,parent:r})):this._def.schema._parseSync({data:s,path:r.path,parent:r})}if(a.type==="refinement"){const s=o=>{const l=a.refinement(o,i);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?U:(o.status==="dirty"&&n.dirty(),s(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?U:(o.status==="dirty"&&n.dirty(),s(o.value).then(()=>({status:n.value,value:o.value}))))}if(a.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Yr(s))return s;const o=a.transform(s.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>Yr(s)?Promise.resolve(a.transform(s.value,i)).then(o=>({status:n.value,value:o})):s);X.assertNever(a)}}St.create=(e,t,n)=>new St({schema:e,typeName:q.ZodEffects,effect:t,...L(n)});St.createWithPreprocess=(e,t,n)=>new St({schema:t,effect:{type:"preprocess",transform:e},typeName:q.ZodEffects,...L(n)});class Zt extends G{_parse(t){return this._getType(t)===C.undefined?Ge(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Zt.create=(e,t)=>new Zt({innerType:e,typeName:q.ZodOptional,...L(t)});class Mn extends G{_parse(t){return this._getType(t)===C.null?Ge(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Mn.create=(e,t)=>new Mn({innerType:e,typeName:q.ZodNullable,...L(t)});class la extends G{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===C.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}la.create=(e,t)=>new la({innerType:e,typeName:q.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...L(t)});class Ii extends G{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Ei(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new dn(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new dn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Ii.create=(e,t)=>new Ii({innerType:e,typeName:q.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...L(t)});class Wo extends G{_parse(t){if(this._getType(t)!==C.nan){const n=this._getOrReturnCtx(t);return P(n,{code:w.invalid_type,expected:C.nan,received:n.parsedType}),U}return{status:"valid",value:t.data}}}Wo.create=e=>new Wo({typeName:q.ZodNaN,...L(e)});class Fh extends G{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class _s extends G{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?U:a.status==="dirty"?(n.dirty(),Ph(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?U:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(t,n){return new _s({in:t,out:n,typeName:q.ZodPipeline})}}class Ni extends G{_parse(t){const n=this._def.innerType._parse(t);return Yr(n)&&(n.value=Object.freeze(n.value)),n}}Ni.create=(e,t)=>new Ni({innerType:e,typeName:q.ZodReadonly,...L(t)});ce.lazycreate;var q;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(q||(q={}));const et=Dt.create,Ue=Oi.create;ta.create;na.create;Vt.create;const ar=dt.create,we=ce.create;ce.strictCreate;ra.create;const ml=ms.create;aa.create;pn.create;ia.create;const vr=sa.create;fn.create;oa.create;ua.create;St.create;Zt.create;Mn.create;St.createWithPreprocess;const Tn={persona:"persona",account:"account"},Lh=we({challenge:et(),proof:yr,address:et(),type:vr(Tn.persona)}),Uh=we({challenge:et(),proof:yr,address:et(),type:vr(Tn.account)}),zh=ml("type",[Lh,Uh]),Vh=we({entry:vr("fullName"),fields:Lu}),Mh=we({entry:vr("emailAddresses"),fields:ar(et())}),Bh=we({entry:vr("phoneNumbers"),fields:ar(et())}),Wh=ml("entry",[Vh,Mh,Bh]),Kh=we({accounts:ar(Fu),personaData:ar(Wh),persona:gr.optional(),proofs:ar(zh)}),Gh=we({persona:we({proof:Ue()}).optional(),ongoingAccounts:we({numberOfAccounts:ct.optional(),proof:Ue()}).optional(),ongoingPersonaData:Xr.optional()}),Hh=we({loggedInTimestamp:et(),walletData:Kh,sharedData:Gh}),Di={accounts:[],personaData:[],proofs:[],persona:void 0},Jh=()=>({walletData:new se(Di),sharedData:new se({}),loggedInTimestamp:new se(""),initialized:new se(!1)});function Xa(e,t,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function o(d){try{u(r.next(d))}catch(y){s(y)}}function l(d){try{u(r.throw(d))}catch(y){s(y)}}function u(d){d.done?i(d.value):a(d.value).then(o,l)}u((r=r.apply(e,t||[])).next())})}function Qa(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,a,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(u){return function(d){return l([u,d])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,a=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],a=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function ca(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,i=[],s;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)i.push(a.value)}catch(o){s={error:o}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i}function un(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var $h={withStackTrace:!1},_l=function(e,t,n){n===void 0&&(n=$h);var r=t.isOk()?{type:"Ok",value:t.value}:{type:"Err",value:t.error},a=n.withStackTrace?new Error().stack:void 0;return{data:r,message:e,stack:a}},fe=function(){function e(t){this._promise=t}return e.fromSafePromise=function(t){var n=t.then(function(r){return new Nt(r)});return new e(n)},e.fromPromise=function(t,n){var r=t.then(function(a){return new Nt(a)}).catch(function(a){return new an(n(a))});return new e(r)},e.combine=function(t){return Qh(t)},e.combineWithAllErrors=function(t){return Yh(t)},e.prototype.map=function(t){var n=this;return new e(this._promise.then(function(r){return Xa(n,void 0,void 0,function(){var a;return Qa(this,function(i){switch(i.label){case 0:return r.isErr()?[2,new an(r.error)]:(a=Nt.bind,[4,t(r.value)]);case 1:return[2,new(a.apply(Nt,[void 0,i.sent()]))]}})})}))},e.prototype.mapErr=function(t){var n=this;return new e(this._promise.then(function(r){return Xa(n,void 0,void 0,function(){var a;return Qa(this,function(i){switch(i.label){case 0:return r.isOk()?[2,new Nt(r.value)]:(a=an.bind,[4,t(r.error)]);case 1:return[2,new(a.apply(an,[void 0,i.sent()]))]}})})}))},e.prototype.andThen=function(t){return new e(this._promise.then(function(n){if(n.isErr())return new an(n.error);var r=t(n.value);return r instanceof e?r._promise:r}))},e.prototype.orElse=function(t){var n=this;return new e(this._promise.then(function(r){return Xa(n,void 0,void 0,function(){return Qa(this,function(a){return r.isErr()?[2,t(r.error)]:[2,new Nt(r.value)]})})}))},e.prototype.match=function(t,n){return this._promise.then(function(r){return r.match(t,n)})},e.prototype.unwrapOr=function(t){return this._promise.then(function(n){return n.unwrapOr(t)})},e.prototype.then=function(t,n){return this._promise.then(t,n)},e}(),Ko=function(e){return new fe(Promise.resolve(new Nt(e)))},Go=function(e){return new fe(Promise.resolve(new an(e)))};fe.fromPromise;fe.fromSafePromise;var Xh=function(e){return function(t){return un(un([],ca(t),!1),[e],!1)}},yl=function(e){return e.reduce(function(t,n){return t.isOk()?n.isErr()?tt(n.error):t.map(Xh(n.value)):t},ge([]))},Qh=function(e){return fe.fromSafePromise(Promise.all(e)).andThen(yl)},gl=function(e){return e.reduce(function(t,n){return n.isErr()?t.isErr()?tt(un(un([],ca(t.error),!1),[n.error],!1)):tt([n.error]):t.isErr()?t:ge(un(un([],ca(t.value),!1),[n.value],!1))},ge([]))},Yh=function(e){return fe.fromSafePromise(Promise.all(e)).andThen(gl)},ji;(function(e){function t(a,i){return function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];try{var l=a.apply(void 0,un([],ca(s),!1));return ge(l)}catch(u){return tt(i?i(u):u)}}}e.fromThrowable=t;function n(a){return yl(a)}e.combine=n;function r(a){return gl(a)}e.combineWithAllErrors=r})(ji||(ji={}));var ge=function(e){return new Nt(e)},tt=function(e){return new an(e)},Nt=function(){function e(t){this.value=t}return e.prototype.isOk=function(){return!0},e.prototype.isErr=function(){return!this.isOk()},e.prototype.map=function(t){return ge(t(this.value))},e.prototype.mapErr=function(t){return ge(this.value)},e.prototype.andThen=function(t){return t(this.value)},e.prototype.orElse=function(t){return ge(this.value)},e.prototype.asyncAndThen=function(t){return t(this.value)},e.prototype.asyncMap=function(t){return fe.fromSafePromise(t(this.value))},e.prototype.unwrapOr=function(t){return this.value},e.prototype.match=function(t,n){return t(this.value)},e.prototype._unsafeUnwrap=function(t){return this.value},e.prototype._unsafeUnwrapErr=function(t){throw _l("Called `_unsafeUnwrapErr` on an Ok",this,t)},e}(),an=function(){function e(t){this.error=t}return e.prototype.isOk=function(){return!1},e.prototype.isErr=function(){return!this.isOk()},e.prototype.map=function(t){return tt(this.error)},e.prototype.mapErr=function(t){return tt(t(this.error))},e.prototype.andThen=function(t){return tt(this.error)},e.prototype.orElse=function(t){return t(this.error)},e.prototype.asyncAndThen=function(t){return Go(this.error)},e.prototype.asyncMap=function(t){return Go(this.error)},e.prototype.unwrapOr=function(t){return t},e.prototype.match=function(t,n){return n(this.error)},e.prototype._unsafeUnwrap=function(t){throw _l("Called `_unsafeUnwrap` on an Err",this,t)},e.prototype._unsafeUnwrapErr=function(t){return this.error},e}();ji.fromThrowable;var vl=Symbol.for("immer-nothing"),Ho=Symbol.for("immer-draftable"),qe=Symbol.for("immer-state");function Ye(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Bn=Object.getPrototypeOf;function Wn(e){return!!e&&!!e[qe]}function hn(e){var t;return e?bl(e)||Array.isArray(e)||!!e[Ho]||!!((t=e.constructor)!=null&&t[Ho])||Ta(e)||Pa(e):!1}var em=Object.prototype.constructor.toString();function bl(e){if(!e||typeof e!="object")return!1;const t=Bn(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===em}function pr(e,t){Sa(e)===0?Object.entries(e).forEach(([n,r])=>{t(n,r,e)}):e.forEach((n,r)=>t(r,n,e))}function Sa(e){const t=e[qe];return t?t.type_:Array.isArray(e)?1:Ta(e)?2:Pa(e)?3:0}function qi(e,t){return Sa(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function wl(e,t,n){const r=Sa(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function tm(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ta(e){return e instanceof Map}function Pa(e){return e instanceof Set}function en(e){return e.copy_||e.base_}function Zi(e,t){if(Ta(e))return new Map(e);if(Pa(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&bl(e))return Bn(e)?{...e}:Object.assign(Object.create(null),e);const n=Object.getOwnPropertyDescriptors(e);delete n[qe];let r=Reflect.ownKeys(n);for(let a=0;a<r.length;a++){const i=r[a],s=n[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Bn(e),n)}function ys(e,t=!1){return Ca(e)||Wn(e)||!hn(e)||(Sa(e)>1&&(e.set=e.add=e.clear=e.delete=nm),Object.freeze(e),t&&pr(e,(n,r)=>ys(r,!0))),e}function nm(){Ye(2)}function Ca(e){return Object.isFrozen(e)}var rm={};function mn(e){const t=rm[e];return t||Ye(0,e),t}var fr;function kl(){return fr}function am(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Jo(e,t){t&&(mn("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Fi(e){Li(e),e.drafts_.forEach(im),e.drafts_=null}function Li(e){e===fr&&(fr=e.parent_)}function $o(e){return fr=am(fr,e)}function im(e){const t=e[qe];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Xo(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[qe].modified_&&(Fi(t),Ye(4)),hn(e)&&(e=da(t,e),t.parent_||pa(t,e)),t.patches_&&mn("Patches").generateReplacementPatches_(n[qe].base_,e,t.patches_,t.inversePatches_)):e=da(t,n,[]),Fi(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==vl?e:void 0}function da(e,t,n){if(Ca(t))return t;const r=t[qe];if(!r)return pr(t,(a,i)=>Qo(e,r,t,a,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return pa(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const a=r.copy_;let i=a,s=!1;r.type_===3&&(i=new Set(a),a.clear(),s=!0),pr(i,(o,l)=>Qo(e,r,a,o,l,n,s)),pa(e,a,!1),n&&e.patches_&&mn("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Qo(e,t,n,r,a,i,s){if(Wn(a)){const o=i&&t&&t.type_!==3&&!qi(t.assigned_,r)?i.concat(r):void 0,l=da(e,a,o);if(wl(n,r,l),Wn(l))e.canAutoFreeze_=!1;else return}else s&&n.add(a);if(hn(a)&&!Ca(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;da(e,a),(!t||!t.scope_.parent_)&&pa(e,a)}}function pa(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ys(t,n)}function sm(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:kl(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,i=gs;n&&(a=[r],i=hr);const{revoke:s,proxy:o}=Proxy.revocable(a,i);return r.draft_=o,r.revoke_=s,o}var gs={get(e,t){if(t===qe)return e;const n=en(e);if(!qi(n,t))return om(e,n,t);const r=n[t];return e.finalized_||!hn(r)?r:r===Ya(e.base_,t)?(ei(e),e.copy_[t]=zi(r,e)):r},has(e,t){return t in en(e)},ownKeys(e){return Reflect.ownKeys(en(e))},set(e,t,n){const r=xl(en(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=Ya(en(e),t),i=a==null?void 0:a[qe];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(tm(n,a)&&(n!==void 0||qi(e.base_,t)))return!0;ei(e),Ui(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Ya(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ei(e),Ui(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=en(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Ye(11)},getPrototypeOf(e){return Bn(e.base_)},setPrototypeOf(){Ye(12)}},hr={};pr(gs,(e,t)=>{hr[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});hr.deleteProperty=function(e,t){return hr.set.call(this,e,t,void 0)};hr.set=function(e,t,n){return gs.set.call(this,e[0],t,n,e[0])};function Ya(e,t){const n=e[qe];return(n?en(n):e)[t]}function om(e,t,n){var r;const a=xl(t,n);return a?"value"in a?a.value:(r=a.get)==null?void 0:r.call(e.draft_):void 0}function xl(e,t){if(!(t in e))return;let n=Bn(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Bn(n)}}function Ui(e){e.modified_||(e.modified_=!0,e.parent_&&Ui(e.parent_))}function ei(e){e.copy_||(e.copy_=Zi(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var um=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const s=this;return function(o=i,...l){return s.produce(o,u=>n.call(this,u,...l))}}typeof n!="function"&&Ye(6),r!==void 0&&typeof r!="function"&&Ye(7);let a;if(hn(t)){const i=$o(this),s=zi(t,void 0);let o=!0;try{a=n(s),o=!1}finally{o?Fi(i):Li(i)}return Jo(i,r),Xo(a,i)}else if(!t||typeof t!="object"){if(a=n(t),a===void 0&&(a=t),a===vl&&(a=void 0),this.autoFreeze_&&ys(a,!0),r){const i=[],s=[];mn("Patches").generateReplacementPatches_(t,a,i,s),r(i,s)}return a}else Ye(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(i,...s)=>this.produceWithPatches(i,o=>t(o,...s));let r,a;return[this.produce(t,n,(i,s)=>{r=i,a=s}),r,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){hn(e)||Ye(8),Wn(e)&&(e=lm(e));const t=$o(this),n=zi(e,void 0);return n[qe].isManual_=!0,Li(t),n}finishDraft(e,t){const n=e&&e[qe];(!n||!n.isManual_)&&Ye(9);const{scope_:r}=n;return Jo(r,t),Xo(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=mn("Patches").applyPatches_;return Wn(e)?r(e,t):this.produce(e,a=>r(a,t))}};function zi(e,t){const n=Ta(e)?mn("MapSet").proxyMap_(e,t):Pa(e)?mn("MapSet").proxySet_(e,t):sm(e,t);return(t?t.scope_:kl()).drafts_.push(n),n}function lm(e){return Wn(e)||Ye(10,e),Sl(e)}function Sl(e){if(!hn(e)||Ca(e))return e;const t=e[qe];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Zi(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Zi(e,!0);return pr(n,(r,a)=>{wl(n,r,Sl(a))}),t&&(t.finalized_=!1),n}var Ze=new um,oe=Ze.produce;Ze.produceWithPatches.bind(Ze);Ze.setAutoFreeze.bind(Ze);Ze.setUseStrictShallowCopy.bind(Ze);Ze.applyPatches.bind(Ze);Ze.createDraft.bind(Ze);Ze.finishDraft.bind(Ze);var Nr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fa={exports:{}};fa.exports;(function(e,t){var n=200,r="__lodash_hash_undefined__",a=1,i=2,s=9007199254740991,o="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",d="[object Boolean]",y="[object Date]",f="[object Error]",g="[object Function]",b="[object GeneratorFunction]",_="[object Map]",x="[object Number]",O="[object Null]",j="[object Object]",m="[object Promise]",D="[object Proxy]",te="[object RegExp]",re="[object Set]",pe="[object String]",W="[object Symbol]",Ee="[object Undefined]",_t="[object WeakMap]",Ct="[object ArrayBuffer]",at="[object DataView]",S="[object Float32Array]",ue="[object Float64Array]",Se="[object Int8Array]",He="[object Int16Array]",Rt="[object Int32Array]",Wt="[object Uint8Array]",Hn="[object Uint8ClampedArray]",Jn="[object Uint16Array]",Ea="[object Uint32Array]",Oa=/[\\^$.*+?()[\]{}|]/g,Aa=/^\[object .+?Constructor\]$/,Ia=/^(?:0|[1-9]\d*)$/,ne={};ne[S]=ne[ue]=ne[Se]=ne[He]=ne[Rt]=ne[Wt]=ne[Hn]=ne[Jn]=ne[Ea]=!0,ne[o]=ne[l]=ne[Ct]=ne[d]=ne[at]=ne[y]=ne[f]=ne[g]=ne[_]=ne[x]=ne[j]=ne[te]=ne[re]=ne[pe]=ne[_t]=!1;var wr=typeof Nr=="object"&&Nr&&Nr.Object===Object&&Nr,A=typeof self=="object"&&self&&self.Object===Object&&self,yt=wr||A||Function("return this")(),xs=t&&!t.nodeType&&t,Ss=xs&&!0&&e&&!e.nodeType&&e,Ts=Ss&&Ss.exports===xs,Na=Ts&&wr.process,Ps=function(){try{return Na&&Na.binding&&Na.binding("util")}catch{}}(),Cs=Ps&&Ps.isTypedArray;function Fl(c,p){for(var v=-1,T=c==null?0:c.length,ae=0,F=[];++v<T;){var le=c[v];p(le,v,c)&&(F[ae++]=le)}return F}function Ll(c,p){for(var v=-1,T=p.length,ae=c.length;++v<T;)c[ae+v]=p[v];return c}function Ul(c,p){for(var v=-1,T=c==null?0:c.length;++v<T;)if(p(c[v],v,c))return!0;return!1}function zl(c,p){for(var v=-1,T=Array(c);++v<c;)T[v]=p(v);return T}function Vl(c){return function(p){return c(p)}}function Ml(c,p){return c.has(p)}function Bl(c,p){return c==null?void 0:c[p]}function Wl(c){var p=-1,v=Array(c.size);return c.forEach(function(T,ae){v[++p]=[ae,T]}),v}function Kl(c,p){return function(v){return c(p(v))}}function Gl(c){var p=-1,v=Array(c.size);return c.forEach(function(T){v[++p]=T}),v}var Hl=Array.prototype,Jl=Function.prototype,kr=Object.prototype,Da=yt["__core-js_shared__"],Rs=Jl.toString,it=kr.hasOwnProperty,Es=function(){var c=/[^.]+$/.exec(Da&&Da.keys&&Da.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),Os=kr.toString,$l=RegExp("^"+Rs.call(it).replace(Oa,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),As=Ts?yt.Buffer:void 0,xr=yt.Symbol,Is=yt.Uint8Array,Ns=kr.propertyIsEnumerable,Xl=Hl.splice,Kt=xr?xr.toStringTag:void 0,Ds=Object.getOwnPropertySymbols,Ql=As?As.isBuffer:void 0,Yl=Kl(Object.keys,Object),ja=gn(yt,"DataView"),$n=gn(yt,"Map"),qa=gn(yt,"Promise"),Za=gn(yt,"Set"),Fa=gn(yt,"WeakMap"),Xn=gn(Object,"create"),ec=Jt(ja),tc=Jt($n),nc=Jt(qa),rc=Jt(Za),ac=Jt(Fa),js=xr?xr.prototype:void 0,La=js?js.valueOf:void 0;function Gt(c){var p=-1,v=c==null?0:c.length;for(this.clear();++p<v;){var T=c[p];this.set(T[0],T[1])}}function ic(){this.__data__=Xn?Xn(null):{},this.size=0}function sc(c){var p=this.has(c)&&delete this.__data__[c];return this.size-=p?1:0,p}function oc(c){var p=this.__data__;if(Xn){var v=p[c];return v===r?void 0:v}return it.call(p,c)?p[c]:void 0}function uc(c){var p=this.__data__;return Xn?p[c]!==void 0:it.call(p,c)}function lc(c,p){var v=this.__data__;return this.size+=this.has(c)?0:1,v[c]=Xn&&p===void 0?r:p,this}Gt.prototype.clear=ic,Gt.prototype.delete=sc,Gt.prototype.get=oc,Gt.prototype.has=uc,Gt.prototype.set=lc;function gt(c){var p=-1,v=c==null?0:c.length;for(this.clear();++p<v;){var T=c[p];this.set(T[0],T[1])}}function cc(){this.__data__=[],this.size=0}function dc(c){var p=this.__data__,v=Tr(p,c);if(v<0)return!1;var T=p.length-1;return v==T?p.pop():Xl.call(p,v,1),--this.size,!0}function pc(c){var p=this.__data__,v=Tr(p,c);return v<0?void 0:p[v][1]}function fc(c){return Tr(this.__data__,c)>-1}function hc(c,p){var v=this.__data__,T=Tr(v,c);return T<0?(++this.size,v.push([c,p])):v[T][1]=p,this}gt.prototype.clear=cc,gt.prototype.delete=dc,gt.prototype.get=pc,gt.prototype.has=fc,gt.prototype.set=hc;function Ht(c){var p=-1,v=c==null?0:c.length;for(this.clear();++p<v;){var T=c[p];this.set(T[0],T[1])}}function mc(){this.size=0,this.__data__={hash:new Gt,map:new($n||gt),string:new Gt}}function _c(c){var p=Pr(this,c).delete(c);return this.size-=p?1:0,p}function yc(c){return Pr(this,c).get(c)}function gc(c){return Pr(this,c).has(c)}function vc(c,p){var v=Pr(this,c),T=v.size;return v.set(c,p),this.size+=v.size==T?0:1,this}Ht.prototype.clear=mc,Ht.prototype.delete=_c,Ht.prototype.get=yc,Ht.prototype.has=gc,Ht.prototype.set=vc;function Sr(c){var p=-1,v=c==null?0:c.length;for(this.__data__=new Ht;++p<v;)this.add(c[p])}function bc(c){return this.__data__.set(c,r),this}function wc(c){return this.__data__.has(c)}Sr.prototype.add=Sr.prototype.push=bc,Sr.prototype.has=wc;function Et(c){var p=this.__data__=new gt(c);this.size=p.size}function kc(){this.__data__=new gt,this.size=0}function xc(c){var p=this.__data__,v=p.delete(c);return this.size=p.size,v}function Sc(c){return this.__data__.get(c)}function Tc(c){return this.__data__.has(c)}function Pc(c,p){var v=this.__data__;if(v instanceof gt){var T=v.__data__;if(!$n||T.length<n-1)return T.push([c,p]),this.size=++v.size,this;v=this.__data__=new Ht(T)}return v.set(c,p),this.size=v.size,this}Et.prototype.clear=kc,Et.prototype.delete=xc,Et.prototype.get=Sc,Et.prototype.has=Tc,Et.prototype.set=Pc;function Cc(c,p){var v=Cr(c),T=!v&&Vc(c),ae=!v&&!T&&Ua(c),F=!v&&!T&&!ae&&Bs(c),le=v||T||ae||F,_e=le?zl(c.length,String):[],be=_e.length;for(var ie in c)(p||it.call(c,ie))&&!(le&&(ie=="length"||ae&&(ie=="offset"||ie=="parent")||F&&(ie=="buffer"||ie=="byteLength"||ie=="byteOffset")||Zc(ie,be)))&&_e.push(ie);return _e}function Tr(c,p){for(var v=c.length;v--;)if(Us(c[v][0],p))return v;return-1}function Rc(c,p,v){var T=p(c);return Cr(c)?T:Ll(T,v(c))}function Qn(c){return c==null?c===void 0?Ee:O:Kt&&Kt in Object(c)?jc(c):zc(c)}function qs(c){return Yn(c)&&Qn(c)==o}function Zs(c,p,v,T,ae){return c===p?!0:c==null||p==null||!Yn(c)&&!Yn(p)?c!==c&&p!==p:Ec(c,p,v,T,Zs,ae)}function Ec(c,p,v,T,ae,F){var le=Cr(c),_e=Cr(p),be=le?l:Ot(c),ie=_e?l:Ot(p);be=be==o?j:be,ie=ie==o?j:ie;var Oe=be==j,Je=ie==j,xe=be==ie;if(xe&&Ua(c)){if(!Ua(p))return!1;le=!0,Oe=!1}if(xe&&!Oe)return F||(F=new Et),le||Bs(c)?Fs(c,p,v,T,ae,F):Nc(c,p,be,v,T,ae,F);if(!(v&a)){var Fe=Oe&&it.call(c,"__wrapped__"),Le=Je&&it.call(p,"__wrapped__");if(Fe||Le){var At=Fe?c.value():c,vt=Le?p.value():p;return F||(F=new Et),ae(At,vt,v,T,F)}}return xe?(F||(F=new Et),Dc(c,p,v,T,ae,F)):!1}function Oc(c){if(!Ms(c)||Lc(c))return!1;var p=zs(c)?$l:Aa;return p.test(Jt(c))}function Ac(c){return Yn(c)&&Vs(c.length)&&!!ne[Qn(c)]}function Ic(c){if(!Uc(c))return Yl(c);var p=[];for(var v in Object(c))it.call(c,v)&&v!="constructor"&&p.push(v);return p}function Fs(c,p,v,T,ae,F){var le=v&a,_e=c.length,be=p.length;if(_e!=be&&!(le&&be>_e))return!1;var ie=F.get(c);if(ie&&F.get(p))return ie==p;var Oe=-1,Je=!0,xe=v&i?new Sr:void 0;for(F.set(c,p),F.set(p,c);++Oe<_e;){var Fe=c[Oe],Le=p[Oe];if(T)var At=le?T(Le,Fe,Oe,p,c,F):T(Fe,Le,Oe,c,p,F);if(At!==void 0){if(At)continue;Je=!1;break}if(xe){if(!Ul(p,function(vt,$t){if(!Ml(xe,$t)&&(Fe===vt||ae(Fe,vt,v,T,F)))return xe.push($t)})){Je=!1;break}}else if(!(Fe===Le||ae(Fe,Le,v,T,F))){Je=!1;break}}return F.delete(c),F.delete(p),Je}function Nc(c,p,v,T,ae,F,le){switch(v){case at:if(c.byteLength!=p.byteLength||c.byteOffset!=p.byteOffset)return!1;c=c.buffer,p=p.buffer;case Ct:return!(c.byteLength!=p.byteLength||!F(new Is(c),new Is(p)));case d:case y:case x:return Us(+c,+p);case f:return c.name==p.name&&c.message==p.message;case te:case pe:return c==p+"";case _:var _e=Wl;case re:var be=T&a;if(_e||(_e=Gl),c.size!=p.size&&!be)return!1;var ie=le.get(c);if(ie)return ie==p;T|=i,le.set(c,p);var Oe=Fs(_e(c),_e(p),T,ae,F,le);return le.delete(c),Oe;case W:if(La)return La.call(c)==La.call(p)}return!1}function Dc(c,p,v,T,ae,F){var le=v&a,_e=Ls(c),be=_e.length,ie=Ls(p),Oe=ie.length;if(be!=Oe&&!le)return!1;for(var Je=be;Je--;){var xe=_e[Je];if(!(le?xe in p:it.call(p,xe)))return!1}var Fe=F.get(c);if(Fe&&F.get(p))return Fe==p;var Le=!0;F.set(c,p),F.set(p,c);for(var At=le;++Je<be;){xe=_e[Je];var vt=c[xe],$t=p[xe];if(T)var Ws=le?T($t,vt,xe,p,c,F):T(vt,$t,xe,c,p,F);if(!(Ws===void 0?vt===$t||ae(vt,$t,v,T,F):Ws)){Le=!1;break}At||(At=xe=="constructor")}if(Le&&!At){var Rr=c.constructor,Er=p.constructor;Rr!=Er&&"constructor"in c&&"constructor"in p&&!(typeof Rr=="function"&&Rr instanceof Rr&&typeof Er=="function"&&Er instanceof Er)&&(Le=!1)}return F.delete(c),F.delete(p),Le}function Ls(c){return Rc(c,Wc,qc)}function Pr(c,p){var v=c.__data__;return Fc(p)?v[typeof p=="string"?"string":"hash"]:v.map}function gn(c,p){var v=Bl(c,p);return Oc(v)?v:void 0}function jc(c){var p=it.call(c,Kt),v=c[Kt];try{c[Kt]=void 0;var T=!0}catch{}var ae=Os.call(c);return T&&(p?c[Kt]=v:delete c[Kt]),ae}var qc=Ds?function(c){return c==null?[]:(c=Object(c),Fl(Ds(c),function(p){return Ns.call(c,p)}))}:Kc,Ot=Qn;(ja&&Ot(new ja(new ArrayBuffer(1)))!=at||$n&&Ot(new $n)!=_||qa&&Ot(qa.resolve())!=m||Za&&Ot(new Za)!=re||Fa&&Ot(new Fa)!=_t)&&(Ot=function(c){var p=Qn(c),v=p==j?c.constructor:void 0,T=v?Jt(v):"";if(T)switch(T){case ec:return at;case tc:return _;case nc:return m;case rc:return re;case ac:return _t}return p});function Zc(c,p){return p=p??s,!!p&&(typeof c=="number"||Ia.test(c))&&c>-1&&c%1==0&&c<p}function Fc(c){var p=typeof c;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?c!=="__proto__":c===null}function Lc(c){return!!Es&&Es in c}function Uc(c){var p=c&&c.constructor,v=typeof p=="function"&&p.prototype||kr;return c===v}function zc(c){return Os.call(c)}function Jt(c){if(c!=null){try{return Rs.call(c)}catch{}try{return c+""}catch{}}return""}function Us(c,p){return c===p||c!==c&&p!==p}var Vc=qs(function(){return arguments}())?qs:function(c){return Yn(c)&&it.call(c,"callee")&&!Ns.call(c,"callee")},Cr=Array.isArray;function Mc(c){return c!=null&&Vs(c.length)&&!zs(c)}var Ua=Ql||Gc;function Bc(c,p){return Zs(c,p)}function zs(c){if(!Ms(c))return!1;var p=Qn(c);return p==g||p==b||p==u||p==D}function Vs(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=s}function Ms(c){var p=typeof c;return c!=null&&(p=="object"||p=="function")}function Yn(c){return c!=null&&typeof c=="object"}var Bs=Cs?Vl(Cs):Ac;function Wc(c){return Mc(c)?Cc(c):Ic(c)}function Kc(){return[]}function Gc(){return!1}e.exports=Bc})(fa,fa.exports);var dm=fa.exports;const Vi=cm(dm),pm=(e,t,n)=>{const r=n.logger,a=n.subjects??Jh(),i=new ht,s=ro([a.walletData,a.sharedData,a.loggedInTimestamp]).pipe(ut(([f,g,b])=>({walletData:f,sharedData:g,loggedInTimestamp:b}))),o=()=>t.getData(e).map(f=>(f&&(r==null||r.debug("readFromStorage")),f)),l=f=>t.setData(e,oe(f,g=>{g.walletData.proofs=[]})).map(()=>{r==null||r.trace("writeToStorage",f)}),u=f=>{const{walletData:g,sharedData:b,loggedInTimestamp:_}=f;g&&!Vi(a.walletData.value,g)&&a.walletData.next(g),b&&a.sharedData.next(b),_!==void 0&&a.loggedInTimestamp.next(_)},d=()=>{Vi(a.walletData.value,Di)||a.walletData.next(Di),a.sharedData.next({}),a.loggedInTimestamp.next("")};o().andThen(f=>fe.fromPromise(Hh.parseAsync(f),g=>g)).mapErr(()=>{r==null||r.debug("loadedCorruptedStateFromStorage"),d()}).map(f=>{if(f)return r==null||r.debug("initializeStateFromStorage"),u(oe(f,g=>(g.walletData.persona=g.walletData.persona??void 0,g)));r==null||r.debug("initializeStateFromDefault"),d()}),i.add(s.pipe(kt(l)).subscribe()),i.add(s.pipe(wp(1),Eu(),H(()=>{a.initialized.next(!0)})).subscribe());const y=()=>({walletData:a.walletData.value,sharedData:a.sharedData.value,loggedInTimestamp:a.loggedInTimestamp.value});return{setState:u,getState:y,walletData$:ro([a.initialized,a.walletData]).pipe(_p(1),pt(([f])=>f),ut(()=>a.walletData.value)),getWalletData:()=>a.walletData.value,state$:a.initialized.pipe(pt(f=>f),kt(()=>s)),patchState:f=>{u({...y(),...f})},reset:d,stateInitialized$:a.initialized.asObservable(),destroy:()=>{d(),i.unsubscribe()}}},fm=()=>({onConnect:new Ae,onDisconnect:new Ae,onUpdateSharedData:new Ae,connected:new Id(1),requestItems:new se([]),onCancelRequestItem:new Ae,accounts:new se([]),onShowPopover:new Ae,status:new se("default"),loggedInTimestamp:new se(""),isMobile:new se(!1),isWalletLinked:new se(!1),isExtensionAvailable:new se(!1),fullWidth:new se(!1),activeTab:new se("sharing"),mode:new se("light"),theme:new se("radix-blue"),avatarUrl:new se(""),personaLabel:new se(""),personaData:new se([]),dAppName:new se(""),onLinkClick:new Ae}),hm=()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(globalThis.navigator?globalThis.navigator.userAgent:""),mm=e=>{sd(()=>import("./connect-button-83b00f42.ZC9G2hTj.js"),__vite__mapDeps([]),import.meta.url);const t=e.subjects||fm(),n=e.logger,r=o=>{o()},a=e.onConnect||r,i=()=>document.querySelector("radix-connect-button"),s=new ht;return s.add(jn(st(document,"onRender"),us(i()).pipe(pt(o=>!!o))).pipe(ut(()=>i()),pt(o=>!!o),kt(o=>{n==null||n.debug("connectButtonDiscovered");const l=st(o,"onConnect").pipe(H(()=>{a(S=>{!o.isWalletLinked||!o.isExtensionAvailable||t.onConnect.next(S)})})),u=st(o,"onDisconnect").pipe(H(()=>{t.onDisconnect.next()})),d=st(o,"onLinkClick").pipe(H(S=>{t.onLinkClick.next(S.detail)})),y=st(o,"onDestroy").pipe(H(()=>{n==null||n.debug("connectButtonRemovedFromDOM")})),f=st(o,"onCancelRequestItem").pipe(H(S=>{const ue=S.detail.id;n==null||n.debug("onCancelRequestItem",{id:ue}),t.onCancelRequestItem.next(ue)})),g=st(o,"onUpdateSharedData").pipe(H(()=>{n==null||n.debug("onUpdateSharedData"),t.onUpdateSharedData.next()})),b=st(o,"onShowPopover").pipe(H(()=>{t.onShowPopover.next()})),_=t.status.pipe(H(S=>o.status=S)),x=t.mode.pipe(H(S=>o.mode=S)),O=t.connected.pipe(H(S=>{o.connected=S})),j=t.isMobile.pipe(H(S=>{o.isMobile=S})),m=t.isWalletLinked.pipe(H(S=>{o.isWalletLinked=S})),D=t.isExtensionAvailable.pipe(H(S=>{o.isExtensionAvailable=S})),te=t.loggedInTimestamp.pipe(H(S=>{o.loggedInTimestamp=S})),re=t.activeTab.pipe(H(S=>{o.activeTab=S})),pe=t.requestItems.pipe(H(S=>{o.requestItems=S})),W=t.accounts.pipe(H(S=>{o.accounts=S})),Ee=t.personaData.pipe(H(S=>{o.personaData=S})),_t=t.personaLabel.pipe(H(S=>{o.personaLabel=S})),Ct=t.dAppName.pipe(H(S=>{o.dAppName=S})),at=t.theme.pipe(H(S=>{o.theme=S}));return jn(l,_,at,x,O,pe,te,j,re,m,D,u,f,W,Ee,_t,y,g,b,Ct,d)})).subscribe()),{status$:t.status.asObservable(),onConnect$:t.onConnect.asObservable(),onDisconnect$:t.onDisconnect.asObservable(),onShowPopover$:t.onShowPopover.asObservable(),onUpdateSharedData$:t.onUpdateSharedData.asObservable(),onCancelRequestItem$:t.onCancelRequestItem.asObservable(),onLinkClick$:t.onLinkClick.asObservable(),setStatus:o=>t.status.next(o),setTheme:o=>t.theme.next(o),setMode:o=>t.mode.next(o),setActiveTab:o=>t.activeTab.next(o),setIsMobile:o=>t.isMobile.next(o),setIsWalletLinked:o=>t.isWalletLinked.next(o),setIsExtensionAvailable:o=>t.isExtensionAvailable.next(o),setLoggedInTimestamp:o=>t.loggedInTimestamp.next(o),setConnected:o=>t.connected.next(o),setRequestItems:o=>t.requestItems.next(o),setAccounts:o=>t.accounts.next(o),setPersonaData:o=>t.personaData.next(o),setPersonaLabel:o=>t.personaLabel.next(o),setDappName:o=>t.dAppName.next(o),disconnect:()=>{t.connected.next(!1),t.status.next("default")},destroy:()=>{s.unsubscribe()}}};var _m=Object.defineProperty,ym=(e,t,n)=>t in e?_m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qe=(e,t,n)=>(ym(e,typeof t!="symbol"?t+"":t,n),n);const gm="https://mainnet.radixdlt.com".replace(/\/+$/,"");class Tl{constructor(t={}){this.configuration=t}set config(t){this.configuration=t}get basePath(){return this.configuration.basePath!=null?this.configuration.basePath:gm}get fetchApi(){return this.configuration.fetchApi}get middleware(){return this.configuration.middleware||[]}get queryParamsStringify(){return this.configuration.queryParamsStringify||Pl}get username(){return this.configuration.username}get password(){return this.configuration.password}get apiKey(){const t=this.configuration.apiKey;if(t)return typeof t=="function"?t:()=>t}get accessToken(){const t=this.configuration.accessToken;if(t)return typeof t=="function"?t:async()=>t}get headers(){return this.configuration.headers}get credentials(){return this.configuration.credentials}}const vm=new Tl;class br{constructor(t=vm){Qe(this,"middleware"),Qe(this,"fetchApi",async(n,r)=>{let a={url:n,init:r};for(const s of this.middleware)s.pre&&(a=await s.pre({fetch:this.fetchApi,...a})||a);let i;try{i=await(this.configuration.fetchApi||fetch)(a.url,a.init)}catch(s){for(const o of this.middleware)o.onError&&(i=await o.onError({fetch:this.fetchApi,url:a.url,init:a.init,error:s,response:i?i.clone():void 0})||i);if(i===void 0)throw s}for(const s of this.middleware)s.post&&(i=await s.post({fetch:this.fetchApi,url:a.url,init:a.init,response:i.clone()})||i);return i}),this.configuration=t,this.middleware=t.middleware}withMiddleware(...t){const n=this.clone();return n.middleware=n.middleware.concat(...t),n}withPreMiddleware(...t){const n=t.map(r=>({pre:r}));return this.withMiddleware(...n)}withPostMiddleware(...t){const n=t.map(r=>({post:r}));return this.withMiddleware(...n)}async request(t,n){const{url:r,init:a}=await this.createFetchParams(t,n),i=await this.fetchApi(r,a);if(i&&i.status>=200&&i.status<300)return i;throw await ha.from(i)}async createFetchParams(t,n){let r=this.configuration.basePath+t.path;t.query!==void 0&&Object.keys(t.query).length!==0&&(r+="?"+this.configuration.queryParamsStringify(t.query));const a=Object.assign({},this.configuration.headers,t.headers);Object.keys(a).forEach(u=>a[u]===void 0?delete a[u]:{});const i=typeof n=="function"?n:async()=>n,s={method:t.method,headers:a,body:t.body,credentials:this.configuration.credentials},o={...s,...await i({init:s,context:t})},l={...o,body:wm(o.body)||o.body instanceof URLSearchParams||bm(o.body)?o.body:JSON.stringify(o.body)};return{url:r,init:l}}clone(){const t=this.constructor,n=new t(this.configuration);return n.middleware=this.middleware.slice(),n}}function bm(e){return typeof Blob<"u"&&e instanceof Blob}function wm(e){return typeof FormData<"u"&&e instanceof FormData}class ha extends Error{constructor(t,n,r){super(r?JSON.stringify(r):"Unknown error occurred"),Qe(this,"name","ResponseError"),this.fetchResponse=t,this.status=n,this.errorResponse=r}static async from(t){const n=t.status;try{const r=await t.json();return new ha(t,n,r)}catch{return new ha(t,n,void 0)}}}class ye extends Error{constructor(t,n){super(n),Qe(this,"name","RequiredError"),this.field=t}}function h(e,t){return e[t]!=null}function Pl(e,t=""){return Object.keys(e).map(n=>Cl(n,e[n],t)).filter(n=>n.length>0).join("&")}function Cl(e,t,n=""){const r=n+(n.length?`[${e}]`:e);if(t instanceof Array){const a=t.map(i=>encodeURIComponent(String(i))).join(`&${encodeURIComponent(r)}=`);return`${encodeURIComponent(r)}=${a}`}if(t instanceof Set){const a=Array.from(t);return Cl(e,a,n)}return t instanceof Date?`${encodeURIComponent(r)}=${encodeURIComponent(t.toISOString())}`:t instanceof Object?Pl(t,r):`${encodeURIComponent(r)}=${encodeURIComponent(String(t))}`}class de{constructor(t,n=r=>r){this.raw=t,this.transformer=n}async value(){return this.transformer(await this.raw.json())}}function ke(e){if(e!==void 0)return e===null?null:{state_version:e.state_version,timestamp:e.timestamp===void 0?void 0:e.timestamp===null?null:e.timestamp.toISOString(),epoch:e.epoch,round:e.round}}function km(e){return xm(e)}function xm(e,t){return e==null?e:{entity_address:e.entity_address,resource_address:e.resource_address,balance_change:e.balance_change}}function Sm(e){return Tm(e)}function Tm(e,t){return e}function Pm(e){return Cm(e)}function Cm(e,t){return e==null?e:{type:Sm(e.type),entity_address:e.entity_address,resource_address:e.resource_address,balance_change:e.balance_change}}function Rm(e){return Em(e)}function Em(e,t){return e==null?e:{entity_address:e.entity_address,resource_address:e.resource_address,added:e.added,removed:e.removed}}function Om(e){return Am(e)}function Am(e,t){return e==null?e:{fungible_fee_balance_changes:e.fungible_fee_balance_changes.map(Pm),fungible_balance_changes:e.fungible_balance_changes.map(km),non_fungible_balance_changes:e.non_fungible_balance_changes.map(Rm)}}function ma(e){return Im(e)}function Im(e,t){return e}function Nm(e,t){return e==null?e:{kind:e.kind,type_name:h(e,"type_name")?e.type_name:void 0,field_name:h(e,"field_name")?e.field_name:void 0,element_kind:ma(e.element_kind),element_type_name:h(e,"element_type_name")?e.element_type_name:void 0,elements:e.elements.map(Mt)}}function Dm(e){if(e!==void 0)return e===null?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,element_kind:e.element_kind,element_type_name:e.element_type_name,elements:e.elements.map(Kn)}}function jm(e,t){return e==null?e:{kind:e.kind,type_name:h(e,"type_name")?e.type_name:void 0,field_name:h(e,"field_name")?e.field_name:void 0,value:e.value}}function qm(e){if(e!==void 0)return e===null?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,value:e.value}}function Zm(e,t){return e==null?e:{kind:e.kind,type_name:h(e,"type_name")?e.type_name:void 0,field_name:h(e,"field_name")?e.field_name:void 0,element_kind:ma(e.element_kind),element_type_name:h(e,"element_type_name")?e.element_type_name:void 0,hex:e.hex}}function Fm(e){if(e!==void 0)return e===null?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,element_kind:e.element_kind,element_type_name:e.element_type_name,hex:e.hex}}function Lm(e,t){return e==null?e:{kind:e.kind,type_name:h(e,"type_name")?e.type_name:void 0,field_name:h(e,"field_name")?e.field_name:void 0,value:e.value}}function Um(e){if(e!==void 0)return e===null?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,value:e.value}}function zm(e,t){return e==null?e:{kind:e.kind,type_name:h(e,"type_name")?e.type_name:void 0,field_name:h(e,"field_name")?e.field_name:void 0,variant_id:e.variant_id,variant_name:h(e,"variant_name")?e.variant_name:void 0,fields:e.fields.map(Mt)}}function Vm(e){if(e!==void 0)return e===null?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,variant_id:e.variant_id,variant_name:e.variant_name,fields:e.fields.map(Kn)}}function Mm(e,t){return e==null?e:{kind:e.kind,type_name:h(e,"type_name")?e.type_name:void 0,field_name:h(e,"field_name")?e.field_name:void 0,value:e.value}}function Bm(e){if(e!==void 0)return e===null?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,value:e.value}}function Wm(e,t){return e==null?e:{kind:e.kind,type_name:h(e,"type_name")?e.type_name:void 0,field_name:h(e,"field_name")?e.field_name:void 0,value:e.value}}function Km(e){if(e!==void 0)return e===null?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,value:e.value}}function Gm(e,t){return e==null?e:{kind:e.kind,type_name:h(e,"type_name")?e.type_name:void 0,field_name:h(e,"field_name")?e.field_name:void 0,value:e.value}}function Hm(e){if(e!==void 0)return e===null?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,value:e.value}}function Jm(e,t){return e==null?e:{kind:e.kind,type_name:h(e,"type_name")?e.type_name:void 0,field_name:h(e,"field_name")?e.field_name:void 0,value:e.value}}function $m(e){if(e!==void 0)return e===null?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,value:e.value}}function Xm(e,t){return e==null?e:{kind:e.kind,type_name:h(e,"type_name")?e.type_name:void 0,field_name:h(e,"field_name")?e.field_name:void 0,value:e.value}}function Qm(e){if(e!==void 0)return e===null?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,value:e.value}}function Ym(e){return e_(e)}function e_(e,t){return e==null?e:{key:Mt(e.key),value:Mt(e.value)}}function t_(e){if(e!==void 0)return e===null?null:{key:Kn(e.key),value:Kn(e.value)}}function n_(e,t){return e==null?e:{kind:e.kind,type_name:h(e,"type_name")?e.type_name:void 0,field_name:h(e,"field_name")?e.field_name:void 0,key_kind:ma(e.key_kind),key_type_name:h(e,"key_type_name")?e.key_type_name:void 0,value_kind:ma(e.value_kind),value_type_name:h(e,"value_type_name")?e.value_type_name:void 0,entries:e.entries.map(Ym)}}function r_(e){if(e!==void 0)return e===null?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,key_kind:e.key_kind,key_type_name:e.key_type_name,value_kind:e.value_kind,value_type_name:e.value_type_name,entries:e.entries.map(t_)}}function a_(e,t){return e==null?e:{kind:e.kind,type_name:h(e,"type_name")?e.type_name:void 0,field_name:h(e,"field_name")?e.field_name:void 0,value:e.value}}function i_(e){if(e!==void 0)return e===null?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,value:e.value}}function s_(e,t){return e==null?e:{kind:e.kind,type_name:h(e,"type_name")?e.type_name:void 0,field_name:h(e,"field_name")?e.field_name:void 0,value:e.value}}function o_(e){if(e!==void 0)return e===null?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,value:e.value}}function u_(e,t){return e==null?e:{kind:e.kind,type_name:h(e,"type_name")?e.type_name:void 0,field_name:h(e,"field_name")?e.field_name:void 0,value:e.value}}function l_(e){if(e!==void 0)return e===null?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,value:e.value}}function c_(e,t){return e==null?e:{kind:e.kind,type_name:h(e,"type_name")?e.type_name:void 0,field_name:h(e,"field_name")?e.field_name:void 0,value:e.value}}function d_(e){if(e!==void 0)return e===null?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,value:e.value}}function p_(e,t){return e==null?e:{kind:e.kind,type_name:h(e,"type_name")?e.type_name:void 0,field_name:h(e,"field_name")?e.field_name:void 0,value:e.value}}function f_(e){if(e!==void 0)return e===null?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,value:e.value}}function h_(e,t){return e==null?e:{kind:e.kind,type_name:h(e,"type_name")?e.type_name:void 0,field_name:h(e,"field_name")?e.field_name:void 0,fields:e.fields.map(Mt)}}function m_(e){if(e!==void 0)return e===null?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,fields:e.fields.map(Kn)}}function __(e,t){return e==null?e:{kind:e.kind,type_name:h(e,"type_name")?e.type_name:void 0,field_name:h(e,"field_name")?e.field_name:void 0,value:e.value}}function y_(e){if(e!==void 0)return e===null?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,value:e.value}}function g_(e,t){return e==null?e:{kind:e.kind,type_name:h(e,"type_name")?e.type_name:void 0,field_name:h(e,"field_name")?e.field_name:void 0,value:e.value}}function v_(e){if(e!==void 0)return e===null?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,value:e.value}}function b_(e,t){return e==null?e:{kind:e.kind,type_name:h(e,"type_name")?e.type_name:void 0,field_name:h(e,"field_name")?e.field_name:void 0,value:e.value}}function w_(e){if(e!==void 0)return e===null?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,value:e.value}}function k_(e,t){return e==null?e:{kind:e.kind,type_name:h(e,"type_name")?e.type_name:void 0,field_name:h(e,"field_name")?e.field_name:void 0,value:e.value}}function x_(e){if(e!==void 0)return e===null?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,value:e.value}}function S_(e,t){return e==null?e:{kind:e.kind,type_name:h(e,"type_name")?e.type_name:void 0,field_name:h(e,"field_name")?e.field_name:void 0,value:e.value}}function T_(e){if(e!==void 0)return e===null?null:{kind:e.kind,type_name:e.type_name,field_name:e.field_name,value:e.value}}function Mt(e){return P_(e)}function P_(e,t){if(e==null)return e;switch(e.kind){case"Array":return{...Nm(e),kind:"Array"};case"Bool":return{...jm(e),kind:"Bool"};case"Bytes":return{...Zm(e),kind:"Bytes"};case"Decimal":return{...Lm(e),kind:"Decimal"};case"Enum":return{...zm(e),kind:"Enum"};case"I128":return{...Mm(e),kind:"I128"};case"I16":return{...Wm(e),kind:"I16"};case"I32":return{...Gm(e),kind:"I32"};case"I64":return{...Jm(e),kind:"I64"};case"I8":return{...Xm(e),kind:"I8"};case"Map":return{...n_(e),kind:"Map"};case"NonFungibleLocalId":return{...a_(e),kind:"NonFungibleLocalId"};case"Own":return{...s_(e),kind:"Own"};case"PreciseDecimal":return{...u_(e),kind:"PreciseDecimal"};case"Reference":return{...c_(e),kind:"Reference"};case"String":return{...p_(e),kind:"String"};case"Tuple":return{...h_(e),kind:"Tuple"};case"U128":return{...__(e),kind:"U128"};case"U16":return{...g_(e),kind:"U16"};case"U32":return{...b_(e),kind:"U32"};case"U64":return{...k_(e),kind:"U64"};case"U8":return{...S_(e),kind:"U8"};default:throw new Error(`No variant of ProgrammaticScryptoSborValue exists with 'kind=${e.kind}'`)}}function Kn(e){if(e!==void 0){if(e===null)return null;switch(e.kind){case"Array":return Dm(e);case"Bool":return qm(e);case"Bytes":return Fm(e);case"Decimal":return Um(e);case"Enum":return Vm(e);case"I128":return Bm(e);case"I16":return Km(e);case"I32":return Hm(e);case"I64":return $m(e);case"I8":return Qm(e);case"Map":return r_(e);case"NonFungibleLocalId":return i_(e);case"Own":return o_(e);case"PreciseDecimal":return l_(e);case"Reference":return d_(e);case"String":return f_(e);case"Tuple":return m_(e);case"U128":return y_(e);case"U16":return v_(e);case"U32":return w_(e);case"U64":return x_(e);case"U8":return T_(e);default:throw new Error(`No variant of ProgrammaticScryptoSborValue exists with 'kind=${e.kind}'`)}}}function C_(e){return R_(e)}function R_(e,t){return e==null?e:{name:e.name,emitter:e.emitter,data:Mt(e.data)}}const Yo={Unknown:"Unknown",CommittedSuccess:"CommittedSuccess",CommittedFailure:"CommittedFailure",Pending:"Pending",Rejected:"Rejected"};function Ra(e){return E_(e)}function E_(e,t){return e}function O_(e){return A_(e)}function A_(e,t){return e==null?e:{status:h(e,"status")?Ra(e.status):void 0,fee_summary:h(e,"fee_summary")?e.fee_summary:void 0,costing_parameters:h(e,"costing_parameters")?e.costing_parameters:void 0,fee_destination:h(e,"fee_destination")?e.fee_destination:void 0,fee_source:h(e,"fee_source")?e.fee_source:void 0,state_updates:h(e,"state_updates")?e.state_updates:void 0,next_epoch:h(e,"next_epoch")?e.next_epoch:void 0,output:h(e,"output")?e.output:void 0,events:h(e,"events")?e.events.map(C_):void 0,error_message:h(e,"error_message")?e.error_message:void 0}}function Rl(e){return I_(e)}function I_(e,t){return e==null?e:{state_version:e.state_version,epoch:e.epoch,round:e.round,round_timestamp:e.round_timestamp,transaction_status:Ra(e.transaction_status),payload_hash:h(e,"payload_hash")?e.payload_hash:void 0,intent_hash:h(e,"intent_hash")?e.intent_hash:void 0,fee_paid:h(e,"fee_paid")?e.fee_paid:void 0,affected_global_entities:h(e,"affected_global_entities")?e.affected_global_entities:void 0,confirmed_at:h(e,"confirmed_at")?e.confirmed_at===null?null:new Date(e.confirmed_at):void 0,error_message:h(e,"error_message")?e.error_message:void 0,raw_hex:h(e,"raw_hex")?e.raw_hex:void 0,receipt:h(e,"receipt")?O_(e.receipt):void 0,message:h(e,"message")?e.message:void 0,balance_changes:h(e,"balance_changes")?Om(e.balance_changes):void 0}}function N_(e){return D_(e)}function D_(e,t){return e}function j_(e){return q_(e)}function q_(e,t){return e==null?e:{resolution:N_(e.resolution),explicit_rule:h(e,"explicit_rule")?e.explicit_rule:void 0}}function Z_(e){return F_(e)}function F_(e,t){return e}function eu(e){return L_(e)}function L_(e,t){return e==null?e:{name:e.name,module:Z_(e.module)}}function U_(e){return z_(e)}function z_(e,t){return e==null?e:{role_key:eu(e.role_key),assignment:j_(e.assignment),updater_roles:h(e,"updater_roles")?e.updater_roles.map(eu):void 0}}function vs(e){return V_(e)}function V_(e,t){return e==null?e:{owner:e.owner,entries:e.entries.map(U_)}}function M_(e,t){return e==null?e:{type:e.type,values:e.values}}function B_(e,t){return e==null?e:{type:e.type,value:e.value}}function W_(e,t){return e==null?e:{type:e.type,values:e.values}}function K_(e,t){return e==null?e:{type:e.type,value:e.value}}function G_(e,t){return e==null?e:{type:e.type,values:e.values}}function H_(e,t){return e==null?e:{type:e.type,value:e.value}}function J_(e,t){return e==null?e:{type:e.type,values:e.values}}function $_(e,t){return e==null?e:{type:e.type,value:e.value}}function X_(e,t){return e==null?e:{type:e.type,values:e.values}}function Q_(e,t){return e==null?e:{type:e.type,value:e.value}}function Y_(e,t){return e==null?e:{type:e.type,values:e.values}}function ey(e,t){return e==null?e:{type:e.type,value:e.value}}function ty(e){return ny(e)}function ny(e,t){return e==null?e:{resource_address:e.resource_address,non_fungible_id:e.non_fungible_id}}function ry(e,t){return e==null?e:{type:e.type,values:e.values.map(ty)}}function ay(e,t){return e==null?e:{type:e.type,resource_address:e.resource_address,non_fungible_id:e.non_fungible_id}}function iy(e,t){return e==null?e:{type:e.type,values:e.values}}function sy(e,t){return e==null?e:{type:e.type,value:e.value}}function oy(e,t){return e==null?e:{type:e.type,values:e.values}}function uy(e,t){return e==null?e:{type:e.type,value:e.value}}function ly(e,t){return e==null?e:{key_type:e.key_type,key_hex:e.key_hex}}function cy(e){if(e!==void 0)return e===null?null:{key_type:e.key_type,key_hex:e.key_hex}}function dy(e,t){return e==null?e:{key_type:e.key_type,key_hex:e.key_hex}}function py(e){if(e!==void 0)return e===null?null:{key_type:e.key_type,key_hex:e.key_hex}}function bs(e){return fy(e)}function fy(e,t){if(e==null)return e;switch(e.key_type){case"EcdsaSecp256k1":return{...ly(e),key_type:"EcdsaSecp256k1"};case"EddsaEd25519":return{...dy(e),key_type:"EddsaEd25519"};default:throw new Error(`No variant of PublicKey exists with 'key_type=${e.key_type}'`)}}function tu(e){if(e!==void 0){if(e===null)return null;switch(e.key_type){case"EcdsaSecp256k1":return cy(e);case"EddsaEd25519":return py(e);default:throw new Error(`No variant of PublicKey exists with 'key_type=${e.key_type}'`)}}}function hy(e,t){return e==null?e:{type:e.type,values:e.values.map(bs)}}function my(e,t){return e==null?e:{key_hash_type:e.key_hash_type,hash_hex:e.hash_hex}}function _y(e,t){return e==null?e:{key_hash_type:e.key_hash_type,hash_hex:e.hash_hex}}function El(e){return yy(e)}function yy(e,t){if(e==null)return e;switch(e.key_hash_type){case"EcdsaSecp256k1":return{...my(e),key_hash_type:"EcdsaSecp256k1"};case"EddsaEd25519":return{..._y(e),key_hash_type:"EddsaEd25519"};default:throw new Error(`No variant of PublicKeyHash exists with 'key_hash_type=${e.key_hash_type}'`)}}function gy(e,t){return e==null?e:{type:e.type,values:e.values.map(El)}}function vy(e,t){return e==null?e:{type:e.type,value:El(e.value)}}function by(e,t){return e==null?e:{type:e.type,value:bs(e.value)}}function wy(e,t){return e==null?e:{type:e.type,values:e.values}}function ky(e,t){return e==null?e:{type:e.type,value:e.value}}function xy(e,t){return e==null?e:{type:e.type,values:e.values}}function Sy(e,t){return e==null?e:{type:e.type,value:e.value}}function Ty(e,t){return e==null?e:{type:e.type,values:e.values}}function Py(e,t){return e==null?e:{type:e.type,value:e.value}}function Cy(e,t){return e==null?e:{type:e.type,value_hex:e.value_hex}}function Ry(e,t){return e==null?e:{type:e.type,value:e.value}}function Ey(e,t){return e==null?e:{type:e.type,values:e.values}}function Oy(e,t){return e==null?e:{type:e.type,value:e.value}}function Ay(e){return Iy(e)}function Iy(e,t){if(e==null)return e;switch(e.type){case"Bool":return{...B_(e),type:"Bool"};case"BoolArray":return{...M_(e),type:"BoolArray"};case"Decimal":return{...K_(e),type:"Decimal"};case"DecimalArray":return{...W_(e),type:"DecimalArray"};case"GlobalAddress":return{...H_(e),type:"GlobalAddress"};case"GlobalAddressArray":return{...G_(e),type:"GlobalAddressArray"};case"I32":return{...$_(e),type:"I32"};case"I32Array":return{...J_(e),type:"I32Array"};case"I64":return{...Q_(e),type:"I64"};case"I64Array":return{...X_(e),type:"I64Array"};case"Instant":return{...ey(e),type:"Instant"};case"InstantArray":return{...Y_(e),type:"InstantArray"};case"NonFungibleGlobalId":return{...ay(e),type:"NonFungibleGlobalId"};case"NonFungibleGlobalIdArray":return{...ry(e),type:"NonFungibleGlobalIdArray"};case"NonFungibleLocalId":return{...sy(e),type:"NonFungibleLocalId"};case"NonFungibleLocalIdArray":return{...iy(e),type:"NonFungibleLocalIdArray"};case"Origin":return{...uy(e),type:"Origin"};case"OriginArray":return{...oy(e),type:"OriginArray"};case"PublicKey":return{...by(e),type:"PublicKey"};case"PublicKeyArray":return{...hy(e),type:"PublicKeyArray"};case"PublicKeyHash":return{...vy(e),type:"PublicKeyHash"};case"PublicKeyHashArray":return{...gy(e),type:"PublicKeyHashArray"};case"String":return{...ky(e),type:"String"};case"StringArray":return{...wy(e),type:"StringArray"};case"U32":return{...Sy(e),type:"U32"};case"U32Array":return{...xy(e),type:"U32Array"};case"U64":return{...Py(e),type:"U64"};case"U64Array":return{...Ty(e),type:"U64Array"};case"U8":return{...Ry(e),type:"U8"};case"U8Array":return{...Cy(e),type:"U8Array"};case"Url":return{...Oy(e),type:"Url"};case"UrlArray":return{...Ey(e),type:"UrlArray"};default:throw new Error(`No variant of MetadataTypedValue exists with 'type=${e.type}'`)}}function Ny(e){return Dy(e)}function Dy(e,t){return e==null?e:{raw_hex:e.raw_hex,programmatic_json:Mt(e.programmatic_json),typed:Ay(e.typed)}}function Ol(e){return jy(e)}function jy(e,t){return e==null?e:{key:e.key,value:Ny(e.value),is_locked:e.is_locked,last_updated_at_state_version:e.last_updated_at_state_version}}function _n(e){return qy(e)}function qy(e,t){return e==null?e:{total_count:h(e,"total_count")?e.total_count:void 0,next_cursor:h(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(Ol)}}function Zy(e,t){return e==null?e:{aggregation_level:e.aggregation_level,resource_address:e.resource_address,explicit_metadata:h(e,"explicit_metadata")?_n(e.explicit_metadata):void 0,amount:e.amount,last_updated_at_state_version:e.last_updated_at_state_version}}function ws(e){return Fy(e)}function Fy(e,t){return e==null?e:{vault_address:e.vault_address,amount:e.amount,last_updated_at_state_version:e.last_updated_at_state_version}}function Ly(e){return Uy(e)}function Uy(e,t){return e==null?e:{total_count:h(e,"total_count")?e.total_count:void 0,next_cursor:h(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(ws)}}function zy(e,t){return e==null?e:{aggregation_level:e.aggregation_level,resource_address:e.resource_address,explicit_metadata:h(e,"explicit_metadata")?_n(e.explicit_metadata):void 0,vaults:Ly(e.vaults)}}function Al(e){return Vy(e)}function Vy(e,t){if(e==null)return e;switch(e.aggregation_level){case"Global":return{...Zy(e),aggregation_level:"Global"};case"Vault":return{...zy(e),aggregation_level:"Vault"};default:throw new Error(`No variant of FungibleResourcesCollectionItem exists with 'aggregation_level=${e.aggregation_level}'`)}}function My(e){return By(e)}function By(e,t){return e==null?e:{total_count:h(e,"total_count")?e.total_count:void 0,next_cursor:h(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(Al)}}const Wy={Global:"Global",Vault:"Vault"};function Ky(e){return Gy(e)}function Gy(e,t){return e==null?e:{release_version:e.release_version,open_api_schema_version:e.open_api_schema_version,image_tag:e.image_tag}}function ve(e){return Hy(e)}function Hy(e,t){return e==null?e:{network:e.network,state_version:e.state_version,proposer_round_timestamp:e.proposer_round_timestamp,epoch:e.epoch,round:e.round}}function Jy(e){return $y(e)}function $y(e,t){return e==null?e:{ledger_state:ve(e.ledger_state),release_info:Ky(e.release_info)}}function Xy(e){return Qy(e)}function Qy(e,t){return e==null?e:{xrd:e.xrd,secp256k1_signature_virtual_badge:e.secp256k1_signature_virtual_badge,ed25519_signature_virtual_badge:e.ed25519_signature_virtual_badge,package_of_direct_caller_virtual_badge:e.package_of_direct_caller_virtual_badge,global_caller_virtual_badge:e.global_caller_virtual_badge,system_transaction_badge:e.system_transaction_badge,package_owner_badge:e.package_owner_badge,validator_owner_badge:e.validator_owner_badge,account_owner_badge:e.account_owner_badge,identity_owner_badge:e.identity_owner_badge,package_package:e.package_package,resource_package:e.resource_package,account_package:e.account_package,identity_package:e.identity_package,consensus_manager_package:e.consensus_manager_package,access_controller_package:e.access_controller_package,transaction_processor_package:e.transaction_processor_package,metadata_module_package:e.metadata_module_package,royalty_module_package:e.royalty_module_package,access_rules_package:e.access_rules_package,genesis_helper_package:e.genesis_helper_package,faucet_package:e.faucet_package,consensus_manager:e.consensus_manager,genesis_helper:e.genesis_helper,faucet:e.faucet,pool_package:e.pool_package}}function Yy(e){return eg(e)}function eg(e,t){return e==null?e:{network_id:e.network_id,network_name:e.network_name,well_known_addresses:Xy(e.well_known_addresses)}}function Il(e){return tg(e)}function tg(e,t){return e}function ng(e){return rg(e)}function rg(e,t){return e==null?e:{total_count:h(e,"total_count")?e.total_count:void 0,next_cursor:h(e,"next_cursor")?e.next_cursor:void 0,items:e.items}}function ag(e,t){return e==null?e:{aggregation_level:e.aggregation_level,resource_address:e.resource_address,explicit_metadata:h(e,"explicit_metadata")?_n(e.explicit_metadata):void 0,amount:e.amount,last_updated_at_state_version:e.last_updated_at_state_version}}function ks(e){return ig(e)}function ig(e,t){return e==null?e:{total_count:e.total_count,next_cursor:h(e,"next_cursor")?e.next_cursor:void 0,items:h(e,"items")?e.items:void 0,vault_address:e.vault_address,last_updated_at_state_version:e.last_updated_at_state_version}}function sg(e){return og(e)}function og(e,t){return e==null?e:{total_count:h(e,"total_count")?e.total_count:void 0,next_cursor:h(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(ks)}}function ug(e,t){return e==null?e:{aggregation_level:e.aggregation_level,resource_address:e.resource_address,explicit_metadata:h(e,"explicit_metadata")?_n(e.explicit_metadata):void 0,vaults:sg(e.vaults)}}function Nl(e){return lg(e)}function lg(e,t){if(e==null)return e;switch(e.aggregation_level){case"Global":return{...ag(e),aggregation_level:"Global"};case"Vault":return{...ug(e),aggregation_level:"Vault"};default:throw new Error(`No variant of NonFungibleResourcesCollectionItem exists with 'aggregation_level=${e.aggregation_level}'`)}}function cg(e){return dg(e)}function dg(e,t){return e==null?e:{total_count:h(e,"total_count")?e.total_count:void 0,next_cursor:h(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(Nl)}}function pg(e){return fg(e)}function fg(e,t){return e}function Mi(e){return hg(e)}function hg(e,t){return e==null?e:{raw_hex:e.raw_hex,programmatic_json:Mt(e.programmatic_json)}}function mg(e){if(e!==void 0)return e===null?null:{ancestor_identities:e.ancestor_identities,component_royalty_vault_balance:e.component_royalty_vault_balance,package_royalty_vault_balance:e.package_royalty_vault_balance,non_fungible_include_nfids:e.non_fungible_include_nfids,explicit_metadata:e.explicit_metadata}}function _g(e){if(e!==void 0)return e===null?null:{at_ledger_state:ke(e.at_ledger_state),opt_ins:mg(e.opt_ins),addresses:e.addresses,aggregation_level:e.aggregation_level}}function yg(e){return gg(e)}function gg(e,t){return e==null?e:{parent_address:h(e,"parent_address")?e.parent_address:void 0,owner_address:h(e,"owner_address")?e.owner_address:void 0,global_address:h(e,"global_address")?e.global_address:void 0}}function vg(e,t){return e==null?e:{type:e.type,package_address:h(e,"package_address")?e.package_address:void 0,blueprint_name:e.blueprint_name,blueprint_version:e.blueprint_version,state:h(e,"state")?e.state:void 0,role_assignments:h(e,"role_assignments")?vs(e.role_assignments):void 0,royalty_vault_balance:h(e,"royalty_vault_balance")?e.royalty_vault_balance:void 0}}function bg(e,t){return e==null?e:{type:e.type,role_assignments:vs(e.role_assignments),divisibility:e.divisibility,total_supply:e.total_supply,total_minted:e.total_minted,total_burned:e.total_burned}}function wg(e,t){return e==null?e:{type:e.type,resource_address:e.resource_address,balance:ws(e.balance)}}function kg(e,t){return e==null?e:{type:e.type,role_assignments:vs(e.role_assignments),non_fungible_id_type:Il(e.non_fungible_id_type),total_supply:e.total_supply,total_minted:e.total_minted,total_burned:e.total_burned}}function xg(e,t){return e==null?e:{type:e.type,resource_address:e.resource_address,balance:ks(e.balance)}}function Sg(e){return Tg(e)}function Tg(e,t){return e==null?e:{name:e.name,version:e.version,definition:e.definition,dependant_entities:h(e,"dependant_entities")?e.dependant_entities:void 0,auth_template:h(e,"auth_template")?e.auth_template:void 0,auth_template_is_locked:h(e,"auth_template_is_locked")?e.auth_template_is_locked:void 0,royalty_config:h(e,"royalty_config")?e.royalty_config:void 0,royalty_config_is_locked:h(e,"royalty_config_is_locked")?e.royalty_config_is_locked:void 0}}function Pg(e){return Cg(e)}function Cg(e,t){return e==null?e:{total_count:h(e,"total_count")?e.total_count:void 0,next_cursor:h(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(Sg)}}function Rg(e){return Eg(e)}function Eg(e,t){return e==null?e:{schema_hash_hex:e.schema_hash_hex,schema_hex:e.schema_hex}}function Og(e){return Ag(e)}function Ag(e,t){return e==null?e:{total_count:h(e,"total_count")?e.total_count:void 0,next_cursor:h(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(Rg)}}function Ig(e,t){return e==null?e:{type:e.type,vm_type:pg(e.vm_type),code_hash_hex:e.code_hash_hex,code_hex:e.code_hex,royalty_vault_balance:h(e,"royalty_vault_balance")?e.royalty_vault_balance:void 0,blueprints:h(e,"blueprints")?Pg(e.blueprints):void 0,schemas:h(e,"schemas")?Og(e.schemas):void 0}}function Ng(e){return Dg(e)}function Dg(e,t){if(e==null)return e;switch(e.type){case"Component":return{...vg(e),type:"Component"};case"FungibleResource":return{...bg(e),type:"FungibleResource"};case"FungibleVault":return{...wg(e),type:"FungibleVault"};case"NonFungibleResource":return{...kg(e),type:"NonFungibleResource"};case"NonFungibleVault":return{...xg(e),type:"NonFungibleVault"};case"Package":return{...Ig(e),type:"Package"};default:throw new Error(`No variant of StateEntityDetailsResponseItemDetails exists with 'type=${e.type}'`)}}function jg(e){return qg(e)}function qg(e,t){return e==null?e:{address:e.address,fungible_resources:h(e,"fungible_resources")?My(e.fungible_resources):void 0,non_fungible_resources:h(e,"non_fungible_resources")?cg(e.non_fungible_resources):void 0,ancestor_identities:h(e,"ancestor_identities")?yg(e.ancestor_identities):void 0,metadata:_n(e.metadata),explicit_metadata:h(e,"explicit_metadata")?_n(e.explicit_metadata):void 0,details:h(e,"details")?Ng(e.details):void 0}}function Zg(e){return Fg(e)}function Fg(e,t){return e==null?e:{ledger_state:ve(e.ledger_state),items:e.items.map(jg)}}function Lg(e){if(e!==void 0)return e===null?null:{at_ledger_state:ke(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,address:e.address,resource_address:e.resource_address}}function Ug(e){return zg(e)}function zg(e,t){return e==null?e:{ledger_state:ve(e.ledger_state),total_count:h(e,"total_count")?e.total_count:void 0,next_cursor:h(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(ws),address:e.address,resource_address:e.resource_address}}function Vg(e){if(e!==void 0)return e===null?null:{explicit_metadata:e.explicit_metadata}}function Mg(e){if(e!==void 0)return e===null?null:{at_ledger_state:ke(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,address:e.address,aggregation_level:e.aggregation_level,opt_ins:Vg(e.opt_ins)}}function Bg(e){return Wg(e)}function Wg(e,t){return e==null?e:{ledger_state:ve(e.ledger_state),total_count:h(e,"total_count")?e.total_count:void 0,next_cursor:h(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(Al),address:e.address}}function Kg(e){if(e!==void 0)return e===null?null:{at_ledger_state:ke(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,address:e.address}}function Gg(e){return Hg(e)}function Hg(e,t){return e==null?e:{ledger_state:ve(e.ledger_state),total_count:h(e,"total_count")?e.total_count:void 0,next_cursor:h(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(Ol),address:e.address}}function Jg(e){if(e!==void 0)return e===null?null:{at_ledger_state:ke(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,address:e.address,vault_address:e.vault_address,resource_address:e.resource_address}}function $g(e){return Xg(e)}function Xg(e,t){return e==null?e:{ledger_state:ve(e.ledger_state),total_count:h(e,"total_count")?e.total_count:void 0,next_cursor:h(e,"next_cursor")?e.next_cursor:void 0,items:e.items,address:e.address,resource_address:e.resource_address}}function Qg(e){if(e!==void 0)return e===null?null:{non_fungible_include_nfids:e.non_fungible_include_nfids}}function Yg(e){if(e!==void 0)return e===null?null:{at_ledger_state:ke(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,address:e.address,resource_address:e.resource_address,opt_ins:Qg(e.opt_ins)}}function ev(e){return tv(e)}function tv(e,t){return e==null?e:{ledger_state:ve(e.ledger_state),total_count:h(e,"total_count")?e.total_count:void 0,next_cursor:h(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(ks),address:e.address,resource_address:e.resource_address}}function nv(e){if(e!==void 0)return e===null?null:{non_fungible_include_nfids:e.non_fungible_include_nfids,explicit_metadata:e.explicit_metadata}}function rv(e){if(e!==void 0)return e===null?null:{at_ledger_state:ke(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,address:e.address,aggregation_level:e.aggregation_level,opt_ins:nv(e.opt_ins)}}function av(e){return iv(e)}function iv(e,t){return e==null?e:{ledger_state:ve(e.ledger_state),total_count:h(e,"total_count")?e.total_count:void 0,next_cursor:h(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(Nl),address:e.address}}function sv(e){if(e!==void 0)return e===null?null:{key_hex:e.key_hex,key_json:Kn(e.key_json)}}function ov(e){if(e!==void 0)return e===null?null:{at_ledger_state:ke(e.at_ledger_state),key_value_store_address:e.key_value_store_address,keys:e.keys.map(sv)}}function uv(e){return lv(e)}function lv(e,t){return e==null?e:{key:Mi(e.key),value:Mi(e.value),last_updated_at_state_version:e.last_updated_at_state_version,is_locked:e.is_locked}}function cv(e){return dv(e)}function dv(e,t){return e==null?e:{ledger_state:ve(e.ledger_state),key_value_store_address:e.key_value_store_address,entries:e.entries.map(uv)}}function pv(e){if(e!==void 0)return e===null?null:{at_ledger_state:ke(e.at_ledger_state),resource_address:e.resource_address,non_fungible_ids:e.non_fungible_ids}}function fv(e){return hv(e)}function hv(e,t){return e==null?e:{is_burned:e.is_burned,non_fungible_id:e.non_fungible_id,data:h(e,"data")?Mi(e.data):void 0,last_updated_at_state_version:e.last_updated_at_state_version}}function mv(e){return _v(e)}function _v(e,t){return e==null?e:{ledger_state:ve(e.ledger_state),resource_address:e.resource_address,non_fungible_id_type:Il(e.non_fungible_id_type),non_fungible_ids:e.non_fungible_ids.map(fv)}}function yv(e){if(e!==void 0)return e===null?null:{at_ledger_state:ke(e.at_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,resource_address:e.resource_address}}function gv(e){return vv(e)}function vv(e,t){return e==null?e:{ledger_state:ve(e.ledger_state),resource_address:e.resource_address,non_fungible_ids:ng(e.non_fungible_ids)}}function bv(e){if(e!==void 0)return e===null?null:{at_ledger_state:ke(e.at_ledger_state),resource_address:e.resource_address,non_fungible_ids:e.non_fungible_ids}}function wv(e){return kv(e)}function kv(e,t){return e==null?e:{non_fungible_id:e.non_fungible_id,owning_vault_address:h(e,"owning_vault_address")?e.owning_vault_address:void 0,is_burned:e.is_burned,last_updated_at_state_version:e.last_updated_at_state_version}}function xv(e){return Sv(e)}function Sv(e,t){return e==null?e:{ledger_state:ve(e.ledger_state),resource_address:e.resource_address,non_fungible_ids:e.non_fungible_ids.map(wv)}}function Tv(e){if(e!==void 0)return e===null?null:{at_ledger_state:ke(e.at_ledger_state),cursor:e.cursor}}function Pv(e){return Cv(e)}function Cv(e,t){return e==null?e:{stake:e.stake,stake_percentage:e.stake_percentage,key:bs(e.key)}}function Rv(e){return Ev(e)}function Ev(e,t){return e==null?e:{fee_factor:e.fee_factor}}function Ov(e){return Av(e)}function Av(e,t){return e==null?e:{fee_factor:e.fee_factor,effective_at_epoch:e.effective_at_epoch}}function Iv(e){return Nv(e)}function Nv(e,t){return e==null?e:{current:Rv(e.current),pending:h(e,"pending")?Ov(e.pending):void 0}}function Dr(e){return Dv(e)}function Dv(e,t){return e==null?e:{balance:e.balance,last_changed_at_state_version:e.last_changed_at_state_version,address:e.address}}function jv(e){return qv(e)}function qv(e,t){return e==null?e:{address:e.address,stake_vault:Dr(e.stake_vault),pending_xrd_withdraw_vault:Dr(e.pending_xrd_withdraw_vault),locked_owner_stake_unit_vault:Dr(e.locked_owner_stake_unit_vault),pending_owner_stake_unit_unlock_vault:Dr(e.pending_owner_stake_unit_unlock_vault),state:e.state,active_in_epoch:h(e,"active_in_epoch")?Pv(e.active_in_epoch):void 0,metadata:_n(e.metadata),effective_fee_factor:Iv(e.effective_fee_factor)}}function Zv(e){return Fv(e)}function Fv(e,t){return e==null?e:{total_count:h(e,"total_count")?e.total_count:void 0,next_cursor:h(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(jv)}}function Lv(e){return Uv(e)}function Uv(e,t){return e==null?e:{ledger_state:ve(e.ledger_state),validators:Zv(e.validators)}}function zv(e){if(e!==void 0)return e===null?null:{event:e.event,emitter_address:e.emitter_address,resource_address:e.resource_address}}function Dl(e){if(e!==void 0)return e===null?null:{raw_hex:e.raw_hex,receipt_state_changes:e.receipt_state_changes,receipt_fee_summary:e.receipt_fee_summary,receipt_fee_source:e.receipt_fee_source,receipt_fee_destination:e.receipt_fee_destination,receipt_costing_parameters:e.receipt_costing_parameters,receipt_events:e.receipt_events,receipt_output:e.receipt_output,affected_global_entities:e.affected_global_entities,balance_changes:e.balance_changes}}function Vv(e){if(e!==void 0)return e===null?null:{at_ledger_state:ke(e.at_ledger_state),from_ledger_state:ke(e.from_ledger_state),cursor:e.cursor,limit_per_page:e.limit_per_page,kind_filter:e.kind_filter,manifest_accounts_withdrawn_from_filter:e.manifest_accounts_withdrawn_from_filter,manifest_accounts_deposited_into_filter:e.manifest_accounts_deposited_into_filter,manifest_resources_filter:e.manifest_resources_filter,affected_global_entities_filter:e.affected_global_entities_filter,events_filter:e.events_filter===void 0?void 0:e.events_filter.map(zv),order:e.order,opt_ins:Dl(e.opt_ins)}}function Mv(e){return Bv(e)}function Bv(e,t){return e==null?e:{ledger_state:ve(e.ledger_state),total_count:h(e,"total_count")?e.total_count:void 0,next_cursor:h(e,"next_cursor")?e.next_cursor:void 0,items:e.items.map(Rl)}}function Wv(e){if(e!==void 0)return e===null?null:{at_ledger_state:ke(e.at_ledger_state),intent_hash:e.intent_hash,opt_ins:Dl(e.opt_ins)}}function Kv(e){return Gv(e)}function Gv(e,t){return e==null?e:{ledger_state:ve(e.ledger_state),transaction:Rl(e.transaction)}}function Hv(e){return Jv(e)}function Jv(e,t){return e==null?e:{ledger_state:ve(e.ledger_state)}}function $v(e){return Xv(e)}function Xv(e,t){return e}function Qv(e){return Yv(e)}function Yv(e,t){return e}function eb(e){return tb(e)}function tb(e,t){return e}function nb(e){if(e!==void 0)return e===null?null:{use_free_credit:e.use_free_credit,assume_all_signature_proofs:e.assume_all_signature_proofs,skip_epoch_check:e.skip_epoch_check}}function rb(e){if(e!==void 0)return e===null?null:{manifest:e.manifest,blobs_hex:e.blobs_hex,start_epoch_inclusive:e.start_epoch_inclusive,end_epoch_exclusive:e.end_epoch_exclusive,notary_public_key:tu(e.notary_public_key),notary_is_signatory:e.notary_is_signatory,tip_percentage:e.tip_percentage,nonce:e.nonce,signer_public_keys:e.signer_public_keys.map(tu),flags:nb(e.flags)}}function ab(e){return ib(e)}function ib(e,t){return e==null?e:{level:e.level,message:e.message}}function sb(e){return ob(e)}function ob(e,t){return e==null?e:{encoded_receipt:e.encoded_receipt,receipt:e.receipt,resource_changes:e.resource_changes,logs:e.logs.map(ab)}}function ub(e){if(e!==void 0)return e===null?null:{intent_hash:e.intent_hash}}function lb(e){return cb(e)}function cb(e,t){return e==null?e:{payload_hash:e.payload_hash,status:Ra(e.status),payload_status:h(e,"payload_status")?eb(e.payload_status):void 0,payload_status_description:h(e,"payload_status_description")?e.payload_status_description:void 0,error_message:h(e,"error_message")?e.error_message:void 0,latest_error_message:h(e,"latest_error_message")?e.latest_error_message:void 0,handling_status:h(e,"handling_status")?Qv(e.handling_status):void 0,handling_status_reason:h(e,"handling_status_reason")?e.handling_status_reason:void 0,submission_error:h(e,"submission_error")?e.submission_error:void 0}}function db(e){return pb(e)}function pb(e,t){return e==null?e:{ledger_state:ve(e.ledger_state),status:Ra(e.status),intent_status:$v(e.intent_status),intent_status_description:e.intent_status_description,known_payloads:e.known_payloads.map(lb),committed_state_version:h(e,"committed_state_version")?e.committed_state_version:void 0,error_message:h(e,"error_message")?e.error_message:void 0}}function fb(e){if(e!==void 0)return e===null?null:{notarized_transaction_hex:e.notarized_transaction_hex}}function hb(e){return mb(e)}function mb(e,t){return e==null?e:{duplicate:e.duplicate}}function _b(e){return yb(e)}function yb(e,t){return e==null?e:{address:e.address,proposals_made:h(e,"proposals_made")?e.proposals_made:void 0,proposals_missed:h(e,"proposals_missed")?e.proposals_missed:void 0,epochs_active_in:e.epochs_active_in}}function gb(e){return vb(e)}function vb(e,t){return e==null?e:{items:e.items.map(_b)}}function bb(e){if(e!==void 0)return e===null?null:{at_ledger_state:ke(e.at_ledger_state),from_ledger_state:ke(e.from_ledger_state),validator_addresses:e.validator_addresses}}function wb(e){return kb(e)}function kb(e,t){return e==null?e:{ledger_state:ve(e.ledger_state),validators:gb(e.validators)}}class xb extends br{async entityFungibleResourceVaultPageRaw(t,n){if(t.stateEntityFungibleResourceVaultsPageRequest===null||t.stateEntityFungibleResourceVaultsPageRequest===void 0)throw new ye("stateEntityFungibleResourceVaultsPageRequest","Required parameter requestParameters.stateEntityFungibleResourceVaultsPageRequest was null or undefined when calling entityFungibleResourceVaultPage.");const r={},a={};a["Content-Type"]="application/json";const i=await this.request({path:"/state/entity/page/fungible-vaults/",method:"POST",headers:a,query:r,body:Lg(t.stateEntityFungibleResourceVaultsPageRequest)},n);return new de(i,s=>Ug(s))}async entityFungibleResourceVaultPage(t,n){return await(await this.entityFungibleResourceVaultPageRaw(t,n)).value()}async entityFungiblesPageRaw(t,n){if(t.stateEntityFungiblesPageRequest===null||t.stateEntityFungiblesPageRequest===void 0)throw new ye("stateEntityFungiblesPageRequest","Required parameter requestParameters.stateEntityFungiblesPageRequest was null or undefined when calling entityFungiblesPage.");const r={},a={};a["Content-Type"]="application/json";const i=await this.request({path:"/state/entity/page/fungibles/",method:"POST",headers:a,query:r,body:Mg(t.stateEntityFungiblesPageRequest)},n);return new de(i,s=>Bg(s))}async entityFungiblesPage(t,n){return await(await this.entityFungiblesPageRaw(t,n)).value()}async entityMetadataPageRaw(t,n){if(t.stateEntityMetadataPageRequest===null||t.stateEntityMetadataPageRequest===void 0)throw new ye("stateEntityMetadataPageRequest","Required parameter requestParameters.stateEntityMetadataPageRequest was null or undefined when calling entityMetadataPage.");const r={},a={};a["Content-Type"]="application/json";const i=await this.request({path:"/state/entity/page/metadata",method:"POST",headers:a,query:r,body:Kg(t.stateEntityMetadataPageRequest)},n);return new de(i,s=>Gg(s))}async entityMetadataPage(t,n){return await(await this.entityMetadataPageRaw(t,n)).value()}async entityNonFungibleIdsPageRaw(t,n){if(t.stateEntityNonFungibleIdsPageRequest===null||t.stateEntityNonFungibleIdsPageRequest===void 0)throw new ye("stateEntityNonFungibleIdsPageRequest","Required parameter requestParameters.stateEntityNonFungibleIdsPageRequest was null or undefined when calling entityNonFungibleIdsPage.");const r={},a={};a["Content-Type"]="application/json";const i=await this.request({path:"/state/entity/page/non-fungible-vault/ids",method:"POST",headers:a,query:r,body:Jg(t.stateEntityNonFungibleIdsPageRequest)},n);return new de(i,s=>$g(s))}async entityNonFungibleIdsPage(t,n){return await(await this.entityNonFungibleIdsPageRaw(t,n)).value()}async entityNonFungibleResourceVaultPageRaw(t,n){if(t.stateEntityNonFungibleResourceVaultsPageRequest===null||t.stateEntityNonFungibleResourceVaultsPageRequest===void 0)throw new ye("stateEntityNonFungibleResourceVaultsPageRequest","Required parameter requestParameters.stateEntityNonFungibleResourceVaultsPageRequest was null or undefined when calling entityNonFungibleResourceVaultPage.");const r={},a={};a["Content-Type"]="application/json";const i=await this.request({path:"/state/entity/page/non-fungible-vaults/",method:"POST",headers:a,query:r,body:Yg(t.stateEntityNonFungibleResourceVaultsPageRequest)},n);return new de(i,s=>ev(s))}async entityNonFungibleResourceVaultPage(t,n){return await(await this.entityNonFungibleResourceVaultPageRaw(t,n)).value()}async entityNonFungiblesPageRaw(t,n){if(t.stateEntityNonFungiblesPageRequest===null||t.stateEntityNonFungiblesPageRequest===void 0)throw new ye("stateEntityNonFungiblesPageRequest","Required parameter requestParameters.stateEntityNonFungiblesPageRequest was null or undefined when calling entityNonFungiblesPage.");const r={},a={};a["Content-Type"]="application/json";const i=await this.request({path:"/state/entity/page/non-fungibles/",method:"POST",headers:a,query:r,body:rv(t.stateEntityNonFungiblesPageRequest)},n);return new de(i,s=>av(s))}async entityNonFungiblesPage(t,n){return await(await this.entityNonFungiblesPageRaw(t,n)).value()}async keyValueStoreDataRaw(t,n){if(t.stateKeyValueStoreDataRequest===null||t.stateKeyValueStoreDataRequest===void 0)throw new ye("stateKeyValueStoreDataRequest","Required parameter requestParameters.stateKeyValueStoreDataRequest was null or undefined when calling keyValueStoreData.");const r={},a={};a["Content-Type"]="application/json";const i=await this.request({path:"/state/key-value-store/data",method:"POST",headers:a,query:r,body:ov(t.stateKeyValueStoreDataRequest)},n);return new de(i,s=>cv(s))}async keyValueStoreData(t,n){return await(await this.keyValueStoreDataRaw(t,n)).value()}async nonFungibleDataRaw(t,n){if(t.stateNonFungibleDataRequest===null||t.stateNonFungibleDataRequest===void 0)throw new ye("stateNonFungibleDataRequest","Required parameter requestParameters.stateNonFungibleDataRequest was null or undefined when calling nonFungibleData.");const r={},a={};a["Content-Type"]="application/json";const i=await this.request({path:"/state/non-fungible/data",method:"POST",headers:a,query:r,body:pv(t.stateNonFungibleDataRequest)},n);return new de(i,s=>mv(s))}async nonFungibleData(t,n){return await(await this.nonFungibleDataRaw(t,n)).value()}async nonFungibleIdsRaw(t,n){if(t.stateNonFungibleIdsRequest===null||t.stateNonFungibleIdsRequest===void 0)throw new ye("stateNonFungibleIdsRequest","Required parameter requestParameters.stateNonFungibleIdsRequest was null or undefined when calling nonFungibleIds.");const r={},a={};a["Content-Type"]="application/json";const i=await this.request({path:"/state/non-fungible/ids",method:"POST",headers:a,query:r,body:yv(t.stateNonFungibleIdsRequest)},n);return new de(i,s=>gv(s))}async nonFungibleIds(t,n){return await(await this.nonFungibleIdsRaw(t,n)).value()}async nonFungibleLocationRaw(t,n){if(t.stateNonFungibleLocationRequest===null||t.stateNonFungibleLocationRequest===void 0)throw new ye("stateNonFungibleLocationRequest","Required parameter requestParameters.stateNonFungibleLocationRequest was null or undefined when calling nonFungibleLocation.");const r={},a={};a["Content-Type"]="application/json";const i=await this.request({path:"/state/non-fungible/location",method:"POST",headers:a,query:r,body:bv(t.stateNonFungibleLocationRequest)},n);return new de(i,s=>xv(s))}async nonFungibleLocation(t,n){return await(await this.nonFungibleLocationRaw(t,n)).value()}async stateEntityDetailsRaw(t,n){if(t.stateEntityDetailsRequest===null||t.stateEntityDetailsRequest===void 0)throw new ye("stateEntityDetailsRequest","Required parameter requestParameters.stateEntityDetailsRequest was null or undefined when calling stateEntityDetails.");const r={},a={};a["Content-Type"]="application/json";const i=await this.request({path:"/state/entity/details",method:"POST",headers:a,query:r,body:_g(t.stateEntityDetailsRequest)},n);return new de(i,s=>Zg(s))}async stateEntityDetails(t,n){return await(await this.stateEntityDetailsRaw(t,n)).value()}async stateValidatorsListRaw(t,n){if(t.stateValidatorsListRequest===null||t.stateValidatorsListRequest===void 0)throw new ye("stateValidatorsListRequest","Required parameter requestParameters.stateValidatorsListRequest was null or undefined when calling stateValidatorsList.");const r={},a={};a["Content-Type"]="application/json";const i=await this.request({path:"/state/validators/list",method:"POST",headers:a,query:r,body:Tv(t.stateValidatorsListRequest)},n);return new de(i,s=>Lv(s))}async stateValidatorsList(t,n){return await(await this.stateValidatorsListRaw(t,n)).value()}}class Sb extends br{async validatorsUptimeRaw(t,n){if(t.validatorsUptimeRequest===null||t.validatorsUptimeRequest===void 0)throw new ye("validatorsUptimeRequest","Required parameter requestParameters.validatorsUptimeRequest was null or undefined when calling validatorsUptime.");const r={},a={};a["Content-Type"]="application/json";const i=await this.request({path:"/statistics/validators/uptime",method:"POST",headers:a,query:r,body:bb(t.validatorsUptimeRequest)},n);return new de(i,s=>wb(s))}async validatorsUptime(t,n){return await(await this.validatorsUptimeRaw(t,n)).value()}}class Tb extends br{async gatewayStatusRaw(t){const n={},r={},a=await this.request({path:"/status/gateway-status",method:"POST",headers:r,query:n},t);return new de(a,i=>Jy(i))}async gatewayStatus(t){return await(await this.gatewayStatusRaw(t)).value()}async networkConfigurationRaw(t){const n={},r={},a=await this.request({path:"/status/network-configuration",method:"POST",headers:r,query:n},t);return new de(a,i=>Yy(i))}async networkConfiguration(t){return await(await this.networkConfigurationRaw(t)).value()}}class Pb extends br{async streamTransactionsRaw(t,n){if(t.streamTransactionsRequest===null||t.streamTransactionsRequest===void 0)throw new ye("streamTransactionsRequest","Required parameter requestParameters.streamTransactionsRequest was null or undefined when calling streamTransactions.");const r={},a={};a["Content-Type"]="application/json";const i=await this.request({path:"/stream/transactions",method:"POST",headers:a,query:r,body:Vv(t.streamTransactionsRequest)},n);return new de(i,s=>Mv(s))}async streamTransactions(t,n){return await(await this.streamTransactionsRaw(t,n)).value()}}class Cb extends br{async transactionCommittedDetailsRaw(t,n){if(t.transactionCommittedDetailsRequest===null||t.transactionCommittedDetailsRequest===void 0)throw new ye("transactionCommittedDetailsRequest","Required parameter requestParameters.transactionCommittedDetailsRequest was null or undefined when calling transactionCommittedDetails.");const r={},a={};a["Content-Type"]="application/json";const i=await this.request({path:"/transaction/committed-details",method:"POST",headers:a,query:r,body:Wv(t.transactionCommittedDetailsRequest)},n);return new de(i,s=>Kv(s))}async transactionCommittedDetails(t,n){return await(await this.transactionCommittedDetailsRaw(t,n)).value()}async transactionConstructionRaw(t){const n={},r={},a=await this.request({path:"/transaction/construction",method:"POST",headers:r,query:n},t);return new de(a,i=>Hv(i))}async transactionConstruction(t){return await(await this.transactionConstructionRaw(t)).value()}async transactionPreviewRaw(t,n){if(t.transactionPreviewRequest===null||t.transactionPreviewRequest===void 0)throw new ye("transactionPreviewRequest","Required parameter requestParameters.transactionPreviewRequest was null or undefined when calling transactionPreview.");const r={},a={};a["Content-Type"]="application/json";const i=await this.request({path:"/transaction/preview",method:"POST",headers:a,query:r,body:rb(t.transactionPreviewRequest)},n);return new de(i,s=>sb(s))}async transactionPreview(t,n){return await(await this.transactionPreviewRaw(t,n)).value()}async transactionStatusRaw(t,n){if(t.transactionStatusRequest===null||t.transactionStatusRequest===void 0)throw new ye("transactionStatusRequest","Required parameter requestParameters.transactionStatusRequest was null or undefined when calling transactionStatus.");const r={},a={};a["Content-Type"]="application/json";const i=await this.request({path:"/transaction/status",method:"POST",headers:a,query:r,body:ub(t.transactionStatusRequest)},n);return new de(i,s=>db(s))}async transactionStatus(t,n){return await(await this.transactionStatusRaw(t,n)).value()}async transactionSubmitRaw(t,n){if(t.transactionSubmitRequest===null||t.transactionSubmitRequest===void 0)throw new ye("transactionSubmitRequest","Required parameter requestParameters.transactionSubmitRequest was null or undefined when calling transactionSubmit.");const r={},a={};a["Content-Type"]="application/json";const i=await this.request({path:"/transaction/submit",method:"POST",headers:a,query:r,body:fb(t.transactionSubmitRequest)},n);return new de(i,s=>hb(s))}async transactionSubmit(t,n){return await(await this.transactionSubmitRaw(t,n)).value()}}const Lr=(e,t)=>{const n=[];for(let r=0,a=e.length;r<a;r+=t)n.push(e.slice(r,r+t));return n},tr=async(e,t)=>{let n=t;const r=[];let a;do{const i=await e(n);a=i.ledger_state,r.push(...i.items),n=i.next_cursor}while(n);return{aggregatedEntities:r,ledger_state:a}};class Rb{constructor(t,n){this.innerClient=t,this.configuration=n}async getEntityDetailsVaultAggregated(t,n,r){var a,i,s,o,l,u,d;const y=Array.isArray(t);if(y&&t.length===0)return Promise.resolve([]);if(y&&t.length>this.configuration.maxAddressesCount){const b=Lr(t,this.configuration.maxAddressesCount);return Promise.all(b.map(_=>this.getEntityDetailsVaultAggregated(_,n,r))).then(_=>_.flat())}const{items:f,ledger_state:g}=await this.innerClient.stateEntityDetails({stateEntityDetailsRequest:{addresses:y?t:[t],aggregation_level:Wy.Vault,opt_ins:{ancestor_identities:(a=n==null?void 0:n.ancestorIdentities)!=null?a:!1,component_royalty_vault_balance:(i=n==null?void 0:n.componentRoyaltyVaultBalance)!=null?i:!1,package_royalty_vault_balance:(s=n==null?void 0:n.packageRoyaltyVaultBalance)!=null?s:!1,non_fungible_include_nfids:(o=n==null?void 0:n.nonFungibleIncludeNfids)!=null?o:!0,explicit_metadata:(l=n==null?void 0:n.explicitMetadata)!=null?l:[]},at_ledger_state:r}}).then(b=>this.ensureResourcesProperties(b));return y?Promise.all(f.map(b=>{var _,x;return this.queryAllResources(b,{explicitMetadata:(_=n==null?void 0:n.explicitMetadata)!=null?_:[],nonFungibleIncludeNfids:(x=n==null?void 0:n.nonFungibleIncludeNfids)!=null?x:!0},r||{state_version:g.state_version})})):this.queryAllResources(f[0],{explicitMetadata:(u=n==null?void 0:n.explicitMetadata)!=null?u:[],nonFungibleIncludeNfids:(d=n==null?void 0:n.nonFungibleIncludeNfids)!=null?d:!0},r||{state_version:g.state_version})}async getEntityMetadata(t,n){return this.innerClient.entityMetadataPage({stateEntityMetadataPageRequest:{address:t,cursor:n}})}async getNonFungibleLocation(t,n){if(n.length>this.configuration.maxNftIdsCount){const r=Lr(n,this.configuration.maxNftIdsCount);return Promise.all(r.map(a=>this.getNonFungibleLocation(t,a))).then(a=>a.flat())}return this.innerClient.nonFungibleLocation({stateNonFungibleLocationRequest:{resource_address:t,non_fungible_ids:n}}).then(r=>r.non_fungible_ids)}async getAllEntityMetadata(t,n){return tr(this.getEntityMetadata.bind(this,t),n).then(r=>r.aggregatedEntities)}async getValidators(t){return this.innerClient.stateValidatorsList({stateValidatorsListRequest:{cursor:t||null}}).then(({validators:n})=>n)}async getAllValidators(t){return tr(n=>this.getValidatorsWithLedgerState(n).then(r=>({items:r.validators.items,ledger_state:r.ledger_state,next_cursor:r.validators.next_cursor})),t).then(n=>n.aggregatedEntities)}async getValidatorsWithLedgerState(t){return this.innerClient.stateValidatorsList({stateValidatorsListRequest:{cursor:t||null}})}async getAllValidatorsWithLedgerState(t){return tr(n=>this.getValidatorsWithLedgerState(n).then(r=>({items:r.validators.items,ledger_state:r.ledger_state,next_cursor:r.validators.next_cursor})),t)}async getNonFungibleIds(t,n,r){return this.innerClient.nonFungibleIds({stateNonFungibleIdsRequest:{resource_address:t,cursor:r,at_ledger_state:n}}).then(({non_fungible_ids:a})=>a)}async getAllNonFungibleIds(t,n,r){let a=r,i=n;const s=[];do{const o=await this.innerClient.nonFungibleIds({stateNonFungibleIdsRequest:{resource_address:t,cursor:i,at_ledger_state:a}});s.push(...o.non_fungible_ids.items),a=a||{state_version:o.ledger_state.state_version},i=o.non_fungible_ids.next_cursor}while(i);return s}async getNonFungibleData(t,n,r){const a=Array.isArray(n);if(a&&n.length===0)return Promise.resolve([]);if(a&&n.length>this.configuration.maxNftIdsCount){const s=Lr(n,this.configuration.maxNftIdsCount);return Promise.all(s.map(o=>this.getNonFungibleData(t,o,r))).then(o=>o.flat())}const{non_fungible_ids:i}=await this.innerClient.nonFungibleData({stateNonFungibleDataRequest:{resource_address:t,non_fungible_ids:a?n:[n],at_ledger_state:r}});return a?i:i[0]}async getEntityFungiblesPageVaultAggregated(t,n){return this.innerClient.entityFungiblesPage({stateEntityFungiblesPageRequest:{address:t,cursor:n==null?void 0:n.nextCursor,aggregation_level:"Vault",at_ledger_state:n==null?void 0:n.ledgerState,opt_ins:{explicit_metadata:n==null?void 0:n.explicitMetadata}}})}async getEntityNonFungiblesPageVaultAggregated(t,n){return this.innerClient.entityNonFungiblesPage({stateEntityNonFungiblesPageRequest:{address:t,cursor:n==null?void 0:n.cursor,aggregation_level:"Vault",at_ledger_state:n==null?void 0:n.ledgerState,opt_ins:{explicit_metadata:n==null?void 0:n.explicitMetadata,non_fungible_include_nfids:n==null?void 0:n.nonFungibleIncludeNfids}}})}ensureResourcesProperties(t){return{...t,items:t.items.map(n=>({...n,fungible_resources:n.fungible_resources||{total_count:0,items:[]},non_fungible_resources:n.non_fungible_resources||{total_count:0,items:[]}}))}}async queryAllFungibles(t,n,r){var a,i;const s=(a=t==null?void 0:t.fungible_resources)==null?void 0:a.next_cursor;if(!s)return Promise.resolve(t);const o=await tr(l=>this.getEntityFungiblesPageVaultAggregated(t.address,{nextCursor:l,ledgerState:r,explicitMetadata:n==null?void 0:n.explicitMetadata}),s);return Promise.resolve({...t,fungible_resources:{items:[...((i=t==null?void 0:t.fungible_resources)==null?void 0:i.items)||[],...o.aggregatedEntities]}})}async queryAllNonFungibles(t,n,r){const a=t.non_fungible_resources.next_cursor;if(!a)return Promise.resolve(t);const i=await tr(s=>this.getEntityNonFungiblesPageVaultAggregated(t.address,{cursor:s,ledgerState:r,explicitMetadata:n==null?void 0:n.explicitMetadata,nonFungibleIncludeNfids:n==null?void 0:n.nonFungibleIncludeNfids}),a);return Promise.resolve({...t,non_fungible_resources:{items:[...t.non_fungible_resources.items,...i.aggregatedEntities]}})}async queryAllResources(t,n,r){const a=this.queryAllFungibles(t,n,r),i=this.queryAllNonFungibles(t,n,r);return Promise.all([a,i]).then(s=>({...t,fungible_resources:{...t.fungible_resources,items:[...s[0].fungible_resources.items]},non_fungible_resources:{...t.non_fungible_resources,items:[...s[1].non_fungible_resources.items]}}))}}const Eb=20,Ob=29,Bi=200,Ab="1.2.7",$e={Mainnet:1,Stokenet:2,Alphanet:10,Betanet:11,Kisharnet:12,RCnetV1:12,Zabanet:14,RCnetV3:14,Gilganet:32,Enkinet:33,Hammunet:34,Nergalnet:35,Mardunet:36,Dumunet:37,LocalNet:240,InternalTestNet:241,Simulator:242},Ib={Mainnet:{networkName:"Mainnet",networkId:$e.Mainnet,gatewayUrl:"https://mainnet.radixdlt.com",dashboardUrl:"https://dashboard.radixdlt.com"},Stokenet:{networkName:"Stokenet",networkId:$e.Stokenet,gatewayUrl:"https://babylon-stokenet-gateway.radixdlt.com",dashboardUrl:"https://stokenet-dashboard.radixdlt.com"},Kisharnet:{networkName:"Kisharnet",networkId:$e.Kisharnet,gatewayUrl:"https://kisharnet-gateway.radixdlt.com",dashboardUrl:"https://kisharnet-dashboard.radixdlt.com"},RCnetV1:{networkName:"RCnetV1",networkId:$e.RCnetV1,gatewayUrl:"https://rcnet.radixdlt.com",dashboardUrl:"https://rcnet-dashboard.radixdlt.com"},Mardunet:{networkName:"Mardunet",networkId:$e.Mardunet,gatewayUrl:"https://mardunet-gateway.radixdlt.com",dashboardUrl:"https://mardunet-dashboard.rdx-works-main.extratools.works"},Zabanet:{networkName:"Zabanet",networkId:$e.Zabanet,gatewayUrl:"https://zabanet-gateway.radixdlt.com",dashboardUrl:"https://rcnet-v3-dashboard.radixdlt.com"},RCnetV3:{networkName:"RCNetV3",networkId:$e.RCnetV3,gatewayUrl:"https://zabanet-gateway.radixdlt.com",dashboardUrl:"https://rcnet-v3-dashboard.radixdlt.com"},Gilganet:{networkName:"Gilganet",networkId:$e.Gilganet,gatewayUrl:"https://gilganet-gateway.radixdlt.com",dashboardUrl:"https://gilganet-dashboard.rdx-works-main.extratools.works"},Enkinet:{networkName:"Enkinet",networkId:$e.Enkinet,gatewayUrl:"https://enkinet-gateway.radixdlt.com",dashboardUrl:"https://enkinet-dashboard.rdx-works-main.extratools.works"},Hammunet:{networkName:"Hammunet",networkId:$e.Hammunet,gatewayUrl:"https://hammunet-gateway.radixdlt.com",dashboardUrl:"https://hammunet-dashboard.rdx-works-main.extratools.works"},Dumunet:{networkName:"Dumunet",networkId:$e.Dumunet,gatewayUrl:"https://dumunet-gateway.radixdlt.com",dashboardUrl:"https://dumunet-dashboard.rdx-works-main.extratools.works"}},nu=Object.values(Ib).reduce((e,t)=>(e[t.networkId]=t,e),{});class Nb{constructor(t,n){this.innerClient=t,this.configuration=n}getValidatorsUptimeFromTo(t,n,r){var a,i;if(t.length>(((a=this.configuration)==null?void 0:a.maxValidatorsUptimeCount)||Bi)){const s=Lr(t,((i=this.configuration)==null?void 0:i.maxValidatorsUptimeCount)||Bi);return Promise.all(s.map(o=>this.getValidatorsUptimeFromTo(o,n,r))).then(o=>o.flat())}return this.innerClient.validatorsUptime({validatorsUptimeRequest:{validator_addresses:t,from_ledger_state:n!==void 0?n instanceof Date?{timestamp:n}:{state_version:n}:void 0,at_ledger_state:r!==void 0?r instanceof Date?{timestamp:r}:{state_version:r}:void 0}}).then(s=>s.validators.items)}getValidatorsUptime(t){return this.innerClient.validatorsUptime({validatorsUptimeRequest:{validator_addresses:t}})}}class Db{constructor(t){this.innerClient=t}getCurrent(){return this.innerClient.gatewayStatus()}getNetworkConfiguration(){return this.innerClient.networkConfiguration()}}class jb{constructor(t){this.innerClient=t}getTransactionsList(t,n){return this.innerClient.streamTransactions({streamTransactionsRequest:{cursor:n,affected_global_entities_filter:t}})}}class qb{constructor(t){this.innerClient=t}getStatus(t){return this.innerClient.transactionStatus({transactionStatusRequest:{intent_hash:t}})}getCommittedDetails(t,n){var r,a,i,s,o,l,u,d,y,f;return this.innerClient.transactionCommittedDetails({transactionCommittedDetailsRequest:{intent_hash:t,opt_ins:{raw_hex:(r=n==null?void 0:n.rawHex)!=null?r:!0,receipt_events:(a=n==null?void 0:n.receiptEvents)!=null?a:!0,receipt_fee_source:(i=n==null?void 0:n.receiptFeeSource)!=null?i:!0,receipt_fee_destination:(s=n==null?void 0:n.receiptFeeDestination)!=null?s:!0,receipt_costing_parameters:(o=n==null?void 0:n.receiptCostingParameters)!=null?o:!0,receipt_fee_summary:(l=n==null?void 0:n.receiptFeeSummary)!=null?l:!0,receipt_state_changes:(u=n==null?void 0:n.receiptStateChanges)!=null?u:!0,affected_global_entities:(d=n==null?void 0:n.affectedGlobalEntities)!=null?d:!0,balance_changes:(y=n==null?void 0:n.balanceChanges)!=null?y:!0,receipt_output:(f=n==null?void 0:n.receiptOutput)!=null?f:!0}}})}}class Zb extends Tl{constructor(t){super(t),Qe(this,"extendedConfiguration"),this.extendedConfiguration=t}get maxAddressesCount(){return this.extendedConfiguration.maxAddressesCount||Eb}get maxNftIdsCount(){return this.extendedConfiguration.maxNftIdsCount||Ob}get maxValidatorsUptimeCount(){return this.extendedConfiguration.maxValidatorsUptimeCount||Bi}}const Fb=e=>e?e.endsWith("/")?e==null?void 0:e.slice(0,-1):e:"";class _a{constructor(t){Qe(this,"state"),Qe(this,"stream"),Qe(this,"status"),Qe(this,"transaction"),Qe(this,"statistics"),Qe(this,"lowLevel"),this.lowLevel={state:new xb(t),stream:new Pb(t),status:new Tb(t),transaction:new Cb(t),statistics:new Sb(t)},this.state=new Rb(this.lowLevel.state,t),this.stream=new jb(this.lowLevel.stream),this.status=new Db(this.lowLevel.status),this.transaction=new qb(this.lowLevel.transaction),this.statistics=new Nb(this.lowLevel.statistics,t)}static initialize(t){const n=_a.constructConfiguration(t);return new _a(n)}static constructConfiguration(t){var n,r,a,i;const s=Fb(t==null?void 0:t.basePath),o=(n=t==null?void 0:t.applicationName)!=null?n:"Unknown";return new Zb({...t,basePath:s,applicationName:o,headers:{...(r=t==null?void 0:t.headers)!=null?r:{},"RDX-Client-Name":"@radixdlt/babylon-gateway-api-sdk","RDX-Client-Version":Ab,"RDX-App-Name":o,"RDX-App-Version":(a=t.applicationVersion)!=null?a:"Unknown","RDX-App-Dapp-Definition":(i=t.applicationDappDefinitionAddress)!=null?i:"Unknown"}})}}const Lb=e=>{const t=e.logger,n=e.requestItemClient,r=e.walletSdk,a=e.gatewayClient,i=new Ae,s=u=>{const d=new Ae;return{eventCallback:y=>{d.next(y)},requestControl:({cancelRequest:y,getRequest:f})=>{oi(d.pipe(pt(g=>g==="receivedByWallet"),ut(()=>f()),H(g=>{g.items.discriminator==="transaction"&&n.patch(u,{showCancel:!1})}))),oi(jn(e.onCancelRequestItem$,i).pipe(pt(g=>g===u),kt(()=>(n.cancel(u),n.updateStatus({id:u,status:"fail",error:"userCancelledRequest"}),y()))))}}},o=(u,d)=>r.request(u,s(d)).map(y=>(t==null||t.debug("walletSuccessResponse",y),y)).mapErr(y=>(t==null||t.debug("walletErrorResponse",y),n.updateStatus({id:d,status:"fail",error:y.error}),y)),l=new ht;return{request:o,sendTransaction:({onTransactionId:u,...d})=>{const{id:y}=n.add("sendTransaction");return r.sendTransaction({version:1,...d},s(y)).mapErr(f=>(n.updateStatus({id:y,status:"fail",error:f.error}),t==null||t.debug(" walletErrorResponse",f),f)).map(f=>(t==null||t.debug(" walletSuccessResponse",f),f)).andThen(({transactionIntentHash:f})=>(u&&u(f),a.pollTransactionStatus(f).map(g=>({transactionIntentHash:f,status:g.status})))).andThen(f=>{const g=[Yo.Rejected,Yo.CommittedFailure].includes(f.status);return n.updateStatus({id:y,status:g?"fail":"success",transactionIntentHash:f.transactionIntentHash}),t==null||t.debug(" Gateway polling finished",f),g?tt({...f,error:"transactionNotSuccessful"}):ge(f)})},extensionStatus$:r.extensionStatus$,requestItems$:n.items$,resetRequestItems:n.reset,cancelRequest:u=>i.next(u),destroy:()=>{n.destroy(),r.destroy(),l.unsubscribe()}}},bt=e=>e,Ub=({basePath:e,dAppDefinitionAddress:t,applicationName:n,applicationVersion:r})=>{const{transaction:a,state:i,status:s}=_a.initialize({basePath:e,applicationName:n||t||"unknown",applicationVersion:r,applicationDappDefinitionAddress:t});return{getTransactionStatus:o=>fe.fromPromise(a.getStatus(o),bt),getTransactionDetails:o=>fe.fromPromise(a.getCommittedDetails(o),bt),getEntityDetails:o=>fe.fromPromise(i.getEntityDetailsVaultAggregated(o),bt),getEntitiesDetails:o=>fe.fromPromise(i.getEntityDetailsVaultAggregated(o),bt),getEntityNonFungibleIds:({accountAddress:o,nftAddress:l,vaultAddress:u})=>fe.fromPromise(i.innerClient.entityNonFungibleIdsPage({stateEntityNonFungibleIdsPageRequest:{address:o,vault_address:u,resource_address:l}}),bt),getNetworkConfiguration:()=>fe.fromPromise(s.getNetworkConfiguration(),bt),transactionApi:a,stateApi:i,statusApi:s}},zb=({maxDelayTime:e=1e4,multiplier:t=2,timeout:n,interval:r=2e3}={})=>{const a=new Ae;let i=0;const s=jn(us(0),a.pipe(ut(()=>(i=i+1,i)))).pipe(kt(l=>{const u=l*r*t,d=u>e?e:u;return ui(d).pipe(ut(()=>ge(l)))})),o=n?jn(s,ui(n).pipe(ut(()=>tt(ln("failedToPollSubmittedTransaction",""))))):s;return{trigger:a,withBackoff$:o}},Vb=e=>{var t;const n=(t=e==null?void 0:e.value)==null?void 0:t.typed;return{stringified:n!=null&&n.value?(n==null?void 0:n.value)||"":n==null?void 0:n.values.join(", ")}},Mb=({gatewayApi:e,logger:t,retryConfig:n})=>({pollTransactionStatus:r=>{const a=zb(n),i=new Set(["CommittedSuccess","CommittedFailure","Rejected"]);return fe.fromPromise(oi(a.withBackoff$.pipe(kt(s=>s.isErr()?[s]:(t==null||t.debug(`pollingTxStatus retry #${s.value+1}`),e.getTransactionStatus(r).map(o=>{if(i.has(o.status))return o;a.trigger.next()}).mapErr(o=>(t==null||t.debug(o),ln("failedToPollSubmittedTransaction",""))))),pt(s=>s.isOk()&&!!s.value||s.isErr()),Eu())),s=>s).andThen(s=>s)},gatewayApi:e}),Bb=()=>({initialized:new se(!1),onChange:new Ae,items:new se([])}),Wb=(e,t,n)=>{const r=n.logger,a=new Set,i=new ht,s=new Map,o=n.subjects||Bb(),l=`${e}:requestItemStore`;t.getData(l).map(m=>{m&&Object.keys(m).forEach(D=>{a.add(D),s.set(D,m[D])}),o.items.next(j())});const u=(m,D)=>o.onChange.next({oldValue:m,newValue:D}),d=m=>({type:m,status:"pending",timestamp:Date.now(),id:crypto.randomUUID(),showCancel:!0}),y=m=>{const D=d(m);return s.set(D.id,D),a.add(D.id),u(void 0,D),r==null||r.trace("addRequestItem",{id:D.id,status:D.status}),D},f=m=>{if(s.has(m)){const D=s.get(m);s.delete(m),a.delete(m),u(D,void 0),r==null||r.trace("removeRequestItem",m)}},g=(m,D)=>{const te=s.get(m);if(te){const re={...te,...D};s.set(m,re),u(te,re),r==null||r.trace("patchRequestItemStatus",re)}},b=m=>{s.has(m)&&(g(m,{status:"fail",error:rr.canceledByUser}),r==null||r.trace("cancelRequestItem",m))},_=()=>{s.clear(),a.clear(),u(void 0,void 0),r==null||r.trace("resetRequestItems")},x=({id:m,status:D,error:te,transactionIntentHash:re})=>{const pe=s.get(m);if(pe){const W={...pe,status:D};W.status==="fail"&&(W.error=te),W.status==="success"&&W.type==="sendTransaction"&&(W.transactionIntentHash=re),s.set(m,W),u(pe,W),r==null||r.trace("updateRequestItemStatus",W)}},O=()=>[...a].reverse(),j=()=>O().map(m=>({id:m,...s.get(m)})).filter(m=>!!m);return i.add(o.onChange.pipe(ut(()=>j()),H(m=>o.items.next(m)),H(()=>{const m=Array.from(s.entries());t.setData(l,Object.fromEntries(m.filter(([,D])=>D.status!=="pending")))})).subscribe()),{add:y,remove:f,cancel:b,updateStatus:x,patch:g,reset:_,destroy:()=>{i.unsubscribe()},items$:o.items,change$:o.onChange.asObservable()}},Kb=e=>{try{return ge(JSON.parse(e))}catch(t){return tt(bt(t))}},Gb=()=>{const e=n=>new Promise((r,a)=>{try{const i=localStorage.getItem(n);return r(i||void 0)}catch(i){return a(i)}}),t=(n,r)=>new Promise((a,i)=>{try{return localStorage.setItem(n,JSON.stringify(r)),a()}catch(s){return i(s)}});return{getData:n=>fe.fromPromise(e(n),bt).andThen(r=>r?Kb(r):ge(void 0)),setData:(n,r)=>fe.fromPromise(t(n,r),bt)}},Hb=e=>t=>{var n,r,a;let i=[];if(e.discriminator==="authorizedRequest"){const s=((n=e.oneTimeAccounts)==null?void 0:n.accounts)??[],o=((r=e.ongoingAccounts)==null?void 0:r.accounts)??[];i=[...s,...o]}else e.discriminator==="unauthorizedRequest"&&(i=((a=e.oneTimeAccounts)==null?void 0:a.accounts)??[]);return oe(t,s=>{s.accounts=i})},ti=e=>{const t=[];return e.name&&t.push({entry:"fullName",fields:e.name}),e.emailAddresses&&t.push({entry:"emailAddresses",fields:e.emailAddresses}),e.phoneNumbers&&t.push({entry:"phoneNumbers",fields:e.phoneNumbers}),t},Jb=e=>t=>oe(t,n=>{e.discriminator==="authorizedRequest"?(e.oneTimePersonaData&&(n.personaData=ti(e.oneTimePersonaData)),e.ongoingPersonaData&&(n.personaData=ti(e.ongoingPersonaData))):e.discriminator==="unauthorizedRequest"&&e.oneTimePersonaData&&(n.personaData=ti(e.oneTimePersonaData))}),$b=e=>t=>oe(t,n=>{var r;e.discriminator==="authorizedRequest"&&(n.persona=(r=e.auth)==null?void 0:r.persona)}),Xb=e=>t=>oe(t,n=>{var r,a,i,s,o,l;if(n.proofs=[],e.discriminator==="authorizedRequest"){if(e.auth.discriminator==="loginWithChallenge"&&n.proofs.push({challenge:e.auth.challenge,proof:e.auth.proof,address:e.auth.persona.identityAddress,type:Tn.persona}),(r=e.ongoingAccounts)!=null&&r.challenge&&(a=e.ongoingAccounts.proofs)!=null&&a.length){const u=e.ongoingAccounts.challenge,d=e.ongoingAccounts.proofs.map(({accountAddress:y,proof:f})=>({proof:f,address:y,challenge:u,type:Tn.account}));n.proofs.push(...d)}if((i=e.oneTimeAccounts)!=null&&i.challenge&&(s=e.oneTimeAccounts.proofs)!=null&&s.length){const u=e.oneTimeAccounts.challenge,d=e.oneTimeAccounts.proofs.map(({accountAddress:y,proof:f})=>({proof:f,address:y,challenge:u,type:Tn.account}));n.proofs.push(...d)}}if(e.discriminator==="unauthorizedRequest"&&(o=e.oneTimeAccounts)!=null&&o.challenge&&(l=e.oneTimeAccounts.proofs)!=null&&l.length){const u=e.oneTimeAccounts.challenge,d=e.oneTimeAccounts.proofs.map(({accountAddress:y,proof:f})=>({proof:f,address:y,challenge:u,type:Tn.account}));n.proofs.push(...d)}}),Qb=e=>ge({accounts:[],personaData:[],proofs:[],persona:void 0}).map(Hb(e)).map(Jb(e)).map($b(e)).map(Xb(e));we({accounts:we({numberOfAccounts:ct,reset:Ue(),oneTime:Ue(),challenge:et().optional()}).optional(),personaData:we({fullName:Ue().optional(),phoneNumbers:ct.optional(),emailAddresses:ct.optional(),reset:Ue(),oneTime:Ue().optional()}).optional(),persona:we({identityAddress:et().optional(),label:et().optional(),challenge:et().optional()}).optional()});const Yb=e=>{const{persona:t,accounts:n,personaData:r}=e,a=!!t,i=(n==null?void 0:n.reset)||(r==null?void 0:r.reset),s=n&&!(n!=null&&n.oneTime),o=r&&!(r!=null&&r.oneTime);return!!(i||s||o||a)},e0=e=>{var t,n,r;return(t=e.persona)!=null&&t.challenge?{discriminator:"loginWithChallenge",challenge:e.persona.challenge}:(n=e.persona)!=null&&n.identityAddress?{discriminator:"usePersona",identityAddress:(r=e.persona)==null?void 0:r.identityAddress}:{discriminator:"loginWithoutChallenge"}},jl=e=>t=>{var n,r;const a={...t},{accounts:i}=e;if(i){const s={challenge:i.challenge,numberOfAccounts:i.numberOfAccounts},o=a.discriminator==="authorizedRequest"&&!((n=e.accounts)!=null&&n.oneTime),l=a.discriminator==="authorizedRequest";(r=e.accounts)!=null&&r.oneTime?a.oneTimeAccounts=s:(o||l)&&(a.ongoingAccounts=s)}return a},ql=e=>t=>{var n,r;const a={...t};if(e.personaData){const{fullName:i,phoneNumbers:s,emailAddresses:o}=e.personaData;(n=e.personaData)!=null&&n.oneTime&&(a.oneTimePersonaData={isRequestingName:i,numberOfRequestedPhoneNumbers:s,numberOfRequestedEmailAddresses:o});const l=a.discriminator==="authorizedRequest"&&!((r=e.personaData)!=null&&r.oneTime),u=a.discriminator==="authorizedRequest";(l||u)&&(a.ongoingPersonaData={isRequestingName:i,numberOfRequestedPhoneNumbers:s,numberOfRequestedEmailAddresses:o})}return a},t0=e=>t=>{const{accounts:n,personaData:r}=e;return{...t,reset:{accounts:!!(n!=null&&n.reset),personaData:!!(r!=null&&r.reset)}}},n0=e=>ge({discriminator:"unauthorizedRequest"}).map(jl(e)).map(ql(e)),r0=e=>ge({discriminator:"authorizedRequest",auth:e0(e)}).map(jl(e)).map(ql(e)).map(t0(e)),a0=(e,t)=>ge(e?oe(t,n=>{n.accounts&&(n.accounts.oneTime=!1,n.accounts.reset=!1),n.personaData&&(n.personaData.oneTime=!1,n.personaData.reset=!1)}):t),i0=(e,t)=>a0(e,t).andThen(n=>Yb(n)?r0(n):n0(n)),s0=({dataRequestState:e,isConnect:t,challenge:n,oneTime:r,stateClient:a})=>i0(t,oe({},i=>{var s;if(e.accounts&&(i.accounts={numberOfAccounts:e.accounts.numberOfAccounts||{quantifier:"atLeast",quantity:1},oneTime:r,reset:!!e.accounts.reset,challenge:e.accounts.withProof?n:void 0}),e.personaData&&(i.personaData={...e.personaData,reset:!!e.personaData.reset,oneTime:r}),!r){const o=a.getState().walletData.persona;a.getState().walletData.persona&&(i.persona=o),(s=e.persona)!=null&&s.withProof&&(i.persona={...i.persona??{},challenge:n}),Object.values(e).length===0&&(i.persona={challenge:void 0})}})),o0=(e,t)=>{var n,r,a,i,s,o,l,u,d,y,f;if(e.discriminator==="authorizedRequest"){const g=((n=e.reset)==null?void 0:n.accounts)||((r=e.reset)==null?void 0:r.personaData),b=!!(e.oneTimeAccounts||e.oneTimePersonaData),_=e.auth.discriminator==="loginWithChallenge"||!!((a=e.oneTimeAccounts)!=null&&a.challenge)||!!((i=e.ongoingAccounts)!=null&&i.challenge);if(g||b||_)return!1;let x=!1;if(e.ongoingAccounts){const{quantifier:O,quantity:j}=e.ongoingAccounts.numberOfAccounts;x=((l=(o=(s=t.sharedData)==null?void 0:s.ongoingAccounts)==null?void 0:o.numberOfAccounts)==null?void 0:l.quantifier)===O&&((y=(d=(u=t.sharedData)==null?void 0:u.ongoingAccounts)==null?void 0:d.numberOfAccounts)==null?void 0:y.quantity)===j}return e.ongoingPersonaData&&(x=Vi(e.ongoingPersonaData,(f=t.sharedData)==null?void 0:f.ongoingPersonaData)),x}return!1},u0=(e,t)=>e.discriminator==="authorizedRequest"?oe({},n=>{n.persona={proof:!1},n.ongoingAccounts={proof:!1,numberOfAccounts:void 0},e.auth.discriminator==="loginWithChallenge"&&(n.persona.proof=!!e.auth.challenge),e.ongoingAccounts&&(n.ongoingAccounts={proof:!!e.ongoingAccounts.challenge,numberOfAccounts:e.ongoingAccounts.numberOfAccounts}),e.ongoingPersonaData&&(n.ongoingPersonaData=e.ongoingPersonaData)}):t,l0=e=>oe({},t=>{e.ongoingAccounts&&(t.accounts={numberOfAccounts:e.ongoingAccounts.numberOfAccounts,withProof:e.ongoingAccounts.proof,reset:!0}),e.ongoingPersonaData&&(t.personaData={fullName:e.ongoingPersonaData.isRequestingName,phoneNumbers:e.ongoingPersonaData.numberOfRequestedPhoneNumbers,emailAddresses:e.ongoingPersonaData.numberOfRequestedEmailAddresses,reset:!0}),e.persona&&(t.persona={withProof:!!e.persona.proof})}),c0=({stateClient:e,requestItemClient:t,walletClient:n,useCache:r,dataRequestStateClient:a,requestInterceptor:i})=>{let s,o,l;const u=x=>{var O,j;return((O=x.accounts)==null?void 0:O.withProof)||((j=x.persona)==null?void 0:j.withProof)},d=x=>{if(!u(x))return Ko(void 0);if(!s)throw new Error("Expected proof but no challenge generator provided");return s()},y=x=>{s=()=>fe.fromPromise(x(),()=>({error:"GenerateChallengeError",message:"Failed to generate challenge"}))},f=x=>{o=O=>x(O)},g=x=>{l=O=>fe.fromPromise(x(O),()=>({error:"LoginRejectedByDapp",message:"Login rejected by dApp"}))},b=(...x)=>_({dataRequestState:a.toDataRequestState(...x),isConnect:!1,oneTime:!0}),_=({isConnect:x,oneTime:O,dataRequestState:j})=>ge(j).asyncAndThen(m=>d(m).andThen(D=>s0({dataRequestState:m,isConnect:x,challenge:D,oneTime:O,stateClient:e}))).andThen(m=>{const D=e.getState();if(o0(m,D)&&r)return Ko(D.walletData);const te=!e.getState().walletData.persona&&m.discriminator==="authorizedRequest";return i({type:"dataRequest",payload:m}).map(re=>{const{id:pe}=t.add(te?"loginRequest":"dataRequest");return{walletDataRequest:re,id:pe}}).andThen(({walletDataRequest:re,id:pe})=>n.request(re,pe).mapErr(({error:W,message:Ee})=>({error:W,message:Ee})).andThen(Qb).andThen(W=>l?l(W).map(()=>(t.updateStatus({id:pe,status:"success"}),W)).mapErr(Ee=>(t.updateStatus({id:pe,status:"fail",error:Ee.error}),Ee)):(t.updateStatus({id:pe,status:"success"}),ge(W))).map(W=>(O||e.setState({loggedInTimestamp:Date.now().toString(),walletData:W,sharedData:u0(re,e.getState().sharedData)}),W)))});return{provideChallengeGenerator:y,provideDataRequestControl:g,provideConnectResponseCallback:f,sendOneTimeRequest:b,setState:(...x)=>(a.setState(...x),{sendRequest:()=>_({dataRequestState:a.getState(),isConnect:!1,oneTime:!1})}),sendRequest:({isConnect:x,oneTime:O})=>{const j=_({isConnect:x,oneTime:O,dataRequestState:a.getState()});return o&&j.map(m=>{o(ge(m))}).mapErr(m=>{o(tt(m))}),j},updateSharedData:()=>_({dataRequestState:l0(e.getState().sharedData),isConnect:!1,oneTime:!1})}},d0=e=>{var t;const n=e.accounts??[],r=((t=e==null?void 0:e.persona)==null?void 0:t.label)??"",a=!!(e!=null&&e.persona),i=e.personaData.map(s=>{if(s.entry==="fullName"){const{variant:o,givenNames:l,familyName:u,nickname:d}=s.fields;return{value:o==="western"?`${l}${d?` "${d}" `:" "}${u}`:`${u}${d?` "${d}" `:" "}${l}`,field:"fullName"}}else{if(s.entry==="emailAddresses")return{value:s.fields[0],field:"emailAddress"};if(s.entry==="phoneNumbers")return{value:s.fields[0],field:"phoneNumber"}}}).filter(s=>!!s&&!!s.value.trim());return{accounts:n,personaLabel:r,connected:a,personaData:i}},p0=e=>{const t=new se(e),n=()=>t.next(e),r=s=>t.next(s),a=()=>t.getValue(),i=(...s)=>s.filter(o=>typeof o._toObject=="function").reduce((o,l)=>({...o,...l._toObject()}),{});return{reset:n,setState:(...s)=>{s.length===0?n():r(i(...s))},getState:a,patchState:(...s)=>{s.length!==0&&r({...a(),...i(...s)})},removeState:(...s)=>{r(oe(a(),o=>{s.forEach(l=>{delete o[l]})}))},toDataRequestState:i,state$:t.asObservable()}},f0=e=>t=>fe.fromPromise(e(t),n=>({error:"requestInterceptorError",jsError:n})),h0=e=>{const{dAppDefinitionAddress:t,networkId:n,providers:r,logger:a,onDisconnect:i,explorer:s,gatewayBaseUrl:o,applicationName:l,applicationVersion:u,useCache:d=!0,requestInterceptor:y=async({payload:S})=>S}=e||{},f=`rdt:${t}:${n}`,g=new se(t),b=new ht,_=(r==null?void 0:r.connectButton)??mm({logger:a});_.setIsMobile(hm());const x=(r==null?void 0:r.gatewayClient)??Mb({logger:a,gatewayApi:Ub({basePath:o??nu[n].gatewayUrl,dAppDefinitionAddress:t,applicationName:l,applicationVersion:u})}),O=(r==null?void 0:r.storageClient)??Gb(),j=(r==null?void 0:r.walletSdk)??kh({logger:a,networkId:n,dAppDefinitionAddress:t}),m=(r==null?void 0:r.requestItemClient)??Wb(f,O,{logger:a}),D=(r==null?void 0:r.walletClient)??Lb({logger:a,onCancelRequestItem$:_.onCancelRequestItem$,walletSdk:j,gatewayClient:x,requestItemClient:m}),te=(r==null?void 0:r.stateClient)??pm(f,O,{logger:a}),re=(r==null?void 0:r.dataRequestStateClient)??p0({}),pe=f0(y),W=(r==null?void 0:r.dataRequestClient)??c0({stateClient:te,requestItemClient:m,walletClient:D,useCache:d,dataRequestStateClient:re,requestInterceptor:pe}),Ee=()=>{m.items$.value.forEach(S=>{S.showCancel&&D.cancelRequest(S.id)}),te.reset(),D.resetRequestItems(),_.disconnect(),i&&i()};b.add(g.pipe(pt(S=>!!S),kt(S=>x.gatewayApi.getEntityDetails(S).map(ue=>Vb(ue==null?void 0:ue.metadata.items.find(Se=>Se.key==="name")).stringified).map(ue=>{_.setDappName(ue??"Unnamed dApp")}))).subscribe()),b.add(D.extensionStatus$.pipe(H(S=>{_.setIsExtensionAvailable(S.isExtensionAvailable),_.setIsWalletLinked(S.isWalletLinked)})).subscribe()),b.add(_.onConnect$.pipe(kt(()=>(te.reset(),W.sendRequest({isConnect:!0,oneTime:!1})))).subscribe()),b.add(_.onLinkClick$.pipe(H(({type:S,data:ue})=>{if(["account","transaction"].includes(S)){const{baseUrl:Se,transactionPath:He,accountsPath:Rt}=s??{baseUrl:nu[n].dashboardUrl,transactionPath:"/transaction/",accountsPath:"/account/"};if(!Se||!window)return;const Wt=`${Se}${S==="transaction"?He:Rt}${ue}`;window.open(Wt)}else S==="setupGuide"?window.open("https://wallet.radixdlt.com"):S==="showQrCode"&&j.openPopup()})).subscribe()),b.add(_.onShowPopover$.pipe(Ba(D.requestItems$),H(([S,ue])=>{ue.filter(Se=>Se.status==="pending").length>0&&_.setActiveTab("requests")})).subscribe()),b.add(_.onDisconnect$.pipe(H(Ee)).subscribe()),b.add(te.state$.pipe(H(S=>{const{personaData:ue,accounts:Se,personaLabel:He,connected:Rt}=d0(S.walletData);_.setLoggedInTimestamp(S.loggedInTimestamp),_.setAccounts(Se),_.setPersonaData(ue),_.setPersonaLabel(He),_.setConnected(Rt)})).subscribe()),b.add(D.requestItems$.pipe(H(S=>_.setRequestItems(S))).subscribe()),b.add(m.change$.pipe(Ba(m.items$),H(([,S])=>{S.find(ue=>ue.status==="pending")&&_.setStatus("pending")}),wa(([S])=>{var ue,Se;const He=(ue=S.newValue)==null?void 0:ue.status;return((Se=S.oldValue)==null?void 0:Se.status)==="pending"&&(He==="success"||He==="fail")?(_.setStatus(He==="success"?"success":"error"),ui(2e3).pipe(Ba(D.requestItems$),H(([Rt,Wt])=>{const Hn=Wt.find(Jn=>Jn.status==="pending");_.setStatus(Hn?"pending":"default")}))):us()})).subscribe()),b.add(jn(_.onUpdateSharedData$).pipe(kt(()=>W.updateSharedData())).subscribe());const _t={state:x.gatewayApi.stateApi,status:x.gatewayApi.statusApi,transaction:x.gatewayApi.transactionApi},Ct={setRequestData:W.setState,sendRequest:()=>W.sendRequest({isConnect:!1,oneTime:!1}),provideChallengeGenerator:S=>W.provideChallengeGenerator(S),dataRequestControl:S=>{W.provideDataRequestControl(S)},provideConnectResponseCallback:W.provideConnectResponseCallback,updateSharedData:()=>W.updateSharedData(),sendOneTimeRequest:W.sendOneTimeRequest,sendTransaction:S=>pe({type:"sendTransaction",payload:S}).andThen(D.sendTransaction),walletData$:te.walletData$,getWalletData:()=>te.getWalletData()},at={setTheme:_.setTheme,setMode:_.setMode,status$:_.status$};return{walletApi:Ct,gatewayApi:_t,buttonApi:at,disconnect:Ee,destroy:()=>{te.destroy(),D.destroy(),b.unsubscribe(),_.destroy()}}};we({numberOfAccounts:ct,withProof:Ue().optional(),reset:Ue().optional()});const m0=()=>{let e=oe({numberOfAccounts:{quantifier:"atLeast",quantity:1}},()=>{});const t={atLeast:n=>(e=oe(e,r=>{r.numberOfAccounts.quantifier="atLeast",r.numberOfAccounts.quantity=n}),t),exactly:n=>(e=oe(e,r=>{r.numberOfAccounts.quantifier="exactly",r.numberOfAccounts.quantity=n}),t),withProof:(n=!0)=>(e=oe(e,r=>{r.withProof=n}),t),reset:(n=!0)=>(e=oe(e,r=>{r.reset=n}),t),_toObject:()=>({accounts:e})};return t};we({withProof:Ue().optional()});const _0=(e={withProof:!1})=>{let t=oe(e,()=>{});const n={withProof:(r=!0)=>(t=oe(t,a=>{a.withProof=r}),n),_toObject:()=>({persona:t})};return n};we({fullName:Ue(),emailAddresses:ct,phoneNumbers:ct,reset:Ue()}).partial();const y0=(e={})=>{let t=oe(e,()=>{});const n=(i=!0)=>(t=oe(t,s=>{s.fullName=i}),a),r=i=>({atLeast:s=>(t=oe(t,o=>{o[i]={quantifier:"atLeast",quantity:s}}),a),exactly:s=>(t=oe(t,o=>{o[i]={quantifier:"exactly",quantity:s}}),a)}),a={fullName:n,emailAddresses:(i=!0)=>(r("emailAddresses").exactly(i?1:0),a),phoneNumbers:(i=!0)=>(r("phoneNumbers").exactly(i?1:0),a),reset:(i=!0)=>(t=oe(t,s=>{s.reset=i}),a),_toObject:()=>({personaData:t})};return a},g0=e=>({_toObject:()=>({...e})}),v0={accounts:m0,personaData:y0,persona:_0,config:g0},b0=Qi([]),Zl=h0({dAppDefinitionAddress:od,networkId:Yi,providers:{}});Zl.walletApi.setRequestData(v0.accounts().atLeast(1));Zl.walletApi.walletData$.subscribe(e=>{b0.set(e.accounts)});function w0(e){let t=e[2],n,r,a=e[2]&&ni(e);return{c(){a&&a.c(),n=Nn()},l(i){a&&a.l(i),n=Nn()},m(i,s){a&&a.m(i,s),Tt(i,n,s),r=!0},p(i,s){i[2]?t?mr(t,i[2])?(a.d(1),a=ni(i),t=i[2],a.c(),a.m(n.parentNode,n)):a.p(i,s):(a=ni(i),t=i[2],a.c(),a.m(n.parentNode,n)):t&&(a.d(1),a=null,t=i[2])},i(i){r||(Ie(a,i),r=!0)},o(i){Ve(a,i),r=!1},d(i){i&&me(n),a&&a.d(i)}}}function k0(e){let t,n,r,a;const i=e[12].default,s=Ki(i,e,e[11],null);let o=[{type:e[1]},e[4],{class:e[3]}],l={};for(let u=0;u<o.length;u+=1)l=nt(l,o[u]);return{c(){t=Pn("button"),s&&s.c(),this.h()},l(u){t=Cn(u,"BUTTON",{type:!0,class:!0});var d=ot(t);s&&s.l(d),d.forEach(me),this.h()},h(){Br(t,l)},m(u,d){Tt(u,t,d),s&&s.m(t,null),t.autofocus&&t.focus(),n=!0,r||(a=[B(t,"click",e[22]),B(t,"change",e[23]),B(t,"keydown",e[24]),B(t,"keyup",e[25]),B(t,"touchstart",e[26],{passive:!0}),B(t,"touchend",e[27]),B(t,"touchcancel",e[28]),B(t,"mouseenter",e[29]),B(t,"mouseleave",e[30])],r=!0)},p(u,d){s&&s.p&&(!n||d[0]&2048)&&Gi(s,i,u,u[11],n?Ji(i,u[11],d,null):Hi(u[11]),null),Br(t,l=_r(o,[(!n||d[0]&2)&&{type:u[1]},d[0]&16&&u[4],(!n||d[0]&8)&&{class:u[3]}]))},i(u){n||(Ie(s,u),n=!0)},o(u){Ve(s,u),n=!1},d(u){u&&me(t),s&&s.d(u),r=!1,ya(a)}}}function x0(e){let t,n,r,a;const i=e[12].default,s=Ki(i,e,e[11],null);let o=[{href:e[0]},e[4],{class:e[3]},{role:"button"}],l={};for(let u=0;u<o.length;u+=1)l=nt(l,o[u]);return{c(){t=Pn("a"),s&&s.c(),this.h()},l(u){t=Cn(u,"A",{href:!0,class:!0,role:!0});var d=ot(t);s&&s.l(d),d.forEach(me),this.h()},h(){Br(t,l)},m(u,d){Tt(u,t,d),s&&s.m(t,null),n=!0,r||(a=[B(t,"click",e[13]),B(t,"change",e[14]),B(t,"keydown",e[15]),B(t,"keyup",e[16]),B(t,"touchstart",e[17],{passive:!0}),B(t,"touchend",e[18]),B(t,"touchcancel",e[19]),B(t,"mouseenter",e[20]),B(t,"mouseleave",e[21])],r=!0)},p(u,d){s&&s.p&&(!n||d[0]&2048)&&Gi(s,i,u,u[11],n?Ji(i,u[11],d,null):Hi(u[11]),null),Br(t,l=_r(o,[(!n||d[0]&1)&&{href:u[0]},d[0]&16&&u[4],(!n||d[0]&8)&&{class:u[3]},{role:"button"}]))},i(u){n||(Ie(s,u),n=!0)},o(u){Ve(s,u),n=!1},d(u){u&&me(t),s&&s.d(u),r=!1,ya(a)}}}function ni(e){let t,n;const r=e[12].default,a=Ki(r,e,e[11],null);let i=[e[4],{class:e[3]}],s={};for(let o=0;o<i.length;o+=1)s=nt(s,i[o]);return{c(){t=Pn(e[2]),a&&a.c(),this.h()},l(o){t=Cn(o,(e[2]||"null").toUpperCase(),{class:!0});var l=ot(t);a&&a.l(l),l.forEach(me),this.h()},h(){Gs(e[2])(t,s)},m(o,l){Tt(o,t,l),a&&a.m(t,null),n=!0},p(o,l){a&&a.p&&(!n||l[0]&2048)&&Gi(a,r,o,o[11],n?Ji(r,o[11],l,null):Hi(o[11]),null),Gs(o[2])(t,s=_r(i,[l[0]&16&&o[4],(!n||l[0]&8)&&{class:o[3]}]))},i(o){n||(Ie(a,o),n=!0)},o(o){Ve(a,o),n=!1},d(o){o&&me(t),a&&a.d(o)}}}function S0(e){let t,n,r,a;const i=[x0,k0,w0],s=[];function o(l,u){return l[0]?0:l[2]==="button"?1:2}return t=o(e),n=s[t]=i[t](e),{c(){n.c(),r=Nn()},l(l){n.l(l),r=Nn()},m(l,u){s[t].m(l,u),Tt(l,r,u),a=!0},p(l,u){let d=t;t=o(l),t===d?s[t].p(l,u):($i(),Ve(s[d],1,1,()=>{s[d]=null}),Xi(),n=s[t],n?n.p(l,u):(n=s[t]=i[t](l),n.c()),Ie(n,1),n.m(r.parentNode,r))},i(l){a||(Ie(n),a=!0)},o(l){Ve(n),a=!1},d(l){l&&me(r),s[t].d(l)}}}function T0(e,t,n){const r=["pill","outline","size","href","type","color","shadow","tag","checked"];let a=An(t,r),{$$slots:i={},$$scope:s}=t;const o=Wi("group");let{pill:l=!1}=t,{outline:u=!1}=t,{size:d=o?"sm":"md"}=t,{href:y=void 0}=t,{type:f="button"}=t,{color:g=o?u?"dark":"alternative":"primary"}=t,{shadow:b=!1}=t,{tag:_="button"}=t,{checked:x=void 0}=t;const O={alternative:"text-gray-900 bg-white border border-gray-200 hover:bg-gray-100 dark:bg-gray-800 dark:text-gray-400 hover:text-primary-700 focus-within:text-primary-700 dark:focus-within:text-white dark:hover:text-white",blue:"text-white bg-blue-700 hover:bg-blue-800 dark:bg-blue-600 dark:hover:bg-blue-700",dark:"text-white bg-gray-800 hover:bg-gray-900 dark:bg-gray-800 dark:hover:bg-gray-700",green:"text-white bg-green-700 hover:bg-green-800 dark:bg-green-600 dark:hover:bg-green-700",light:"text-gray-900 bg-white border border-gray-300 hover:bg-gray-100 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600",primary:"text-white bg-primary-700 hover:bg-primary-800 dark:bg-primary-600 dark:hover:bg-primary-700",purple:"text-white bg-purple-700 hover:bg-purple-800 dark:bg-purple-600 dark:hover:bg-purple-700",red:"text-white bg-red-700 hover:bg-red-800 dark:bg-red-600 dark:hover:bg-red-700",yellow:"text-white bg-yellow-400 hover:bg-yellow-500 ",none:""},j={alternative:"text-primary-700 border dark:text-primary-500 bg-gray-100 dark:bg-gray-700 border-gray-300 shadow-gray-300 dark:shadow-gray-800 shadow-inner",blue:"text-blue-900 bg-blue-400 dark:bg-blue-500 shadow-blue-700 dark:shadow-blue-800 shadow-inner",dark:"text-white bg-gray-500 dark:bg-gray-600 shadow-gray-800 dark:shadow-gray-900 shadow-inner",green:"text-green-900 bg-green-400 dark:bg-green-500 shadow-green-700 dark:shadow-green-800 shadow-inner",light:"text-gray-900 bg-gray-100 border border-gray-300 dark:bg-gray-500 dark:text-gray-900 dark:border-gray-700 shadow-gray-300 dark:shadow-gray-700 shadow-inner",primary:"text-primary-900 bg-primary-400 dark:bg-primary-500 shadow-primary-700 dark:shadow-primary-800 shadow-inner",purple:"text-purple-900 bg-purple-400 dark:bg-purple-500 shadow-purple-700 dark:shadow-purple-800 shadow-inner",red:"text-red-900 bg-red-400 dark:bg-red-500 shadow-red-700 dark:shadow-red-800 shadow-inner",yellow:"text-yellow-900 bg-yellow-300 dark:bg-yellow-400 shadow-yellow-500 dark:shadow-yellow-700 shadow-inner",none:""},m={alternative:"focus-within:ring-gray-200 dark:focus-within:ring-gray-700",blue:"focus-within:ring-blue-300 dark:focus-within:ring-blue-800",dark:"focus-within:ring-gray-300 dark:focus-within:ring-gray-700",green:"focus-within:ring-green-300 dark:focus-within:ring-green-800",light:"focus-within:ring-gray-200 dark:focus-within:ring-gray-700",primary:"focus-within:ring-primary-300 dark:focus-within:ring-primary-800",purple:"focus-within:ring-purple-300 dark:focus-within:ring-purple-900",red:"focus-within:ring-red-300 dark:focus-within:ring-red-900",yellow:"focus-within:ring-yellow-300 dark:focus-within:ring-yellow-900",none:""},D={alternative:"shadow-gray-500/50 dark:shadow-gray-800/80",blue:"shadow-blue-500/50 dark:shadow-blue-800/80",dark:"shadow-gray-500/50 dark:shadow-gray-800/80",green:"shadow-green-500/50 dark:shadow-green-800/80",light:"shadow-gray-500/50 dark:shadow-gray-800/80",primary:"shadow-primary-500/50 dark:shadow-primary-800/80",purple:"shadow-purple-500/50 dark:shadow-purple-800/80",red:"shadow-red-500/50 dark:shadow-red-800/80 ",yellow:"shadow-yellow-500/50 dark:shadow-yellow-800/80 ",none:""},te={alternative:"text-gray-900 dark:text-gray-400 hover:text-white border border-gray-800 hover:bg-gray-900 focus-within:bg-gray-900 focus-within:text-white focus-within:ring-gray-300 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-600 dark:focus-within:ring-gray-800",blue:"text-blue-700 hover:text-white border border-blue-700 hover:bg-blue-800 dark:border-blue-500 dark:text-blue-500 dark:hover:text-white dark:hover:bg-blue-600",dark:"text-gray-900 hover:text-white border border-gray-800 hover:bg-gray-900 focus-within:bg-gray-900 focus-within:text-white dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-600",green:"text-green-700 hover:text-white border border-green-700 hover:bg-green-800 dark:border-green-500 dark:text-green-500 dark:hover:text-white dark:hover:bg-green-600",light:"text-gray-500 hover:text-gray-900 bg-white border border-gray-200 dark:border-gray-600 dark:hover:text-white dark:text-gray-400 hover:bg-gray-50 dark:bg-gray-700 dark:hover:bg-gray-600",primary:"text-primary-700 hover:text-white border border-primary-700 hover:bg-primary-700 dark:border-primary-500 dark:text-primary-500 dark:hover:text-white dark:hover:bg-primary-600",purple:"text-purple-700 hover:text-white border border-purple-700 hover:bg-purple-800 dark:border-purple-400 dark:text-purple-400 dark:hover:text-white dark:hover:bg-purple-500",red:"text-red-700 hover:text-white border border-red-700 hover:bg-red-800 dark:border-red-500 dark:text-red-500 dark:hover:text-white dark:hover:bg-red-600",yellow:"text-yellow-400 hover:text-white border border-yellow-400 hover:bg-yellow-500 dark:border-yellow-300 dark:text-yellow-300 dark:hover:text-white dark:hover:bg-yellow-400",none:""},re={xs:"px-3 py-2 text-xs",sm:"px-4 py-2 text-sm",md:"px-5 py-2.5 text-sm",lg:"px-5 py-3 text-base",xl:"px-6 py-3.5 text-base"},pe=()=>u||g==="alternative"||g==="light";let W;function Ee(A){M.call(this,e,A)}function _t(A){M.call(this,e,A)}function Ct(A){M.call(this,e,A)}function at(A){M.call(this,e,A)}function S(A){M.call(this,e,A)}function ue(A){M.call(this,e,A)}function Se(A){M.call(this,e,A)}function He(A){M.call(this,e,A)}function Rt(A){M.call(this,e,A)}function Wt(A){M.call(this,e,A)}function Hn(A){M.call(this,e,A)}function Jn(A){M.call(this,e,A)}function Ea(A){M.call(this,e,A)}function Oa(A){M.call(this,e,A)}function Aa(A){M.call(this,e,A)}function Ia(A){M.call(this,e,A)}function ne(A){M.call(this,e,A)}function wr(A){M.call(this,e,A)}return e.$$set=A=>{n(39,t=nt(nt({},t),In(A))),n(4,a=An(t,r)),"pill"in A&&n(5,l=A.pill),"outline"in A&&n(6,u=A.outline),"size"in A&&n(7,d=A.size),"href"in A&&n(0,y=A.href),"type"in A&&n(1,f=A.type),"color"in A&&n(8,g=A.color),"shadow"in A&&n(9,b=A.shadow),"tag"in A&&n(2,_=A.tag),"checked"in A&&n(10,x=A.checked),"$$scope"in A&&n(11,s=A.$$scope)},e.$$.update=()=>{n(3,W=ir("text-center font-medium",o?"focus-within:ring-2":"focus-within:ring-4",o&&"focus-within:z-10",o||"focus-within:outline-none","inline-flex items-center justify-center "+re[d],u&&x&&"border dark:border-gray-900",u&&x&&j[g],u&&!x&&te[g],!u&&x&&j[g],!u&&!x&&O[g],g==="alternative"&&(o&&!x?"dark:bg-gray-700 dark:text-white dark:border-gray-700 dark:hover:border-gray-600 dark:hover:bg-gray-600":"dark:bg-transparent dark:border-gray-600 dark:hover:border-gray-700"),u&&g==="dark"&&(o?x?"bg-gray-900 border-gray-800 dark:border-white dark:bg-gray-600":"dark:text-white border-gray-800 dark:border-white":"dark:text-gray-400 dark:border-gray-700"),m[g],pe()&&o&&"border-s-0 first:border-s",o?l&&"first:rounded-s-full last:rounded-e-full"||"first:rounded-s-lg last:rounded-e-lg":l&&"rounded-full"||"rounded-lg",b&&"shadow-lg",b&&D[g],t.disabled&&"cursor-not-allowed opacity-50",t.class))},t=In(t),[y,f,_,W,a,l,u,d,g,b,x,s,i,Ee,_t,Ct,at,S,ue,Se,He,Rt,Wt,Hn,Jn,Ea,Oa,Aa,Ia,ne,wr]}class V0 extends ga{constructor(t){super(),va(this,t,T0,S0,mr,{pill:5,outline:6,size:7,href:0,type:1,color:8,shadow:9,tag:2,checked:10},null,[-1,-1])}}class M0{constructor(t,n){vn(this,"_cachedValues");vn(this,"signal",Qi({}));vn(this,"cachedValues");vn(this,"doNotAttemptKeyUntilMap",new Map);this.cacheMissNoRetryPeriodMillis=t,this.backend=n;const r=n==null?void 0:n.loadAll();this._cachedValues=r!=null?Object.fromEntries(Object.entries(r).map(([a,i])=>[a,Promise.resolve(i)])):{},this.cachedValues=ad(this.signal,()=>this._cachedValues)}async get(t,n){const r=this._cachedValues[t];if(r!=null&&await r!=null)return r;const a=this.doNotAttemptKeyUntilMap.get(t);if(a!=null&&new Date<a)return;const i=n();return this._cachedValues[t]=i,this.signal.set({}),i.then(s=>{s?(this.backend&&this.backend.save(t,s),this.doNotAttemptKeyUntilMap.delete(t)):this.doNotAttemptKeyUntilMap.set(t,new Date(Date.now()+this.cacheMissNoRetryPeriodMillis))}),i}set(t,n){this._cachedValues[t]=n,this.signal.set({}),n.then(r=>{var a;r&&((a=this.backend)==null||a.save(t,r))})}remove(t){var n;delete this._cachedValues[t],this.signal.set({}),(n=this.backend)==null||n.remove(t)}count(){return Object.keys(this._cachedValues).length}}class B0{constructor(t){vn(this,"items");this.cacheKey=t,this.items=JSON.parse(localStorage.getItem(t)??"{}")}save(t,n){this.items[t]=n,localStorage.setItem(this.cacheKey,JSON.stringify(this.items))}remove(t){delete this.items[t],localStorage.setItem(this.cacheKey,JSON.stringify(this.items))}loadAll(){return this.items}}function W0(){const e=`!${Js}cache-version`;return localStorage.getItem(e)!==$s?(Object.keys(localStorage).forEach(n=>{n.startsWith(Js)&&localStorage.removeItem(n)}),localStorage.setItem(e,$s),{reloadRequired:!0}):{reloadRequired:!1}}export{V0 as B,fd as C,I0 as E,q0 as K,Js as L,N0 as M,Yi as N,M0 as P,D0 as S,U0 as a,z0 as b,b0 as c,cd as d,j0 as e,Z0 as f,B0 as g,L0 as h,W0 as m,Zl as r,F0 as s};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
