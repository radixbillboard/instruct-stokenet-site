import{s as k,e as m,c as u,a as b,d as f,f as d,i as x,J as y,y as $,z as w,x as I,g as _,n as h,t as S,b as C,h as M}from"../chunks/scheduler.lhSkUUv0.js";import{S as D,i as E,t as v,c as V,a as g,g as j,b as z,d as A,m as q,e as H}from"../chunks/index.Vy-CRx4D.js";import{S as J}from"../chunks/entityCache.NalFR0CB.js";import{m as L}from"../chunks/ManifestSharer.ONSX5J0R.js";import{g as P}from"../chunks/entry.1RC_gmS0.js";import{m as T}from"../chunks/manifestManager.JfbjvzZD.js";function B(i){let t,e,s,a,l="Loading shared manifest",r;return e=new J({props:{color:"gray",size:"24"}}),{c(){t=m("div"),z(e.$$.fragment),s=$(),a=m("div"),a.textContent=l,this.h()},l(o){t=u(o,"DIV",{class:!0});var n=b(t);A(e.$$.fragment,n),s=w(n),a=u(n,"DIV",{class:!0,"data-svelte-h":!0}),I(a)!=="svelte-1whps2g"&&(a.textContent=l),n.forEach(f),this.h()},h(){d(a,"class","font-semibold text-2xl"),d(t,"class","w-fit flex flex-col justify-center items-center gap-8")},m(o,n){x(o,t,n),q(e,t,null),_(t,s),_(t,a),r=!0},p:h,i(o){r||(g(e.$$.fragment,o),r=!0)},o(o){v(e.$$.fragment,o),r=!1},d(o){o&&f(t),H(e)}}}function F(i){let t,e;return{c(){t=m("h5"),e=S(i[0]),this.h()},l(s){t=u(s,"H5",{class:!0});var a=b(t);e=C(a,i[0]),a.forEach(f),this.h()},h(){d(t,"class","text-6xl font-semibold text-slate-700")},m(s,a){x(s,t,a),_(t,e)},p(s,a){a&1&&M(e,s[0])},i:h,o:h,d(s){s&&f(t)}}}function G(i){let t,e,s,a;const l=[F,B],r=[];function o(n,c){return n[0]?0:1}return e=o(i),s=r[e]=l[e](i),{c(){t=m("div"),s.c(),this.h()},l(n){t=u(n,"DIV",{class:!0});var c=b(t);s.l(c),c.forEach(f),this.h()},h(){d(t,"class","w-full h-full flex justify-center items-center border-t border-slate-300")},m(n,c){x(n,t,c),r[e].m(t,null),a=!0},p(n,[c]){let p=e;e=o(n),e===p?r[e].p(n,c):(j(),v(r[p],1,1,()=>{r[p]=null}),V(),s=r[e],s?s.p(n,c):(s=r[e]=l[e](n),s.c()),g(s,1),s.m(t,null))},i(n){a||(g(s),a=!0)},o(n){v(s),a=!1},d(n){n&&f(t),r[e].d()}}}function K(i,t,e){let s="";return y(async()=>{const a=window.location.hash.substring(1);if(!a){e(0,s="Invalid link");return}const l=await L.retrieveManifest(a);if(!l){e(0,s="Invalid link");return}await T.importSharedManifestAndActivate(l),await P("/")}),[s]}class X extends D{constructor(t){super(),E(this,t,K,G,k,{})}}export{X as component};
